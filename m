Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261579AbUKELMi@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261579AbUKELMi (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 5 Nov 2004 06:12:38 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262648AbUKELMi
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 5 Nov 2004 06:12:38 -0500
Received: from mail4.speakeasy.net ([216.254.0.204]:30679 "EHLO
	mail4.speakeasy.net") by vger.kernel.org with ESMTP id S261579AbUKELMZ
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Fri, 5 Nov 2004 06:12:25 -0500
Date: Fri, 05 Nov 2004 23:54:28 +0800
Subject: Re: 2.6.10-rc1-mm3
Message-ID: <30343dce20fee9f7f9aa7337883f8700@localhost.localdomain>
MIME-Version: 1.0 (Generated by Pantomime 1.2.0)
From: Michael Baehr <lkml@delysid.frap.net>
To: Ingo Molnar <mingo@elte.hu>
Cc: Andrew Morton <akpm@osdl.org>, linux-kernel@vger.kernel.org,
       Andi Kleen <ak@suse.de>
Reply-To: lkml@delysid.frap.net
Organization: Metawire Open Hosting Network
In-Reply-To: <20041105101723.GA4667@elte.hu>
X-Mailer: GNUMail (Version 1.2.0)
Content-Type: text/plain; charset="us-ascii"; format="flowed"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On 2004-11-05 04:17:23 -0600 Ingo Molnar <mingo@elte.hu> wrote:

> 
> * Andrew Morton <akpm@osdl.org> wrote:
> 
>> - Added Andi's 4-level-pagetable patches.  It's tested on x86, 
>> x86_64, ia64
>>    and ppc64.  These are fairly intrusive patches and I'll probably 
>> push them
>>    upstream soon.
> 
> make it compile on x86 with !REGPARM (default):
> 
> Signed-off-by: Ingo Molnar <mingo@elte.hu>
> 
> --- linux/arch/i386/mm/pgtable.c.orig
> +++ linux/arch/i386/mm/pgtable.c
> @@ -221,7 +221,7 @@ void pgd_dtor(void *pgd, kmem_cache_t *c
> 	spin_unlock_irqrestore(&pgd_lock, flags);
> }
> 
> -pgd_t *__pgd_alloc(struct mm_struct *mm, pml4_t *pml4, unsigned long 
> address)
> +pgd_t fastcall *__pgd_alloc(struct mm_struct *mm, pml4_t *pml4, 
> unsigned 
> long address)
> {
> 	int i;
> 	pgd_t *pgd = kmem_cache_alloc(pgd_cache, GFP_KERNEL);
> -

I was about to whine to LKML about how I couldn't build rc1-mm3 until 
I saw your patch.  This fixes it.  Thank you :)

Cheers,

- Mike

