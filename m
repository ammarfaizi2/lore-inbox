Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262754AbUBZKBW (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 26 Feb 2004 05:01:22 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262756AbUBZKBW
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 26 Feb 2004 05:01:22 -0500
Received: from iramx2.ira.uni-karlsruhe.de ([141.3.10.81]:58327 "EHLO
	iramx2.ira.uni-karlsruhe.de") by vger.kernel.org with ESMTP
	id S262754AbUBZKBR (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 26 Feb 2004 05:01:17 -0500
Message-ID: <403DC3E7.9030801@atis.uka.de>
Date: Thu, 26 Feb 2004 11:01:11 +0100
From: Lothar Roth <lroth@atis.uka.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: de-de, de, en-us, en
MIME-Version: 1.0
To: linux-kernel@vger.kernel.org
CC: vk@mail.lns.cornell.edu
Subject: Re: kernel 2.6.x, no mouse, i8042???
References: <200402251349.11791.vk@mail.lns.cornell.edu>
In-Reply-To: <200402251349.11791.vk@mail.lns.cornell.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Valentine Kouznetsov wrote:
> Hi,
> I post already that I cannot get my mouse work in any 2.6 kernel. Searching 
> kernel archive I found discussion about i8042. I would appreciate if someone 
> will help me to find out what is wrong with all of these.
> 
> My problem is trivial, no mouse at all, in console and X modes. No error 
> messages generated by kernel. Mouse is PS/2 as touchpad on Compaq Evo N600c
> laptop. Kernel says: "mice: PS/2 mouse device common for all mice"
> 
> Following discussion about similar problem a few people suggested to look at 
> i8042.nomux option. Well, I did. First of all I found that loading kernel 
> without any option gave me the following output:
> i8042.c: Detected active multiplexing controller, rev 1.0.
> serio: i8042 AUX0 port at 0x60,0x64 irq 12
> serio: i8042 AUX1 port at 0x60,0x64 irq 12
> serio: i8042 AUX2 port at 0x60,0x64 irq 12
> serio: i8042 AUX3 port at 0x60,0x64 irq 12
> serio: i8042 KBD port at 0x60,0x64 irq 1
> which I consider to be suspisious since 4 aux ports are on the same irq?
> 
> Loading kernel with nomux option gave me:
> serio: i8042 AUX port at 0x60,0x64 irq 12
> serio: i8042 KBD port at 0x60,0x64 irq 1
> but still no mouse. I also tried noaux option which only detect keyboard.
> I tried /dev/psaux and /dev/input/mice for all of these cases with no success. 
> What is also strange that trying /dev/input/mouse[0-X] gave oops for gpm 
> saying there is no such device???
> 
> For interesting parties I attach dmesg outputs. If someone want me to try 
> anything else I can give a shot to figure/fix this problem.
> 
> I'm not on a list, please CC me.
> 
> Thanks,
> Valentine.

Hi,

I had a similar problem with recent kernel 2.6.x and gpm.
Solution : the psmouse module is missing
   modprobe psmouse
and the mouse is immediately available, no restart of gpm necessary !
lsmod shows that noone (count == 0) is using the module !
Removing the module and the mouse is away.

Hope this my help you,
Lothar
