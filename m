Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262177AbTJND6S (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 13 Oct 2003 23:58:18 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262181AbTJND6S
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 13 Oct 2003 23:58:18 -0400
Received: from fw.osdl.org ([65.172.181.6]:9899 "EHLO mail.osdl.org")
	by vger.kernel.org with ESMTP id S262177AbTJND6Q (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Mon, 13 Oct 2003 23:58:16 -0400
Date: Mon, 13 Oct 2003 20:56:59 -0700
From: "Randy.Dunlap" <rddunlap@osdl.org>
To: lkml <linux-kernel@vger.kernel.org>
Cc: ndiamond@wta.att.ne.jp
Subject: Re: 2.6.0-test7 and HIDBP
Message-Id: <20031013205659.28170d7f.rddunlap@osdl.org>
Organization: OSDL
X-Mailer: Sylpheed version 0.9.4 (GTK+ 1.2.10; i686-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


Norman Diamond wrote:
| Or maybe there are bugs in both of these front-ends.  I finally thought of
| looking at two .config files in text editors, one produced by make xconfig
| and one produced by make gconfig.  Both are for kernel 2.6.0-test7 though
| the machines and original distros are different.

Hi Norman,

I just tested make menuconfig/xconfig/gconfig and got the same results
from all 3 of them.

| In the .config generated by make xconfig, the following lines exist:
| 
| #
| # USB Human Interface Devices (HID)
| #
| CONFIG_USB_HID=m
| CONFIG_USB_HIDINPUT=y
| # CONFIG_HID_FF is not set
| # CONFIG_USB_HIDDEV is not set
| 
| #
| # USB HID Boot Protocol drivers
| #
| # CONFIG_USB_KBD is not set
| # CONFIG_USB_MOUSE is not set
| # CONFIG_USB_AIPTEK is not set
| # CONFIG_USB_WACOM is not set
| [...]

USB_KBD and USB_MOUSE show up here (above) because USB_HID=m.
Somehow it got changed to USB_HID=y in the config file below,
and that changes the rules for some of the items under it.

| OK, aside from making me wonder what HIDDEV refers to and why it isn't set,
| and making it rather non-obvious which drivers are HID Boot Protocol and
| which aren't, the settings look pretty reasonable to me.
| 
| In the .config generated by make gconfig, the following lines exist:
| 
| #
| # USB Human Interface Devices (HID)
| #
| CONFIG_USB_HID=y
| CONFIG_USB_HIDINPUT=y
| # CONFIG_HID_FF is not set
| CONFIG_USB_HIDDEV=y
| # CONFIG_USB_AIPTEK is not set
| # CONFIG_USB_WACOM is not set
| [...]
| 
| With this file in a text editor, searching for string USB_KBD results in the
| string not being found.

I think that Roman Zippel already replied to this, but you won't
find USB_KBD there because USB_HID=y and they are mutually
exclusive.

In summary, I checked again and still don't see a problem.

--
~Randy
