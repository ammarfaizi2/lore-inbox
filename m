Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932409AbWADDYk@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932409AbWADDYk (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 3 Jan 2006 22:24:40 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932429AbWADDYk
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 3 Jan 2006 22:24:40 -0500
Received: from bay103-f40.bay103.hotmail.com ([65.54.174.50]:58225 "EHLO
	hotmail.com") by vger.kernel.org with ESMTP id S932409AbWADDYj
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Tue, 3 Jan 2006 22:24:39 -0500
Message-ID: <BAY103-F400667AF1AF50590C4990CDF2F0@phx.gbl>
X-Originating-IP: [68.75.53.186]
X-Originating-Email: [dravet@hotmail.com]
In-Reply-To: <20060104010841.GA19541@kroah.com>
From: "Jason Dravet" <dravet@hotmail.com>
To: greg@kroah.com
Cc: linux-kernel@vger.kernel.org, linux-parport@lists.infradead.org
Subject: Re: [RFC]: add sysfs support to parport_pc, v3
Date: Tue, 03 Jan 2006 21:24:39 -0600
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 04 Jan 2006 03:24:39.0312 (UTC) FILETIME=[6530D100:01C610DE]
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

>From: Greg KH <greg@kroah.com>
> > +++ /usr/src/linux-2.6.14/drivers/parport/parport_pc.c	2006-01-01
> > 11:29:05.000000000 -0600
>
>Line wrapped so it can't be applied :(
>
> > + * Added sysfs and udev - Jason Dravet <dravet@hotmail.com>
> >  */
>
>Doesn't belong here, this goes in the change log.
My mistake.

> > +#include <linux/sysfs.h>
>
>Your email client also ate the leading spaces :(
My email client is hotmail.  I have come to realize how much hotmail sucks 
for email.  It eats the leading spaces, converts tabs to spaces, and line 
wraps.  I will work on getting a new mail account.

> > +	class_device_create(parallel_class, NULL, MKDEV(6, countports),
> > NULL, "lp%i", countports);
> > +	class_device_create(parallel_class, NULL, MKDEV(99, countports),
> > NULL, "parport%i", countports);
> > +	countports++;
>
>What does the 6 and 99 come from?  Aren't these #defined in a header file 
>somewhere?
Good question.  The answer is I have no idea.  I booted Fedora Core and I 
did a ls -l /dev and wrote down the specs for lp0 and parport0.  lp0 looked 
like crw-rw----  root   lp   6,  0  date  lp0 so that is what I used.  After 
reading Linux Device Drivers I found out that 6 is the major number and 0 is 
the minor number.  The goal was to make sure that the nodes generated by my 
patch were the same as the nodes generated before my patch so I used those 
numbers.  Should I have used different major numbers?

Thanks,
Jason


