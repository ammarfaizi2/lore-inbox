Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S289661AbSBERWb>; Tue, 5 Feb 2002 12:22:31 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S289667AbSBERWV>; Tue, 5 Feb 2002 12:22:21 -0500
Received: from mail4.messagelabs.com ([212.125.75.12]:29444 "HELO
	mail4.messagelabs.com") by vger.kernel.org with SMTP
	id <S289661AbSBERWH>; Tue, 5 Feb 2002 12:22:07 -0500
X-VirusChecked: Checked
Date: Tue, 5 Feb 2002 17:22:00 +0000 (GMT)
From: Catalin Marinas <c_marinas@yahoo.com>
X-X-Sender: marinasc@stargate.simoco.com
To: Roy Sigurd Karlsbakk <roy@karlsbakk.net>
cc: linux-kernel@vger.kernel.org
Subject: Re: opening a bzImage?
In-Reply-To: <Pine.LNX.4.30.0202051538440.13346-100000@mustard.heime.net>
Message-ID: <Pine.LNX.4.44.0202051709310.25708-100000@stargate.simoco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Tue, 5 Feb 2002, Roy Sigurd Karlsbakk wrote:

> I have this bzImage file given to me from a company. They don't want to
> give me the .config, but I need it, so I thought I'd try to
>
>  - open the bzImage to a vmlinux
>  - list the .o's in the vmlinux
>
> Is this possible?

No. Even if you decompress the image you can't list the .o files. The
decompressed image is not an archive (created with ar). It is a raw binary
file generated by objcopy.

Anyway, if you still want to decompress it, the gzip'ed parts does not
start from the beginning. In front of the kernel image might be a boot
sector and some other code for decompressing it, video initialization etc.
Look after the gzip signature (0x1F 0x8B I think) in your bzImage file.
Cut the data before this and use "gzip -d" to decompress it.

> Btw.. Does GPL require them to give me the .config file?

IANAL but I don't think so, there is no code from it to compile and
include in the kernel image. It just defines what the image contains.

-- 
Catalin


________________________________________________________________________
This email has been scanned for all viruses by the MessageLabs SkyScan
service. For more information on a proactive anti-virus service working
around the clock, around the globe, visit http://www.messagelabs.com
________________________________________________________________________
