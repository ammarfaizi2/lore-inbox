Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S317640AbSHHREu>; Thu, 8 Aug 2002 13:04:50 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S317661AbSHHREu>; Thu, 8 Aug 2002 13:04:50 -0400
Received: from e2.ny.us.ibm.com ([32.97.182.102]:49350 "EHLO e2.ny.us.ibm.com")
	by vger.kernel.org with ESMTP id <S317640AbSHHREt>;
	Thu, 8 Aug 2002 13:04:49 -0400
Importance: Normal
Sensitivity: 
Subject: Re: IPC lock patch performance improvement
To: Hugh Dickins <hugh@veritas.com>
Cc: linux-kernel@vger.kernel.org, <lse-tech@lists.sourceforge.net>,
       "Mingming Cao" <mcao@us.ibm.com>, "Bill Hartner" <bhartner@us.ibm.com>
X-Mailer: Lotus Notes Release 5.0.3 (Intl) 21 March 2000
Message-ID: <OFBEE63191.1F5A478E-ON85256C0F.005C6B06@pok.ibm.com>
From: "Duc Vianney" <dvianney@us.ibm.com>
Date: Thu, 8 Aug 2002 12:08:07 -0500
X-MIMETrack: Serialize by Router on D01ML072/01/M/IBM(Release 5.0.10 SPR# MIAS5B3GZN |June
 28, 2002) at 08/08/2002 01:08:08 PM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org



>Please show me I'm wrong, but so far as I can see (from source and
>breakpoints) LMbench never touches the SysV IPC code, which is the only
>code affected by Mingming's proposed IPC locking changes.  I believe
>LMbench tests InterProcessCommunication via pipes and sockets,
>not via the SysV IPC msg sem and shm.

Your observation was correct.

LMbench tests Interprocess communication using pipes and sockets.
Mingming Cao's IPC lock patch was not touched by LMbench.

The reason for the performance gain when applying the patch is not
yet clear and under investigation. I will share my analysis once it
is completed. I do realize that there is a variance in the data
generated by LMbench.

Duc.





