Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S313635AbSDPIlf>; Tue, 16 Apr 2002 04:41:35 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S313637AbSDPIle>; Tue, 16 Apr 2002 04:41:34 -0400
Received: from rj.SGI.COM ([204.94.215.100]:2264 "EHLO rj.sgi.com")
	by vger.kernel.org with ESMTP id <S313635AbSDPIlc>;
	Tue, 16 Apr 2002 04:41:32 -0400
X-Mailer: exmh version 2.2 06/23/2000 with nmh-1.0.4
From: Keith Owens <kaos@ocs.com.au>
To: linux-kernel@vger.kernel.org
Subject: 2.5.8 full compile - errors 
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Tue, 16 Apr 2002 18:41:21 +1000
Message-ID: <15031.1018946481@kao2.melbourne.sgi.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

I did a full compile of 2.5.8 for i386 and found 87 config entries
that, when selected, result in error messages.  This is down from 116
in 2.5.8-pre3.  No need to copy me on replies, just fix the code.

I know that some have already been fixed in bk for 2.5, this list is
against base 2.5.8.

The offending CONFIG_ entries.

INTERMEZZO_FS           JFS_FS                  CYCLADES               
SYNCLINK                BLK_CPQ_DA              BLK_DEV_DAC960         
BLK_DEV_NBD             ROADRUNNER              RCPCI                  
TLAN                    SBNI                    DEFXX                  
VIDEO_ZR36120           VIDEO_ZORAN             VIDEO_STRADIS          
IPHASE5526              FARSYNC                 BLK_DEV_HPT34X         
BLK_DEV_TRM290          BLK_DEV_ATARAID         BLK_DEV_ATARAID_PDC    
BLK_DEV_ATARAID_HPT     SCSI_ADVANSYS           SCSI_PCI2000           
SCSI_PCI2220I           SCSI_BUSLOGIC           SCSI_DPT_I2O           
SCSI_AHA152X            SCSI_AHA1740            SCSI_IPS               
SCSI_FD_MCS             SCSI_FUTURE_DOMAIN      SCSI_IN2000            
SCSI_GENERIC_NCR5380    SCSI_NCR53C406A         SCSI_SYM53C416         
SCSI_PAS16              SCSI_SEAGATE            SCSI_T128              
SCSI_DMX3191D           SCSI_DTC3280            SCSI_NCR53C7xx         
SCSI_EATA_DMA           SCSI_EATA_PIO           SCSI_IBMMCA            
SCSI_DC390T             SCSI_AM53C974           SCSI_MEGARAID          
SCSI_ACARD              SCSI_GDTH               SCSI_INITIO            
SCSI_INIA100            SCSI_DEBUG              SCSI_CPQFCTS           
IEEE1394_PCILYNX        SBPCD                   SBPCD2                 
SBPCD3                  SBPCD4                  SOUND_MSNDCLAS         
SOUND_MSNDPIN           MTD_BLKMTD              FTL                    
NFTL                    FB_CYBER2000            USB_STORAGE_DATAFAB    
USB_STORAGE_JUMPSHOT    I2O_PCI                 I2O                    
I2O_BLOCK               I2O_LAN                 I2O_SCSI               
PHONE_IXJ               MD_RAID5                MD_MULTIPATH           
NET_DIVERT              CYBERSTORM_SCSI         CYBERSTORMII_SCSI      
BLZ2060_SCSI            BLZ1230_SCSI            FASTLANE_SCSI          
OKTAGON_SCSI            SCSI_MAC_ESP            SCSI_MCA_53C9X         
SCSI_DECNCR             JAZZ_ESP                SUN3X_ESP              

The errors generated by those configs, cleaned up a bit to remove
repetition.

fs/intermezzo/vfs.c: In function `presto_do_create':
fs/intermezzo/vfs.c:410: structure has no member named `i_zombie'
fs/intermezzo/vfs.c:460: structure has no member named `p_pptr'
....  Repeat ad nauseum for other intermezzo objects.

fs/jfs/jfs_metapage.c: In function `sync_metapage':
fs/jfs/jfs_metapage.c:518: structure has no member named `buffers'

drivers/char/cyclades.c: In function `cy_detect_pci':
drivers/char/cyclades.c:5096: structure has no member named `resource'
drivers/char/cyclades.c:5097: structure has no member named `res_start'
drivers/char/cyclades.c:5098: structure has no member named `res_len'
drivers/char/cyclades.c:5286: structure has no member named `resource'
drivers/char/cyclades.c:5287: structure has no member named `res_start'
drivers/char/cyclades.c:5288: structure has no member named `res_len'

drivers/char/synclink.c:63: #error Please convert me to Documentation/DMA-mapping.txt

In file included from drivers/block/cpqarray.c:61:
drivers/block/smart1,2.h:255: #error Please convert me to Documentation/DMA-mapping.txt

In file included from drivers/block/DAC960.c:49:
drivers/block/DAC960.h:2576: #error I am a non-portable driver, please convert me to use the Documentation/DMA-mapping.txt interfaces
drivers/block/DAC960.c: In function `DAC960_RegisterBlockDevice':
drivers/block/DAC960.c:1948: too few arguments to function `blk_init_queue'
drivers/block/DAC960.c:1961: structure has no member named `MaxSectorsPerRequest'

drivers/block/nbd.c: In function `nbd_do_it':
drivers/block/nbd.c:243: structure has no member named `queue_lock'
....

drivers/net/rrunner.c:24: #error Please convert me to Documentation/DMA-mapping.txt

drivers/net/rcpci45.c:47: #error Please convert me to Documentation/DMA-mapping.txt

drivers/net/tlan.c:163: #error Please convert me to Documentation/DMA-mapping.txt

drivers/net/Space.c:701: `name' undeclared here (not in a function)
drivers/net/Space.c:701: parse error before `:'
....

drivers/net/defxx.c:202: #error Please convert me to Documentation/DMA-mapping.txt

drivers/media/video/zr36120.c:1501: unknown field `open' specified in initializer
drivers/media/video/zr36120.c:1502: unknown field `close' specified in initializer
drivers/media/video/zr36120.c:1503: unknown field `read' specified in initializer
....

drivers/media/video/zr36067.c: In function `zoran_open':
drivers/media/video/zr36067.c:3267: structure has no member named `busy'

drivers/media/video/stradis.c: In function `saa_open':
drivers/media/video/stradis.c:1949: structure has no member named `busy'
drivers/media/video/stradis.c: In function `saa_close':
drivers/media/video/stradis.c:1961: structure has no member named `busy'
drivers/media/video/stradis.c: At top level:
drivers/media/video/stradis.c:1974: unknown field `open' specified in initializer
drivers/media/video/stradis.c:1975: unknown field `close' specified in initializer
....

drivers/net/fc/iph5526.c: In function `add_to_sest':
drivers/net/fc/iph5526.c:4281: structure has no member named `address'
....

drivers/net/wan/farsync.c: In function `fst_init_card':
drivers/net/wan/farsync.c:1472: structure has no member named `rmem_start'
drivers/net/wan/farsync.c:1474: structure has no member named `rmem_end'

drivers/ide/hpt34x.c: In function `hpt34x_dmaproc':
drivers/ide/hpt34x.c:328: incompatible type for argument 2 of `ide_build_dmatable'
drivers/ide/hpt34x.c:328: too few arguments to function `ide_build_dmatable'
drivers/ide/hpt34x.c:330: structure has no member named `dmatable_dma'

drivers/ide/trm290.c: In function `trm290_dmaproc':
drivers/ide/trm290.c:189: incompatible type for argument 2 of `ide_build_dmatable'
drivers/ide/trm290.c:189: too few arguments to function `ide_build_dmatable'
drivers/ide/trm290.c:192: structure has no member named `dmatable_dma'

drivers/ide/ataraid.c: In function `ataraid_make_request':
drivers/ide/ataraid.c:105: structure has no member named `b_rdev'
drivers/ide/ataraid.c: In function `ataraid_split_request':
drivers/ide/ataraid.c:182: structure has no member named `b_rsector'
drivers/ide/ataraid.c:193: too many arguments to function `generic_make_request'
drivers/ide/ataraid.c:194: too many arguments to function `generic_make_request'
drivers/ide/ataraid.c: In function `ataraid_init':
drivers/ide/ataraid.c:249: `hardsect_size' undeclared (first use in this function)
drivers/ide/ataraid.c: In function `ataraid_exit':
drivers/ide/ataraid.c:289: `hardsect_size' undeclared (first use in this function)

drivers/ide/pdcraid.c: In function `pdcraid0_make_request':
drivers/ide/pdcraid.c:214: structure has no member named `b_rsector'
drivers/ide/pdcraid.c:228: structure has no member named `b_rdev'
drivers/ide/pdcraid.c:235: structure has no member named `b_rdev'
drivers/ide/pdcraid.c:235: structure has no member named `b_rdev'
drivers/ide/pdcraid.c:277: structure has no member named `b_rdev'
drivers/ide/pdcraid.c:278: structure has no member named `b_rsector'
....

drivers/ide/hptraid.c: In function `hptraid_make_request':
drivers/ide/hptraid.c:149: structure has no member named `b_rsector'
drivers/ide/hptraid.c:163: structure has no member named `b_rdev'
drivers/ide/hptraid.c:170: structure has no member named `b_rdev'
drivers/ide/hptraid.c:217: structure has no member named `b_rdev'
drivers/ide/hptraid.c:218: structure has no member named `b_rsector'
....

drivers/scsi/advansys.c:755: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/advansys.c: In function `advansys_queuecommand':
drivers/scsi/advansys.c:5875: incompatible type for argument 1 of `_raw_spin_lock'
drivers/scsi/advansys.c: In function `asc_build_req':
drivers/scsi/advansys.c:6754: structure has no member named `address'
....

drivers/scsi/pci2000.c: In function `Pci2000_QueueCommand':
drivers/scsi/pci2000.c:508: structure has no member named `address'
drivers/scsi/pci2000.c:531: structure has no member named `address'

drivers/scsi/pci2220i.c:37: #error Convert me to understand page+offset based scatterlists
drivers/scsi/pci2220i.c: In function `WalkScatGath':
drivers/scsi/pci2220i.c:468: structure has no member named `address'
....

drivers/scsi/BusLogic.c:32: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/BusLogic.c: In function `BusLogic_QueueCommand':
drivers/scsi/BusLogic.c:3406: structure has no member named `address'

drivers/scsi/dpt_i2o.c:31: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/dpt_i2o.c: In function `adpt_scsi_to_i2o':
drivers/scsi/dpt_i2o.c:2145: structure has no member named `address'

drivers/scsi/aha152x.c: In function `aha152x_internal_queue':
drivers/scsi/aha152x.c:1497: structure has no member named `address'
....

drivers/scsi/aha1740.c: In function `aha1740_queuecommand':
drivers/scsi/aha1740.c:400: structure has no member named `address'

drivers/scsi/ips.c:143: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/ips.c: In function `ips_next':
drivers/scsi/ips.c:3783: structure has no member named `address'
....

drivers/scsi/fd_mcs.c: In function `fd_mcs_intr':
drivers/scsi/fd_mcs.c:1045: structure has no member named `address'
....

drivers/scsi/fdomain.c: In function `do_fdomain_16x0_intr':
drivers/scsi/fdomain.c:1568: structure has no member named `address'
....

drivers/scsi/in2000.c: In function `in2000_queuecommand':
drivers/scsi/in2000.c:358: structure has no member named `address'
....

drivers/scsi/NCR5380.c: In function `initialize_SCp':
In file included from drivers/scsi/g_NCR5380.c:749:
drivers/scsi/NCR5380.c:340: structure has no member named `address'
drivers/scsi/NCR5380.c: In function `NCR5380_timer_fn':
In file included from drivers/scsi/g_NCR5380.c:749:
drivers/scsi/NCR5380.c:619: `io_request_lock' undeclared (first use in this function)
....

drivers/scsi/NCR53c406a.c: In function `NCR53c406a_intr':
drivers/scsi/NCR53c406a.c:899: structure has no member named `address'
drivers/scsi/NCR53c406a.c:928: structure has no member named `address'

drivers/scsi/sym53c416.c: In function `sym53c416_intr_handle':
drivers/scsi/sym53c416.c:452: structure has no member named `address'
drivers/scsi/sym53c416.c:478: structure has no member named `address'

drivers/scsi/NCR5380.c: In function `initialize_SCp':
In file included from drivers/scsi/pas16.c:599:
drivers/scsi/NCR5380.c:340: structure has no member named `address'
drivers/scsi/NCR5380.c: In function `NCR5380_timer_fn':
In file included from drivers/scsi/pas16.c:599:
drivers/scsi/NCR5380.c:619: `io_request_lock' undeclared (first use in this function)
.... Repeat for other drivers that include NCR5380.c

drivers/scsi/seagate.c: In function `internal_command':
drivers/scsi/seagate.c:1073: structure has no member named `address'
....

drivers/scsi/53c7,8xx.c:65: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/53c7,8xx.c: In function `create_cmd':
drivers/scsi/53c7,8xx.c:3792: structure has no member named `address'
....

drivers/scsi/eata_dma.c:66: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/eata_dma.c: In function `eata_queue':
drivers/scsi/eata_dma.c:577: structure has no member named `address'
....

drivers/scsi/eata_pio.c: In function `IncStat':
drivers/scsi/eata_pio.c:102: structure has no member named `address'
....

drivers/scsi/NCR53C9x.c: In function `esp_get_dmabufs':
drivers/scsi/NCR53C9x.c:930: structure has no member named `address'
drivers/scsi/NCR53C9x.c: In function `advance_sg':
drivers/scsi/NCR53C9x.c:1751: structure has no member named `address'

drivers/scsi/ibmmca.c: In function `interrupt_handler':
drivers/scsi/ibmmca.c:508: request for member `host_lock' in something not a structure or union
....

In file included from drivers/scsi/tmscsim.c:1826:
drivers/scsi/scsiiom.c:9: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/tmscsim.c:2533: badly punctuated parameter list in `#define'
drivers/scsi/tmscsim.c: In function `DC390_waiting_timed_out':
drivers/scsi/tmscsim.c:1077: request for member `pScsiHost' in something not a structure or union
drivers/scsi/tmscsim.c:1081: request for member `pScsiHost' in something not a structure or union
drivers/scsi/tmscsim.c: In function `dc390_BuildSRB':
drivers/scsi/tmscsim.c:1149: structure has no member named `address'
drivers/scsi/scsiiom.c: In function `DC390_Interrupt':
....

drivers/scsi/AM53C974.c:1: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/AM53C974.c: In function `initialize_SCp':
drivers/scsi/AM53C974.c:847: structure has no member named `address'
....

drivers/scsi/megaraid.c: In function `mega_cmd_done':
drivers/scsi/megaraid.c:1113: structure has no member named `address'
....

drivers/scsi/atp870u.c:17: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/atp870u.c: In function `send_s870':
drivers/scsi/atp870u.c:808: structure has no member named `address'

drivers/scsi/gdth.c:298: #error Please convert me to Documentation/DMA-mapping.txt
In file included from drivers/scsi/gdth.c:704:
drivers/scsi/gdth_proc.c:1393: macro `GDTH_LOCK_SCSI_DONE' used with just one arg
drivers/scsi/gdth.c:3346: macro `GDTH_UNLOCK_SCSI_DONE' used with too many (2) args
drivers/scsi/gdth_proc.c: In function `gdth_wait_completion':
In file included from drivers/scsi/gdth.c:704:
drivers/scsi/gdth_proc.c:1393: parse error before `)'
drivers/scsi/gdth_proc.c:1393: invalid type argument of `->'
drivers/scsi/gdth_proc.c:1395: `dev' undeclared (first use in this function)
drivers/scsi/gdth.c: In function `gdth_copy_internal_data':
....

drivers/scsi/ini9100u.c:111: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/ini9100u.c: In function `i91uBuildSCB':
drivers/scsi/ini9100u.c:494: structure has no member named `address'
drivers/scsi/ini9100u.c:503: structure has no member named `address'

drivers/scsi/inia100.c:70: #error Please convert me to Documentation/DMA-mapping.txt
drivers/scsi/inia100.c: In function `inia100BuildSCB':
drivers/scsi/inia100.c:499: structure has no member named `address'

drivers/scsi/scsi_debug.c: In function `sdebug_scatg2virt':
drivers/scsi/scsi_debug.c:521: structure has no member named `address'

drivers/scsi/cpqfcTSinit.c: In function `cpqfcTS_ioctl':
drivers/scsi/cpqfcTSinit.c:602: `wait' undeclared (first use in this function)
....

drivers/ieee1394/pcilynx.c: In function `mem_open':
drivers/ieee1394/pcilynx.c:647: `num_of_cards' undeclared (first use in this function)
drivers/ieee1394/pcilynx.c:647: `cards' undeclared (first use in this function)
....

drivers/cdrom/sbpcd.c: In function `sbpcd_end_request':
drivers/cdrom/sbpcd.c:4884: structure has no member named `queue'
drivers/cdrom/sbpcd.c: In function `sbpcd_init':
drivers/cdrom/sbpcd.c:5861: too few arguments to function `blk_init_queue'
drivers/cdrom/sbpcd.c:5867: `read_ahead' undeclared (first use in this function)
drivers/cdrom/sbpcd.c:5919: incompatible types in assignment
.... Repeat for sbpcd[234].o

sound/oss/msnd_pinnacle.c: In function `dev_ioctl':
In file included from sound/oss/msnd_classic.c:3:
sound/oss/msnd_pinnacle.c:644: invalid operands to binary &
....

sound/oss/msnd_pinnacle.c: In function `dev_ioctl':
sound/oss/msnd_pinnacle.c:644: invalid operands to binary &
....

drivers/mtd/devices/blkmtd.c: In function `blkmtd_erase':
drivers/mtd/devices/blkmtd.c:549: incompatible type for argument 1 of `bdevname'
....

drivers/mtd/ftl.c: In function `ftl_reread_partitions':
drivers/mtd/ftl.c:1179: `whole' undeclared (first use in this function)
drivers/mtd/ftl.c:1175: label `leave' used but not defined
drivers/mtd/ftl.c: In function `do_ftl_request':
drivers/mtd/ftl.c:1206: switch quantity not an integer
drivers/mtd/ftl.c: In function `ftl_notify_add':
drivers/mtd/ftl.c:1297: incompatible type for argument 1 of `ftl_reread_partitions'
drivers/mtd/ftl.c: In function `init_ftl':
drivers/mtd/ftl.c:1358: too few arguments to function `blk_init_queue'

drivers/mtd/nftlcore.c: In function `init_nftl':
drivers/mtd/nftlcore.c:1030: too few arguments to function `blk_init_queue'

drivers/video/cyber2000fb.c: In function `cyberpro_pci_probe':
drivers/video/cyber2000fb.c:1707: `MCLK_MULT' undeclared (first use in this function)
drivers/video/cyber2000fb.c:1708: `MCLK_DIV' undeclared (first use in this function)

drivers/usb/storage/datafab.c: In function `datafab_read_data':
drivers/usb/storage/datafab.c:260: structure has no member named `address'
....

drivers/usb/storage/jumpshot.c: In function `jumpshot_read_data':
drivers/usb/storage/jumpshot.c:335: structure has no member named `address'
....

drivers/message/i2o/i2o_core.c:25: #error Please convert me to Documentation/DMA-mapping.txt

drivers/message/i2o/i2o_config.c:28: #error Please convert me to Documentation/DMA-mapping.txt

drivers/message/i2o/i2o_block.c:43: #error Please convert me to Documentation/DMA-mapping.txt
drivers/message/i2o/i2o_block.c: In function `i2ob_init_iop':
drivers/message/i2o/i2o_block.c:1425: too few arguments to function `blk_init_queue'
....

drivers/message/i2o/i2o_lan.c:28: #error Please convert me to Documentation/DMA-mapping.txt

drivers/message/i2o/i2o_scsi.c:34: #error Please convert me to Documentation/DMA-mapping.txt
drivers/message/i2o/i2o_scsi.c: In function `i2o_scsi_queuecommand':
drivers/message/i2o/i2o_scsi.c:726: structure has no member named `address'
drivers/message/i2o/i2o_scsi.c:737: structure has no member named `address'

drivers/telephony/ixj.c: In function `ixj_release':
drivers/telephony/ixj.c:2277: invalid operands to binary &
....

In file included from drivers/md/raid5.c:23:
include/linux/raid/raid5.h:218: parse error before `md_wait_queue_head_t'
include/linux/raid/raid5.h:222: parse error before `device_lock'
include/linux/raid/raid5.h:226: parse error before `}'
drivers/md/raid5.c: In function `__release_stripe':
drivers/md/raid5.c:67: dereferencing pointer to incomplete type
....

In file included from drivers/md/multipath.c:25:
include/linux/raid/multipath.h:28: parse error before `md_spinlock_t'
include/linux/raid/multipath.h:39: parse error before `wait_buffer'
drivers/md/multipath.c:52: parse error before `retry_list_lock'
drivers/md/multipath.c:52: `MD_SPIN_LOCK_UNLOCKED' undeclared here (not in a function)
drivers/md/multipath.c: In function `multipath_alloc_mpbh':
drivers/md/multipath.c:64: dereferencing pointer to incomplete type
....

net/core/dev.c: In function `netif_receive_skb':
net/core/dev.c:1465: void value not ignored as it ought to be

