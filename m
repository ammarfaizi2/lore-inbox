Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S132942AbRDJGLy>; Tue, 10 Apr 2001 02:11:54 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S132938AbRDJGLp>; Tue, 10 Apr 2001 02:11:45 -0400
Received: from echo.sound.net ([205.242.192.21]:15808 "HELO echo.sound.net")
	by vger.kernel.org with SMTP id <S132944AbRDJGL3>;
	Tue, 10 Apr 2001 02:11:29 -0400
Date: Tue, 10 Apr 2001 01:11:03 -0500 (CDT)
From: Hal Duston <hald@sound.net>
To: linux-kernel@vger.kernel.org
Subject: [PATCH: 2nd try] PS/2 ESDI
Message-ID: <Pine.GSO.4.10.10104100106540.27330-200000@sound.net>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-851401618-986883063=:27330"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-851401618-986883063=:27330
Content-Type: TEXT/PLAIN; charset=US-ASCII

All,

OK, here is the corrected patch as promised.  I have placed it in the same
location as the previous one in case the mailer mangles it.  
http://www.sound.net/~hald/projects/ps2esdi/ps2esdi-2.4.3.patch0

Thanks, and not on the list,
Hal Duston
hald@sound.net

---559023410-851401618-986883063=:27330
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="ps2esdi-2.4.3.patch0"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.GSO.4.10.10104100111030.27330@sound.net>
Content-Description: 
Content-Disposition: attachment; filename="ps2esdi-2.4.3.patch0"

QnJpbmcgcHMyZXNkaSBkcml2ZXIgdXAgdG8gZGF0ZSB3aXRoIGN1cnJlbnQg
YmxvY2sgZGV2aWNlIGFyY2hpdGVjdHVyZS4NCk1ha2UgaXQgYm9vdC4NCg0K
Q2hhbmdlIG5yX3NlY3RvcnMgdG8gY3VycmVudF9ucl9zZWN0b3JzLg0KUmVt
b3ZlIHJlY3Vyc2lvbi4NClJlbW92ZSBzbGVlcF9vbi4NCkFkZCBzcGlubG9j
ayB0byBJU1IgYW5kIGNhbGwgZW5kX3JlcXVlc3QgZnJvbSB0aGVyZS4NCg0K
LS0tIGxpbnV4LTIuNC4zL2RyaXZlcnMvYmxvY2svcHMyZXNkaS5jCUZyaSBP
Y3QgMjcgMDE6MzU6NDcgMjAwMA0KKysrIGxpbnV4LTIuNC4zLWhkZDAvZHJp
dmVycy9ibG9jay9wczJlc2RpLmMJVHVlIEFwciAxMCAwMDo1MDoyNiAyMDAx
DQpAQCAtODksOCArODksNiBAQA0KIHN0YXRpYyB2b2lkIHBzMmVzZGlfaW5p
dGlhbF9yZXNldF9pbnRfaGFuZGxlcih1X2ludCk7DQogc3RhdGljIHZvaWQg
cHMyZXNkaV9nZW9tZXRyeV9pbnRfaGFuZGxlcih1X2ludCk7DQogDQotc3Rh
dGljIHZvaWQgcHMyZXNkaV9jb250aW51ZV9yZXF1ZXN0KHZvaWQpOw0KLQ0K
IHN0YXRpYyBpbnQgcHMyZXNkaV9vcGVuKHN0cnVjdCBpbm9kZSAqaW5vZGUs
IHN0cnVjdCBmaWxlICpmaWxlKTsNCiANCiBzdGF0aWMgaW50IHBzMmVzZGlf
cmVsZWFzZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZmlsZSAqZmls
ZSk7DQpAQCAtNDY5LDI5ICs0NjcsMjYgQEANCiAJICAgICAgIERFVklDRV9O
QU1FLA0KIAkgICAgICAgQ1VSUkVOVF9ERVYsIE1JTk9SKENVUlJFTlQtPnJx
X2RldiksDQogCSAgICAgICBDVVJSRU5ULT5jbWQsIENVUlJFTlQtPnNlY3Rv
ciwNCi0JICAgICAgIENVUlJFTlQtPm5yX3NlY3RvcnMsIENVUlJFTlQtPmJ1
ZmZlcik7DQorCSAgICAgICBDVVJSRU5ULT5jdXJyZW50X25yX3NlY3RvcnMs
IENVUlJFTlQtPmJ1ZmZlcik7DQogI2VuZGlmDQogDQogCS8qIHN0YW5kYXJk
IG1hY3JvIHRoYXQgZW5zdXJlcyB0aGF0IHJlcXVlc3RzIGFyZSByZWFsbHkg
b24gdGhlDQogCSAgIGxpc3QgKyBzYW5pdHkgY2hlY2tzLiAgICAgICAgICAg
ICAgICAgICAgICovDQogCUlOSVRfUkVRVUVTVDsNCiANCi0JaWYgKHZpcnRf
dG9fYnVzKENVUlJFTlQtPmJ1ZmZlciArIENVUlJFTlQtPm5yX3NlY3RvcnMg
KiA1MTIpID4gMTYgKiBNQikgew0KKwlpZiAodmlydF90b19idXMoQ1VSUkVO
VC0+YnVmZmVyICsgQ1VSUkVOVC0+Y3VycmVudF9ucl9zZWN0b3JzICogNTEy
KSA+IDE2ICogTUIpIHsNCiAJCXByaW50aygiJXM6IERNQSBhYm92ZSAxNk1C
IG5vdCBzdXBwb3J0ZWRcbiIsIERFVklDRV9OQU1FKTsNCiAJCWVuZF9yZXF1
ZXN0KEZBSUwpOw0KLQkJaWYgKCFRVUVVRV9FTVBUWSkNCi0JCQlkb19wczJl
c2RpX3JlcXVlc3QocSk7DQotCQlyZXR1cm47DQogCX0JCQkvKiBjaGVjayBm
b3IgYWJvdmUgMTZNYiBkbWFzICovDQotCWlmICgoQ1VSUkVOVF9ERVYgPCBw
czJlc2RpX2RyaXZlcykgJiYNCi0JICAgIChDVVJSRU5ULT5zZWN0b3IgKyBD
VVJSRU5ULT5ucl9zZWN0b3JzIDw9DQorCWVsc2UgaWYgKChDVVJSRU5UX0RF
ViA8IHBzMmVzZGlfZHJpdmVzKSAmJg0KKwkgICAgKENVUlJFTlQtPnNlY3Rv
ciArIENVUlJFTlQtPmN1cnJlbnRfbnJfc2VjdG9ycyA8PQ0KIAkgICAgIHBz
MmVzZGlbTUlOT1IoQ1VSUkVOVC0+cnFfZGV2KV0ubnJfc2VjdHMpKSB7DQog
I2lmIDANCiAJCXByaW50aygiJXM6Z290IHJlcXVlc3QuIGRldmljZSA6ICVk
IG1pbm9yIDogJWQgY29tbWFuZCA6ICVkICBzZWN0b3IgOiAlbGQgY291bnQg
OiAlbGRcbiIsDQogCQkgICAgICAgREVWSUNFX05BTUUsDQotCQkgICAgICAg
Q1VSUkVOVF9ERVYsIE1JTk9SKENVUlJFTlQtPmRldiksDQorCQkgICAgICAg
Q1VSUkVOVF9ERVYsIE1JTk9SKENVUlJFTlQtPnJxX2RldiksDQogCQkgICAg
ICAgQ1VSUkVOVC0+Y21kLCBDVVJSRU5ULT5zZWN0b3IsDQotCQkgICAgICAg
Q1VSUkVOVC0+bnJfc2VjdG9ycyk7DQorCQkgICAgICAgQ1VSUkVOVC0+Y3Vy
cmVudF9ucl9zZWN0b3JzKTsNCiAjZW5kaWYNCiANCiANCkBAIC01MDAsMjEg
KzQ5NSwxNyBAQA0KICNpZiAwDQogCQlwcmludGsoIiVzOiBibG9ja251bWJl
ciA6ICVkXG4iLCBERVZJQ0VfTkFNRSwgYmxvY2spOw0KICNlbmRpZg0KLQkJ
Y291bnQgPSBDVVJSRU5ULT5ucl9zZWN0b3JzOw0KKwkJY291bnQgPSBDVVJS
RU5ULT5jdXJyZW50X25yX3NlY3RvcnM7DQogCQlzd2l0Y2ggKENVUlJFTlQt
PmNtZCkgew0KIAkJY2FzZSBSRUFEOg0KIAkJCXBzMmVzZGlfcmVhZHdyaXRl
KFJFQUQsIENVUlJFTlRfREVWLCBibG9jaywgY291bnQpOw0KLQkJCXJldHVy
bjsNCiAJCQlicmVhazsNCiAJCWNhc2UgV1JJVEU6DQogCQkJcHMyZXNkaV9y
ZWFkd3JpdGUoV1JJVEUsIENVUlJFTlRfREVWLCBibG9jaywgY291bnQpOw0K
LQkJCXJldHVybjsNCiAJCQlicmVhazsNCiAJCWRlZmF1bHQ6DQogCQkJcHJp
bnRrKCIlczogVW5rbm93biBjb21tYW5kXG4iLCBERVZJQ0VfTkFNRSk7DQog
CQkJZW5kX3JlcXVlc3QoRkFJTCk7DQotCQkJaWYgKCFRVUVVRV9FTVBUWSkN
Ci0JCQkJZG9fcHMyZXNkaV9yZXF1ZXN0KHEpOw0KIAkJCWJyZWFrOw0KIAkJ
fQkJLyogaGFuZGxlIGRpZmZlcmVudCBjb21tYW5kcyAqLw0KIAl9DQpAQCAt
NTIzLDggKzUxNCw2IEBADQogCQlwcmludGsoIkdycnIuIGVycm9yLiBwczJl
c2RpX2RyaXZlczogJWQsICVsdSAlbHVcbiIsIHBzMmVzZGlfZHJpdmVzLA0K
IAkJICAgICAgIENVUlJFTlQtPnNlY3RvciwgcHMyZXNkaVtNSU5PUihDVVJS
RU5ULT5ycV9kZXYpXS5ucl9zZWN0cyk7DQogCQllbmRfcmVxdWVzdChGQUlM
KTsNCi0JCWlmICghUVVFVUVfRU1QVFkpDQotCQkJZG9fcHMyZXNkaV9yZXF1
ZXN0KHEpOw0KIAl9DQogDQogfQkJCQkvKiBtYWluIHN0cmF0ZWd5IHJvdXRp
bmUgKi8NCkBAIC01NzAsOCArNTU5LDYgQEANCiAJdV9zaG9ydCBjbWRfYmxr
W1RZUEVfMV9DTURfQkxLX0xFTkdUSF07DQogDQogCS8qIGRvIHNvbWUgcmVs
ZXZhbnQgYXJpdGhtYXRpYyAqLw0KLQlDVVJSRU5ULT5jdXJyZW50X25yX3Nl
Y3RvcnMgPQ0KLQkgICAgKGNvdW50IDwgKDIgKiBNQVhfMTZCSVQgLyBTRUNU
X1NJWkUpKSA/IGNvdW50IDogKDIgKiBNQVhfMTZCSVQgLyBTRUNUX1NJWkUp
Ow0KIAl0cmFjayA9IGJsb2NrIC8gcHMyZXNkaV9pbmZvW2RyaXZlXS5zZWN0
Ow0KIAloZWFkID0gdHJhY2sgJSBwczJlc2RpX2luZm9bZHJpdmVdLmhlYWQ7
DQogCWN5bGluZGVyID0gdHJhY2sgLyBwczJlc2RpX2luZm9bZHJpdmVdLmhl
YWQ7DQpAQCAtNTkwLDEzICs1NzcsOCBAQA0KIAkvKiBzZW5kIHRoZSBjb21t
YW5kIGJsb2NrIHRvIHRoZSBjb250cm9sbGVyICovDQogCWlmIChwczJlc2Rp
X291dF9jbWRfYmxrKGNtZF9ibGspKSB7DQogCQlwcmludGsoIiVzOiBDb250
cm9sbGVyIGZhaWxlZFxuIiwgREVWSUNFX05BTUUpOw0KLQkJaWYgKCgrK0NV
UlJFTlQtPmVycm9ycykgPCBNQVhfUkVUUklFUykNCi0JCQlyZXR1cm4gZG9f
cHMyZXNkaV9yZXF1ZXN0KE5VTEwpOw0KLQkJZWxzZSB7DQorCQlpZiAoKCsr
Q1VSUkVOVC0+ZXJyb3JzKSA+PSBNQVhfUkVUUklFUykNCiAJCQllbmRfcmVx
dWVzdChGQUlMKTsNCi0JCQlpZiAoIVFVRVVFX0VNUFRZKQ0KLQkJCQlkb19w
czJlc2RpX3JlcXVlc3QoTlVMTCk7DQotCQl9DQogCX0NCiAJLyogY2hlY2sg
Zm9yIGZhaWx1cmUgdG8gcHV0IG91dCB0aGUgY29tbWFuZCBibG9jayAqLyAN
CiAJZWxzZSB7DQpAQCAtNjgwLDcgKzY2Miw3IEBADQogCWJ1ZmZlcj0oY2hh
ciAqKXZpcnRfdG9fYnVzKGJ1ZmZlcik7DQogDQogI2lmIDANCi0JcHJpbnRr
KCJwczJlc2RpOiBiX3dhaXQ6ICVwXG4iLCBDVVJSRU5ULT5iaC0+Yl93YWl0
KTsNCisJcHJpbnRrKCJwczJlc2RpOiBiX3dhaXQ6ICVwXG4iLCAmQ1VSUkVO
VC0+YmgtPmJfd2FpdCk7DQogI2VuZGlmDQogCWNsaSgpOw0KIA0KQEAgLTg3
MSw3ICs4NTMsOSBAQA0KIA0KIHN0YXRpYyB2b2lkIHBzMmVzZGlfbm9ybWFs
X2ludGVycnVwdF9oYW5kbGVyKHVfaW50IGludF9yZXRfY29kZSkNCiB7DQor
CXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQogCXVfaW50IHN0YXR1czsNCisJdV9p
bnQgZW5kaW5nOw0KIAlpbnQgaTsNCiANCiAJc3dpdGNoIChpbnRfcmV0X2Nv
ZGUgJiAweDBmKSB7DQpAQCAtODc5LDEyICs4NjMsMTQgQEANCiAJCXBzMmVz
ZGlfcHJlcF9kbWEoQ1VSUkVOVC0+YnVmZmVyLCBDVVJSRU5ULT5jdXJyZW50
X25yX3NlY3RvcnMsDQogCQkgICAgKENVUlJFTlQtPmNtZCA9PSBSRUFEKSA/
IERNQV9SRUFEXzE2IDogRE1BX1dSSVRFXzE2KTsNCiAJCW91dGIoQ1RSTF9F
TkFCTEVfRE1BIHwgQ1RSTF9FTkFCTEVfSU5UUiwgRVNESV9DT05UUk9MKTsN
CisJCWVuZGluZyA9IC0xOw0KIAkJYnJlYWs7DQogDQogCWNhc2UgSU5UX0FU
VE5fRVJST1I6DQogCQlwcmludGsoIiVzOiBBdHRlbnRpb24gZXJyb3IuIGlu
dGVycnVwdCBzdGF0dXMgOiAlMDJYXG4iLCBERVZJQ0VfTkFNRSwNCiAJCSAg
ICAgICBpbnRfcmV0X2NvZGUpOw0KIAkJb3V0YihDVFJMX0VOQUJMRV9JTlRS
LCBFU0RJX0NPTlRST0wpOw0KKwkJZW5kaW5nID0gRkFJTDsNCiAJCWJyZWFr
Ow0KIA0KIAljYXNlIElOVF9DTURfQ09NUExFVEU6DQpAQCAtODkzLDEzICs4
NzksMTAgQEANCiAJCQlwcmludGsoIiVzOiB0aW1lb3V0IHJlYWRpbmcgc3Rh
dHVzIHdvcmRcbiIsIERFVklDRV9OQU1FKTsNCiAJCQlvdXRiKChpbnRfcmV0
X2NvZGUgJiAweGUwKSB8IEFUVF9FT0ksIEVTRElfQVRUTik7DQogCQkJb3V0
YihDVFJMX0VOQUJMRV9JTlRSLCBFU0RJX0NPTlRST0wpOw0KLQkJCWlmICgo
KytDVVJSRU5ULT5lcnJvcnMpIDwgTUFYX1JFVFJJRVMpDQotCQkJCWRvX3Bz
MmVzZGlfcmVxdWVzdChOVUxMKTsNCi0JCQllbHNlIHsNCi0JCQkJZW5kX3Jl
cXVlc3QoRkFJTCk7DQotCQkJCWlmICghUVVFVUVfRU1QVFkpDQotCQkJCQlk
b19wczJlc2RpX3JlcXVlc3QoTlVMTCk7DQotCQkJfQ0KKwkJCWlmICgoKytD
VVJSRU5ULT5lcnJvcnMpID49IE1BWF9SRVRSSUVTKQ0KKwkJCQllbmRpbmcg
PSBGQUlMOw0KKwkJCWVsc2UNCisJCQkJZW5kaW5nID0gLTE7DQogCQkJYnJl
YWs7DQogCQl9DQogCQlzdGF0dXMgPSBpbncoRVNESV9TVFRfSU5UKTsNCkBA
IC05MTAsMTUgKzg5MywxNiBAQA0KIAkJCW91dGIoKGludF9yZXRfY29kZSAm
IDB4ZTApIHwgQVRUX0VPSSwgRVNESV9BVFROKTsNCiAJCQlvdXRiKENUUkxf
RU5BQkxFX0lOVFIsIEVTRElfQ09OVFJPTCk7DQogI2lmIDANCi0JCQlwcmlu
dGsoInBzMmVzZGk6IGNtZF9jb21wbGV0ZSBiX3dhaXQ6ICVwXG4iLCBDVVJS
RU5ULT5iaC0+Yl93YWl0KTsNCisJCQlwcmludGsoInBzMmVzZGk6IGNtZF9j
b21wbGV0ZSBiX3dhaXQ6ICVwXG4iLCAmQ1VSUkVOVC0+YmgtPmJfd2FpdCk7
DQogI2VuZGlmDQotCQkJcHMyZXNkaV9jb250aW51ZV9yZXF1ZXN0KCk7DQor
CQkJZW5kaW5nID0gU1VDQ0VTOw0KIAkJCWJyZWFrOw0KIAkJZGVmYXVsdDoN
CiAJCQlwcmludGsoIiVzOiBpbnRlcnJ1cHQgZm9yIHVua25vd24gY29tbWFu
ZCAlMDJYXG4iLA0KIAkJCSAgICAgICBERVZJQ0VfTkFNRSwgc3RhdHVzICYg
MHgxZik7DQogCQkJb3V0YigoaW50X3JldF9jb2RlICYgMHhlMCkgfCBBVFRf
RU9JLCBFU0RJX0FUVE4pOw0KIAkJCW91dGIoQ1RSTF9FTkFCTEVfSU5UUiwg
RVNESV9DT05UUk9MKTsNCisJCQllbmRpbmcgPSAtMTsNCiAJCQlicmVhazsN
CiAJCX0NCiAJCWJyZWFrOw0KQEAgLTkyOSw3ICs5MTMsNyBAQA0KIAkJZHVt
cF9jbWRfY29tcGxldGVfc3RhdHVzKGludF9yZXRfY29kZSk7DQogCQlvdXRi
KChpbnRfcmV0X2NvZGUgJiAweGUwKSB8IEFUVF9FT0ksIEVTRElfQVRUTik7
DQogCQlvdXRiKENUUkxfRU5BQkxFX0lOVFIsIEVTRElfQ09OVFJPTCk7DQot
CQlwczJlc2RpX2NvbnRpbnVlX3JlcXVlc3QoKTsNCisJCWVuZGluZyA9IFNV
Q0NFUzsNCiAJCWJyZWFrOw0KIAljYXNlIElOVF9DTURfV0FSTklORzoNCiAJ
Y2FzZSBJTlRfQ01EX0FCT1JUOg0KQEAgLTkzOSwyMiArOTIzLDE3IEBADQog
CQlkdW1wX2NtZF9jb21wbGV0ZV9zdGF0dXMoaW50X3JldF9jb2RlKTsNCiAJ
CW91dGIoKGludF9yZXRfY29kZSAmIDB4ZTApIHwgQVRUX0VPSSwgRVNESV9B
VFROKTsNCiAJCW91dGIoQ1RSTF9FTkFCTEVfSU5UUiwgRVNESV9DT05UUk9M
KTsNCi0JCWlmICgoKytDVVJSRU5ULT5lcnJvcnMpIDwgTUFYX1JFVFJJRVMp
DQotCQkJZG9fcHMyZXNkaV9yZXF1ZXN0KE5VTEwpOw0KLQkJZWxzZSB7DQot
CQkJZW5kX3JlcXVlc3QoRkFJTCk7DQotCQkJaWYgKCFRVUVVRV9FTVBUWSkN
Ci0JCQkJZG9fcHMyZXNkaV9yZXF1ZXN0KE5VTEwpOw0KLQkJfQ0KKwkJaWYg
KCgrK0NVUlJFTlQtPmVycm9ycykgPj0gTUFYX1JFVFJJRVMpDQorCQkJZW5k
aW5nID0gRkFJTDsNCisJCWVsc2UNCisJCQllbmRpbmcgPSAtMTsNCiAJCWJy
ZWFrOw0KIA0KIAljYXNlIElOVF9DTURfQkxLX0VSUjoNCiAJCWR1bXBfY21k
X2NvbXBsZXRlX3N0YXR1cyhpbnRfcmV0X2NvZGUpOw0KIAkJb3V0YigoaW50
X3JldF9jb2RlICYgMHhlMCkgfCBBVFRfRU9JLCBFU0RJX0FUVE4pOw0KIAkJ
b3V0YihDVFJMX0VOQUJMRV9JTlRSLCBFU0RJX0NPTlRST0wpOw0KLQkJZW5k
X3JlcXVlc3QoRkFJTCk7DQotCQlpZiAoIVFVRVVFX0VNUFRZKQ0KLQkJCWRv
X3BzMmVzZGlfcmVxdWVzdChOVUxMKTsNCisJCWVuZGluZyA9IEZBSUw7DQog
CQlicmVhazsNCiANCiAJY2FzZSBJTlRfQ01EX0ZPUk1BVDoNCkBAIC05NjIs
MTIgKzk0MSwxNCBAQA0KIAkJICAgICAgICxERVZJQ0VfTkFNRSk7DQogCQlv
dXRiKChpbnRfcmV0X2NvZGUgJiAweGUwKSB8IEFUVF9FT0ksIEVTRElfQVRU
Tik7DQogCQlvdXRiKENUUkxfRU5BQkxFX0lOVFIsIEVTRElfQ09OVFJPTCk7
DQorCQllbmRpbmcgPSAtMTsNCiAJCWJyZWFrOw0KIA0KIAljYXNlIElOVF9S
RVNFVDoNCiAJCS8qIEJBIHByaW50aygiJXM6IHJlc2V0IGNvbXBsZXRlZC5c
biIsIERFVklDRV9OQU1FKSAqLyA7DQogCQlvdXRiKChpbnRfcmV0X2NvZGUg
JiAweGUwKSB8IEFUVF9FT0ksIEVTRElfQVRUTik7DQogCQlvdXRiKENUUkxf
RU5BQkxFX0lOVFIsIEVTRElfQ09OVFJPTCk7DQorCQllbmRpbmcgPSAtMTsN
CiAJCWJyZWFrOw0KIA0KIAlkZWZhdWx0Og0KQEAgLTk3NSwyNCArOTU2LDE2
IEBADQogCQkgICAgICAgREVWSUNFX05BTUUsIGludF9yZXRfY29kZSAmIDB4
Zik7DQogCQlvdXRiKChpbnRfcmV0X2NvZGUgJiAweGUwKSB8IEFUVF9FT0ks
IEVTRElfQVRUTik7DQogCQlvdXRiKENUUkxfRU5BQkxFX0lOVFIsIEVTRElf
Q09OVFJPTCk7DQorCQllbmRpbmcgPSAtMTsNCiAJCWJyZWFrOw0KIAl9DQot
DQotfQkJCQkvKiBoYW5kbGUgaW50ZXJydXB0cyAqLw0KLQ0KLQ0KLXN0YXRp
YyB2b2lkIHBzMmVzZGlfY29udGludWVfcmVxdWVzdCh2b2lkKQ0KLXsNCi0J
aWYgKENVUlJFTlQtPm5yX3NlY3RvcnMgLT0gQ1VSUkVOVC0+Y3VycmVudF9u
cl9zZWN0b3JzKSB7DQotCQlDVVJSRU5ULT5idWZmZXIgKz0gQ1VSUkVOVC0+
Y3VycmVudF9ucl9zZWN0b3JzICogU0VDVF9TSVpFOw0KLQkJQ1VSUkVOVC0+
c2VjdG9yICs9IENVUlJFTlQtPmN1cnJlbnRfbnJfc2VjdG9yczsNCi0JCWRv
X3BzMmVzZGlfcmVxdWVzdChOVUxMKTsNCi0JfSBlbHNlIHsNCi0JCWVuZF9y
ZXF1ZXN0KFNVQ0NFUyk7DQotCQlpZiAoIVFVRVVFX0VNUFRZKQ0KLQkJCWRv
X3BzMmVzZGlfcmVxdWVzdChOVUxMKTsNCisJaWYoZW5kaW5nICE9IC0xKSB7
DQorCQlzcGluX2xvY2tfaXJxc2F2ZShpb19yZXF1ZXN0X2xvY2ssIGZsYWdz
KTsNCisJCWVuZF9yZXF1ZXN0KGVuZGluZyk7DQorCQlkb19wczJlc2RpX3Jl
cXVlc3QoQkxLX0RFRkFVTFRfUVVFVUUoTUFKT1JfTlIpKTsNCisJCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoaW9fcmVxdWVzdF9sb2NrLCBmbGFncyk7DQog
CX0NCi19DQorfQkJCQkvKiBoYW5kbGUgaW50ZXJydXB0cyAqLw0KIA0KIA0K
IA0K
---559023410-851401618-986883063=:27330--
