Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S316080AbSFYTcA>; Tue, 25 Jun 2002 15:32:00 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S316088AbSFYTb7>; Tue, 25 Jun 2002 15:31:59 -0400
Received: from mion.elka.pw.edu.pl ([194.29.160.35]:27792 "EHLO
	mion.elka.pw.edu.pl") by vger.kernel.org with ESMTP
	id <S316080AbSFYTbz>; Tue, 25 Jun 2002 15:31:55 -0400
Date: Tue, 25 Jun 2002 21:31:34 +0200 (MET DST)
From: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
To: Martin Dalecki <dalecki@evision-ventures.com>
cc: Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: [PATCH] ATA: cleanup of channel->autodma flags usage
Message-ID: <Pine.SOL.4.30.0206252129130.27820-200000@mion.elka.pw.edu.pl>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="-559023410-824023566-1025033494=:27820"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

---559023410-824023566-1025033494=:27820
Content-Type: TEXT/PLAIN; charset=US-ASCII


incremental to generic ATA PCI auto-dma patches...

	- clean usage of ch->autodma flag in PCI host chips drivers

	- remove ATA_F_NOAUTODMA flag from aec62xx.c, hpt34x.c,
	  sis5513.c and via82cxxx.c drivers, it's use was bogus
	  in these drivers

	  only two usages of ATA_F_NOAUTODMA are left (in ide-pci.c),
	  probably they can alse be removed due to fact that drivers
	  should disable autodma not ide-pci (i.e. hpt34x)

	- teach alim15x3.c, cs5530.c, cy82c693.c, hpt34x.c, hpt366.c,
	  it8172.c, pdc202xx.c, sis5513.c, sl82c105.c, and trm290.c
	  drivers about CONFIG_IDEDMA_AUTO (indirectly through ide-pci)

	- make it possible to auto-tune DMA for trm290.c

	- always check PIO timings in cs5530.c

--
Bartlomiej Zolnierkiewicz

---559023410-824023566-1025033494=:27820
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="ata-autodma.diff"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.SOL.4.30.0206252131340.27820@mion.elka.pw.edu.pl>
Content-Description: 
Content-Disposition: attachment; filename="ata-autodma.diff"

ZGlmZiAtdXIgbGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL2FlYzYy
eHguYyBsaW51eC9kcml2ZXJzL2lkZS9hZWM2Mnh4LmMNCi0tLSBsaW51eC1h
dGEtaG9zdHMtMTEvZHJpdmVycy9pZGUvYWVjNjJ4eC5jCU1vbiBKdW4gMjQg
MjI6MzU6MTAgMjAwMg0KKysrIGxpbnV4L2RyaXZlcnMvaWRlL2FlYzYyeHgu
YwlNb24gSnVuIDI0IDIzOjU1OjE1IDIwMDINCkBAIC0yNTEsNyArMjUxLDYg
QEANCiANCiAJY2gtPnR1bmVwcm9jID0gYWVjNjJ4eF90dW5lX2RyaXZlOw0K
IAljaC0+c3BlZWRwcm9jID0gYWVjX3NldF9kcml2ZTsNCi0JY2gtPmF1dG9k
bWEgPSAwOw0KIA0KIAljaC0+aW9fMzJiaXQgPSAxOw0KIAljaC0+dW5tYXNr
ID0gMTsNCkBAIC0yNjYsMTAgKzI2NSw2IEBADQogCQljaC0+aGlnaG1lbSA9
IDE7DQogCQljaC0+bW9kZXNfbWFwID0gYWVjNjJ4eF9tb2Rlc19tYXAoY2gp
Ow0KIAkJY2gtPnVkbWFfc2V0dXAgPSB1ZG1hX2dlbmVyaWNfc2V0dXA7DQot
I2lmZGVmIENPTkZJR19JREVETUFfQVVUTw0KLQkJaWYgKCFub2F1dG9kbWEp
DQotCQkJY2gtPmF1dG9kbWEgPSAxOw0KLSNlbmRpZg0KIAl9DQogI2VuZGlm
DQogfQ0KQEAgLTMwNiw3ICszMDEsNyBAQA0KIAkJaW5pdF9jaGFubmVsOiBh
ZWM2Mnh4X2luaXRfY2hhbm5lbCwNCiAJCWVuYWJsZWJpdHM6IHsgezB4NGEs
MHgwMiwweDAyfSwJezB4NGEsMHgwNCwweDA0fSB9LA0KIAkJYm9vdGFibGU6
IE5FVkVSX0JPQVJELA0KLQkJZmxhZ3M6IEFUQV9GX0lSUSB8IEFUQV9GX05P
QURNQSB8IEFUQV9GX0RNQQ0KKwkJZmxhZ3M6IEFUQV9GX0lSUSB8IEFUQV9G
X0RNQQ0KIAl9LA0KIAl7DQogCQl2ZW5kb3I6IFBDSV9WRU5ET1JfSURfQVJU
T1AsDQpkaWZmIC11ciBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUv
YWxpbTE1eDMuYyBsaW51eC9kcml2ZXJzL2lkZS9hbGltMTV4My5jDQotLS0g
bGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL2FsaW0xNXgzLmMJTW9u
IEp1biAyNCAyMjo0MzoyMCAyMDAyDQorKysgbGludXgvZHJpdmVycy9pZGUv
YWxpbTE1eDMuYwlUdWUgSnVuIDI1IDAwOjA5OjA5IDIwMDINCkBAIC0zNTQs
MTMgKzM1NCw3IEBADQogCQkJaHdpZi0+bm9fYXRhcGlfYXV0b2RtYSA9IDE7
DQogCQlod2lmLT51ZG1hX3NldHVwID0gYWxpMTV4M191ZG1hX3NldHVwOw0K
IAkJaHdpZi0+dWRtYV9pbml0ID0gYWxpMTV4M191ZG1hX2luaXQ7DQotCQlo
d2lmLT5hdXRvZG1hID0gMTsNCiAJfQ0KLQ0KLQlpZiAobm9hdXRvZG1hKQ0K
LQkJaHdpZi0+YXV0b2RtYSA9IDA7DQotI2Vsc2UNCi0JaHdpZi0+YXV0b2Rt
YSA9IDA7DQogI2VuZGlmDQogfQ0KIA0KZGlmZiAtdXIgbGludXgtYXRhLWhv
c3RzLTExL2RyaXZlcnMvaWRlL2FtZDc0eHguYyBsaW51eC9kcml2ZXJzL2lk
ZS9hbWQ3NHh4LmMNCi0tLSBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9p
ZGUvYW1kNzR4eC5jCU1vbiBKdW4gMjQgMjI6MzU6MTAgMjAwMg0KKysrIGxp
bnV4L2RyaXZlcnMvaWRlL2FtZDc0eHguYwlNb24gSnVuIDI0IDIzOjI4OjUw
IDIwMDINCkBAIC0yNzAsNyArMjcwLDYgQEANCiANCiAJaHdpZi0+dHVuZXBy
b2MgPSAmYW1kNzR4eF90dW5lX2RyaXZlOw0KIAlod2lmLT5zcGVlZHByb2Mg
PSAmYW1kX3NldF9kcml2ZTsNCi0JaHdpZi0+YXV0b2RtYSA9IDA7DQogDQog
CWh3aWYtPmlvXzMyYml0ID0gMTsNCiAJaHdpZi0+dW5tYXNrID0gMTsNCkBA
IC0yODUsMTAgKzI4NCw2IEBADQogCQlod2lmLT5oaWdobWVtID0gMTsNCiAJ
CWh3aWYtPm1vZGVzX21hcCA9IGFtZF9tb2Rlc19tYXAoaHdpZik7DQogCQlo
d2lmLT51ZG1hX3NldHVwID0gdWRtYV9nZW5lcmljX3NldHVwOw0KLSMgaWZk
ZWYgQ09ORklHX0lERURNQV9BVVRPDQotCQlpZiAoIW5vYXV0b2RtYSkNCi0J
CQlod2lmLT5hdXRvZG1hID0gMTsNCi0jIGVuZGlmDQogCX0NCiAjZW5kaWYN
CiB9DQpkaWZmIC11ciBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUv
Y21kNjR4LmMgbGludXgvZHJpdmVycy9pZGUvY21kNjR4LmMNCi0tLSBsaW51
eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUvY21kNjR4LmMJTW9uIEp1biAy
NCAyMjozNjoxMyAyMDAyDQorKysgbGludXgvZHJpdmVycy9pZGUvY21kNjR4
LmMJTW9uIEp1biAyNCAyMzoyOTowOCAyMDAyDQpAQCAtODA0LDEwICs4MDQs
NiBAQA0KIAkJaHdpZi0+bW9kZXNfbWFwID0gY21kNnh4X21vZGVzX21hcCho
d2lmKTsNCiAJCWh3aWYtPm5vX2F0YXBpX2F1dG9kbWEgPSAxOw0KIAkJaHdp
Zi0+dWRtYV9zZXR1cCA9IHVkbWFfZ2VuZXJpY19zZXR1cDsNCi0jIGlmZGVm
IENPTkZJR19JREVETUFfQVVUTw0KLQkJaWYgKCFub2F1dG9kbWEpDQotCQkJ
aHdpZi0+YXV0b2RtYSA9IDE7DQotIyBlbmRpZg0KIAl9DQogI2VuZGlmDQog
fQ0KZGlmZiAtdXIgbGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL2Nz
NTUzMC5jIGxpbnV4L2RyaXZlcnMvaWRlL2NzNTUzMC5jDQotLS0gbGludXgt
YXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL2NzNTUzMC5jCU1vbiBKdW4gMjQg
MjI6NDA6NDAgMjAwMg0KKysrIGxpbnV4L2RyaXZlcnMvaWRlL2NzNTUzMC5j
CU1vbiBKdW4gMjQgMjM6Mjk6NDQgMjAwMg0KQEAgLTI4NSwxNyArMjg1LDE1
IEBADQogICovDQogc3RhdGljIHZvaWQgX19pbml0IGlkZV9pbml0X2NzNTUz
MChzdHJ1Y3QgYXRhX2NoYW5uZWwgKmh3aWYpDQogew0KKwl1MzIgYmFzZXJl
ZywgZDBfdGltaW5nczsNCisNCiAJaHdpZi0+c2VyaWFsaXplZCA9IDE7DQot
CWlmICghaHdpZi0+ZG1hX2Jhc2UpIHsNCi0JCWh3aWYtPmF1dG9kbWEgPSAw
Ow0KLQl9IGVsc2Ugew0KLQkJdW5zaWduZWQgaW50IGJhc2VyZWcsIGQwX3Rp
bWluZ3M7DQogDQogI2lmZGVmIENPTkZJR19CTEtfREVWX0lERURNQQ0KLQlo
d2lmLT51ZG1hX3NldHVwID0gY3M1NTMwX3VkbWFfc2V0dXA7DQotCWh3aWYt
PmhpZ2htZW0gPSAxOw0KLSNlbHNlDQotCWh3aWYtPmF1dG9kbWEgPSAwOw0K
KwlpZiAoaHdpZi0+ZG1hX2Jhc2UpIHsNCisJCWh3aWYtPmhpZ2htZW0gPSAx
Ow0KKwkJaHdpZi0+dWRtYV9zZXR1cCA9IGNzNTUzMF91ZG1hX3NldHVwOw0K
Kwl9DQogI2VuZGlmDQogDQogCQlod2lmLT50dW5lcHJvYyA9ICZjczU1MzBf
dHVuZXByb2M7DQpAQCAtMzA5LDcgKzMwOSw2IEBADQogCQkJaWYgKCFod2lm
LT5kcml2ZXNbMV0uYXV0b3R1bmUpDQogCQkJCWh3aWYtPmRyaXZlc1sxXS5h
dXRvdHVuZSA9IDE7CS8qIG5lZWRzIGF1dG90dW5pbmcgbGF0ZXIgKi8NCiAJ
CX0NCi0JfQ0KIH0NCiANCiANCmRpZmYgLXVyIGxpbnV4LWF0YS1ob3N0cy0x
MS9kcml2ZXJzL2lkZS9jeTgyYzY5My5jIGxpbnV4L2RyaXZlcnMvaWRlL2N5
ODJjNjkzLmMNCi0tLSBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUv
Y3k4MmM2OTMuYwlNb24gSnVuIDI0IDIyOjQwOjQwIDIwMDINCisrKyBsaW51
eC9kcml2ZXJzL2lkZS9jeTgyYzY5My5jCU1vbiBKdW4gMjQgMjM6Mjk6NTcg
MjAwMg0KQEAgLTQxNCwxNCArNDE0LDExIEBADQogCWh3aWYtPnR1bmVwcm9j
ID0gY3k4MmM2OTNfdHVuZV9kcml2ZTsNCiAJaHdpZi0+ZHJpdmVzWzBdLmF1
dG90dW5lID0gMTsNCiAJaHdpZi0+ZHJpdmVzWzFdLmF1dG90dW5lID0gMTsN
Ci0JaHdpZi0+YXV0b2RtYSA9IDA7DQogDQogI2lmZGVmIENPTkZJR19CTEtf
REVWX0lERURNQQ0KIAlpZiAoaHdpZi0+ZG1hX2Jhc2UpIHsNCiAJCWh3aWYt
PmhpZ2htZW0gPSAxOw0KIAkJaHdpZi0+dWRtYV9zZXR1cCA9IGN5ODJjNjkz
X3VkbWFfc2V0dXA7DQotCQlpZiAoIW5vYXV0b2RtYSkNCi0JCQlod2lmLT5h
dXRvZG1hID0gMTsNCiAJfQ0KICNlbmRpZg0KIH0NCmRpZmYgLXVyIGxpbnV4
LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS9ocHQzNHguYyBsaW51eC9kcml2
ZXJzL2lkZS9ocHQzNHguYw0KLS0tIGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2
ZXJzL2lkZS9ocHQzNHguYwlNb24gSnVuIDI0IDIyOjQzOjIwIDIwMDINCisr
KyBsaW51eC9kcml2ZXJzL2lkZS9ocHQzNHguYwlNb24gSnVuIDI0IDIzOjU1
OjAyIDIwMDINCkBAIC0xODIsMjYgKzE4MiwyMSBAQA0KIAkJdW5zaWduZWQg
c2hvcnQgcGNpY21kID0gMDsNCiANCiAJCXBjaV9yZWFkX2NvbmZpZ193b3Jk
KGh3aWYtPnBjaV9kZXYsIFBDSV9DT01NQU5ELCAmcGNpY21kKTsNCi0JCWlm
ICghbm9hdXRvZG1hKQ0KLQkJCWh3aWYtPmF1dG9kbWEgPSAocGNpY21kICYg
UENJX0NPTU1BTkRfTUVNT1JZKSA/IDEgOiAwOw0KLQkJZWxzZQ0KLQkJCWh3
aWYtPmF1dG9kbWEgPSAwOw0KLQ0KKyNpZmRlZiBDT05GSUdfSURFRE1BX0FV
VE8NCisJCWh3aWYtPmF1dG9kbWEgPSAocGNpY21kICYgUENJX0NPTU1BTkRf
TUVNT1JZKSA/IDEgOiAwOw0KKyNlbmRpZg0KIAkJaHdpZi0+dWRtYV9zdG9w
ID0gaHB0MzR4X3VkbWFfc3RvcDsNCiAJCWh3aWYtPnVkbWFfaW5pdCA9IGhw
dDM0eF91ZG1hX2luaXQ7DQogCQlod2lmLT5tb2Rlc19tYXAgPSBYRkVSX0VQ
SU8gfCBYRkVSX1NXRE1BIHwgWEZFUl9NV0RNQSB8IFhGRVJfVURNQTsNCiAJ
CWh3aWYtPm5vX2F0YXBpX2F1dG9kbWEgPSAxOw0KIAkJaHdpZi0+dWRtYV9z
ZXR1cCA9IGhwdDM0eF91ZG1hX3NldHVwOw0KIAkJaHdpZi0+aGlnaG1lbSA9
IDE7DQotCX0gZWxzZSB7DQorCX0gZWxzZSANCisjZW5kaWYNCisJew0KIAkJ
aHdpZi0+ZHJpdmVzWzBdLmF1dG90dW5lID0gMTsNCiAJCWh3aWYtPmRyaXZl
c1sxXS5hdXRvdHVuZSA9IDE7DQogCX0NCi0jZWxzZQ0KLQlod2lmLT5kcml2
ZXNbMF0uYXV0b3R1bmUgPSAxOw0KLQlod2lmLT5kcml2ZXNbMV0uYXV0b3R1
bmUgPSAxOw0KLQlod2lmLT5hdXRvZG1hID0gMDsNCi0jZW5kaWYNCiB9DQog
DQogDQpAQCAtMjEzLDcgKzIwOCw3IEBADQogCWluaXRfY2hhbm5lbDoJaWRl
X2luaXRfaHB0MzR4LA0KIAlib290YWJsZTogTkVWRVJfQk9BUkQsDQogCWV4
dHJhOiAxNiwNCi0JZmxhZ3M6IEFUQV9GX05PQURNQSB8IEFUQV9GX0RNQQ0K
KwlmbGFnczogQVRBX0ZfRE1BDQogfTsNCiANCiBpbnQgX19pbml0IGluaXRf
aHB0MzR4KHZvaWQpDQpkaWZmIC11ciBsaW51eC1hdGEtaG9zdHMtMTEvZHJp
dmVycy9pZGUvaHB0MzY2LmMgbGludXgvZHJpdmVycy9pZGUvaHB0MzY2LmMN
Ci0tLSBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUvaHB0MzY2LmMJ
TW9uIEp1biAyNCAyMjo0MzoyMCAyMDAyDQorKysgbGludXgvZHJpdmVycy9p
ZGUvaHB0MzY2LmMJTW9uIEp1biAyNCAyMzozMDozOSAyMDAyDQpAQCAtMTE4
NywxNiArMTE4NywxMCBAQA0KIAkJfQ0KIAkJY2gtPm1vZGVzX21hcCA9IGhw
dDN4eF9tb2Rlc19tYXAoY2gpOw0KIAkJY2gtPnVkbWFfc2V0dXAgPSBocHQz
eHhfdWRtYV9zZXR1cDsNCi0NCi0JCWlmICghbm9hdXRvZG1hKQ0KLQkJCWNo
LT5hdXRvZG1hID0gMTsNCi0JCWVsc2UNCi0JCQljaC0+YXV0b2RtYSA9IDA7
DQogCQljaC0+aGlnaG1lbSA9IDE7DQogCX0gZWxzZQ0KICNlbmRpZg0KIAl7
DQotCQljaC0+YXV0b2RtYSA9IDA7DQogCQljaC0+ZHJpdmVzWzBdLmF1dG90
dW5lID0gMTsNCiAJCWNoLT5kcml2ZXNbMV0uYXV0b3R1bmUgPSAxOw0KIAl9
DQpkaWZmIC11ciBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVycy9pZGUvaWRl
LXBjaS5jIGxpbnV4L2RyaXZlcnMvaWRlL2lkZS1wY2kuYw0KLS0tIGxpbnV4
LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS9pZGUtcGNpLmMJTW9uIEp1biAx
MCAyMzoxNzozNyAyMDAyDQorKysgbGludXgvZHJpdmVycy9pZGUvaWRlLXBj
aS5jCVR1ZSBKdW4gMjUgMDA6MDM6NDYgMjAwMg0KQEAgLTI2OSwxMiArMjY5
LDYgQEANCiAJLyoNCiAJICogU2V0dXAgRE1BIHRyYW5zZmVycyBvbiB0aGUg
Y2hhbm5lbC4NCiAJICovDQotCWlmIChkLT5mbGFncyAmIEFUQV9GX05PQURN
QSkNCi0JCWF1dG9kbWEgPSAwOw0KLQ0KLQlpZiAoYXV0b2RtYSkNCi0JCWNo
LT5hdXRvZG1hID0gMTsNCi0NCiAJaWYgKCEoKGQtPmZsYWdzICYgQVRBX0Zf
RE1BKSB8fCAoKGRldi0+Y2xhc3MgPj4gOCkgPT0gUENJX0NMQVNTX1NUT1JB
R0VfSURFICYmIChkZXYtPmNsYXNzICYgMHg4MCkpKSkNCiAJCWdvdG8gbm9f
ZG1hOw0KIAkvKg0KQEAgLTMyOCw2ICszMjIsOSBAQA0KIAkJZC0+aW5pdF9k
bWEoY2gsIGRtYV9iYXNlKTsNCiAJZWxzZQ0KIAkJYXRhX2luaXRfZG1hKGNo
LCBkbWFfYmFzZSk7DQorDQorCWlmIChjaC0+ZG1hX2Jhc2UgJiYgYXV0b2Rt
YSkNCisJCWNoLT5hdXRvZG1hID0gMTsNCiAjZW5kaWYNCiANCiBub19kbWE6
DQpAQCAtMzM1LDYgKzMzMiwxMSBAQA0KIAlpZiAoZC0+aW5pdF9jaGFubmVs
KQ0KIAkJZC0+aW5pdF9jaGFubmVsKGNoKTsNCiANCisjaWZkZWYgQ09ORklH
X0JMS19ERVZfSURFRE1BDQorCWlmICgoZC0+ZmxhZ3MgJiBBVEFfRl9OT0FE
TUEpIHx8IG5vYXV0b2RtYSkNCisJCWNoLT5hdXRvZG1hID0gMDsNCisjZW5k
aWYNCisNCiAJcmV0dXJuIDA7DQogfQ0KIA0KZGlmZiAtdXIgbGludXgtYXRh
LWhvc3RzLTExL2RyaXZlcnMvaWRlL2l0ODE3Mi5jIGxpbnV4L2RyaXZlcnMv
aWRlL2l0ODE3Mi5jDQotLS0gbGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMv
aWRlL2l0ODE3Mi5jCU1vbiBKdW4gMjQgMjI6NDU6MjAgMjAwMg0KKysrIGxp
bnV4L2RyaXZlcnMvaWRlL2l0ODE3Mi5jCU1vbiBKdW4gMjQgMjM6MzE6MzIg
MjAwMg0KQEAgLTIwOCwxNyArMjA4LDExIEBADQogICAgIGlmICghaHdpZi0+
ZG1hX2Jhc2UpDQogCXJldHVybjsNCiANCi0jaWZuZGVmIENPTkZJR19CTEtf
REVWX0lERURNQQ0KLSAgICBod2lmLT5hdXRvZG1hID0gMDsNCi0jZWxzZSAv
KiBDT05GSUdfQkxLX0RFVl9JREVETUEgKi8NCiAjIGlmZGVmIENPTkZJR19J
VDgxNzJfVFVOSU5HDQotICAgIGh3aWYtPmF1dG9kbWEgPSAxOw0KIAlod2lm
LT5tb2Rlc19tYXAgPSBYRkVSX0VQSU8gfCBYRkVSX1NXRE1BIHwgWEZFUl9N
V0RNQSB8IFhGRVJfVURNQTsNCiAJaHdpZi0+dWRtYV9zZXR1cCA9IHVkbWFf
Z2VuZXJpY19zZXR1cDsNCi0gICAgaHdpZi0+ZG1hcHJvYyA9ICZpdDgxNzJf
ZG1hcHJvYzsNCiAgICAgaHdpZi0+c3BlZWRwcm9jID0gJml0ODE3Ml90dW5l
X2NoaXBzZXQ7DQogIyBlbmRpZg0KLSNlbmRpZg0KIA0KICAgICBjbWRCYXNl
ID0gZGV2LT5yZXNvdXJjZVswXS5zdGFydDsNCiAgICAgY3RybEJhc2UgPSBk
ZXYtPnJlc291cmNlWzFdLnN0YXJ0Ow0KZGlmZiAtdXIgbGludXgtYXRhLWhv
c3RzLTExL2RyaXZlcnMvaWRlL3BkYzIwMnh4LmMgbGludXgvZHJpdmVycy9p
ZGUvcGRjMjAyeHguYw0KLS0tIGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2ZXJz
L2lkZS9wZGMyMDJ4eC5jCU1vbiBKdW4gMjQgMjI6NDQ6MzggMjAwMg0KKysr
IGxpbnV4L2RyaXZlcnMvaWRlL3BkYzIwMnh4LmMJTW9uIEp1biAyNCAyMzoz
MTo1OSAyMDAyDQpAQCAtNjg3LDE0ICs2ODcsMTEgQEANCiAJCWh3aWYtPnVk
bWFfaXJxX2xvc3QgPSBwZGMyMDJ4eF9idWc7DQogCQlod2lmLT51ZG1hX3Rp
bWVvdXQgPSBwZGMyMDJ4eF9idWc7DQogCQlod2lmLT5oaWdobWVtID0gMTsN
Ci0JCWlmICghbm9hdXRvZG1hKQ0KLQkJCWh3aWYtPmF1dG9kbWEgPSAxOw0K
IAl9IGVsc2UNCiAjZW5kaWYNCiAJew0KIAkJaHdpZi0+ZHJpdmVzWzBdLmF1
dG90dW5lID0gMTsNCiAJCWh3aWYtPmRyaXZlc1sxXS5hdXRvdHVuZSA9IDE7
DQotCQlod2lmLT5hdXRvZG1hID0gMDsNCiAJfQ0KIH0NCiANCmRpZmYgLXVy
IGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS9waWl4LmMgbGludXgv
ZHJpdmVycy9pZGUvcGlpeC5jDQotLS0gbGludXgtYXRhLWhvc3RzLTExL2Ry
aXZlcnMvaWRlL3BpaXguYwlNb24gSnVuIDI0IDIyOjM1OjEwIDIwMDINCisr
KyBsaW51eC9kcml2ZXJzL2lkZS9waWl4LmMJTW9uIEp1biAyNCAyMzozMzoz
OSAyMDAyDQpAQCAtMzU0LDcgKzM1NCw2IEBADQogDQogCWNoLT50dW5lcHJv
YyA9ICZwaWl4X3R1bmVfZHJpdmU7DQogCWNoLT5zcGVlZHByb2MgPSAmcGlp
eF9zZXRfZHJpdmU7DQotCWNoLT5hdXRvZG1hID0gMDsNCiAJY2gtPmlvXzMy
Yml0ID0gMTsNCiAJY2gtPnVubWFzayA9IDE7DQogCWZvciAoaSA9IDA7IGkg
PCAyOyBpKyspIHsNCkBAIC0zNjcsMTAgKzM2Niw2IEBADQogCQljaC0+aGln
aG1lbSA9IDE7DQogCQljaC0+bW9kZXNfbWFwID0gcGlpeF9tb2Rlc19tYXAo
Y2gpOw0KIAkJY2gtPnVkbWFfc2V0dXAgPSB1ZG1hX2dlbmVyaWNfc2V0dXA7
DQotIyBpZmRlZiBDT05GSUdfSURFRE1BX0FVVE8NCi0JCWlmICghbm9hdXRv
ZG1hKQ0KLQkJCWNoLT5hdXRvZG1hID0gMTsNCi0jIGVuZGlmDQogCX0NCiAj
ZW5kaWYNCiB9DQpkaWZmIC11ciBsaW51eC1hdGEtaG9zdHMtMTEvZHJpdmVy
cy9pZGUvc2VydmVyd29ya3MuYyBsaW51eC9kcml2ZXJzL2lkZS9zZXJ2ZXJ3
b3Jrcy5jDQotLS0gbGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL3Nl
cnZlcndvcmtzLmMJTW9uIEp1biAyNCAyMjozNjozOCAyMDAyDQorKysgbGlu
dXgvZHJpdmVycy9pZGUvc2VydmVyd29ya3MuYwlNb24gSnVuIDI0IDIzOjM0
OjA4IDIwMDINCkBAIC0zNzUsMTkgKzM3NSwxMyBAQA0KICNpZm5kZWYgQ09O
RklHX0JMS19ERVZfSURFRE1BDQogCWh3aWYtPmRyaXZlc1swXS5hdXRvdHVu
ZSA9IDE7DQogCWh3aWYtPmRyaXZlc1sxXS5hdXRvdHVuZSA9IDE7DQotCWh3
aWYtPmF1dG9kbWEgPSAwOw0KICNlbHNlDQogCWlmIChod2lmLT5kbWFfYmFz
ZSkgew0KLSNpZmRlZiBDT05GSUdfSURFRE1BX0FVVE8NCi0JCWlmICghbm9h
dXRvZG1hKQ0KLQkJCWh3aWYtPmF1dG9kbWEgPSAxOw0KLSNlbmRpZg0KIAkJ
aHdpZi0+bW9kZXNfbWFwID0gc3Z3a3NfbW9kZXNfbWFwKGh3aWYpOw0KIAkJ
aHdpZi0+dWRtYV9zZXR1cCA9IHVkbWFfZ2VuZXJpY19zZXR1cDsNCiAJCWh3
aWYtPnVkbWFfc3RvcCA9IHN2d2tzX3VkbWFfc3RvcDsNCiAJCWh3aWYtPmhp
Z2htZW0gPSAxOw0KIAl9IGVsc2Ugew0KLQkJaHdpZi0+YXV0b2RtYSA9IDA7
DQogCQlod2lmLT5kcml2ZXNbMF0uYXV0b3R1bmUgPSAxOw0KIAkJaHdpZi0+
ZHJpdmVzWzFdLmF1dG90dW5lID0gMTsNCiAJfQ0KZGlmZiAtdXIgbGludXgt
YXRhLWhvc3RzLTExL2RyaXZlcnMvaWRlL3NpczU1MTMuYyBsaW51eC9kcml2
ZXJzL2lkZS9zaXM1NTEzLmMNCi0tLSBsaW51eC1hdGEtaG9zdHMtMTEvZHJp
dmVycy9pZGUvc2lzNTUxMy5jCU1vbiBKdW4gMjQgMjI6MzU6MTAgMjAwMg0K
KysrIGxpbnV4L2RyaXZlcnMvaWRlL3NpczU1MTMuYwlNb24gSnVuIDI0IDIz
OjU2OjExIDIwMDINCkBAIC00OTIsMjMgKzQ5MiwxNCBAQA0KIAlod2lmLT50
dW5lcHJvYyA9ICZzaXM1NTEzX3R1bmVfZHJpdmU7DQogCWh3aWYtPnNwZWVk
cHJvYyA9ICZzaXM1NTEzX3R1bmVfY2hpcHNldDsNCiANCi0JaWYgKCEoaHdp
Zi0+ZG1hX2Jhc2UpKQ0KLQkJcmV0dXJuOw0KLQ0KLQlpZiAoaG9zdF9kZXYp
IHsNCi0jaWZkZWYgQ09ORklHX0JMS19ERVZfSURFRE1BDQotCQlpZiAoY2hp
cHNldF9mYW1pbHkgPiBBVEFfMTYpIHsNCi0JCQlod2lmLT5hdXRvZG1hID0g
bm9hdXRvZG1hID8gMCA6IDE7DQotCQkJaHdpZi0+aGlnaG1lbSA9IDE7DQot
CQkJaHdpZi0+bW9kZXNfbWFwID0gc2lzNTUxM19tb2Rlc19tYXAoaHdpZik7
DQotCQkJaHdpZi0+dWRtYV9zZXR1cCA9IHVkbWFfZ2VuZXJpY19zZXR1cDsN
Ci0JCX0gZWxzZSB7DQotI2VuZGlmDQotCQkJaHdpZi0+YXV0b2RtYSA9IDA7
DQogI2lmZGVmIENPTkZJR19CTEtfREVWX0lERURNQQ0KLQkJfQ0KLSNlbmRp
Zg0KKwlpZiAoaHdpZi0+ZG1hX2Jhc2UgJiYgaG9zdF9kZXYgJiYgY2hpcHNl
dF9mYW1pbHkgPiBBVEFfMTYpIHsNCisJCWh3aWYtPmhpZ2htZW0gPSAxOw0K
KwkJaHdpZi0+bW9kZXNfbWFwID0gc2lzNTUxM19tb2Rlc19tYXAoaHdpZik7
DQorCQlod2lmLT51ZG1hX3NldHVwID0gdWRtYV9nZW5lcmljX3NldHVwOw0K
IAl9DQorI2VuZGlmDQorDQogCXJldHVybjsNCiB9DQogDQpAQCAtNTIyLDcg
KzUxMyw2IEBADQogCWluaXRfY2hhbm5lbDogaWRlX2luaXRfc2lzNTUxMywN
CiAJZW5hYmxlYml0czoge3sweDRhLDB4MDIsMHgwMn0sIHsweDRhLDB4MDQs
MHgwNH0gfSwNCiAJYm9vdGFibGU6IE9OX0JPQVJELA0KLQlmbGFnczogQVRB
X0ZfTk9BRE1BDQogfTsNCiANCiBpbnQgX19pbml0IGluaXRfc2lzNTUxMyh2
b2lkKQ0KZGlmZiAtdXIgbGludXgtYXRhLWhvc3RzLTExL2RyaXZlcnMvaWRl
L3NsODJjMTA1LmMgbGludXgvZHJpdmVycy9pZGUvc2w4MmMxMDUuYw0KLS0t
IGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS9zbDgyYzEwNS5jCU1v
biBKdW4gMjQgMjI6NDA6NDAgMjAwMg0KKysrIGxpbnV4L2RyaXZlcnMvaWRl
L3NsODJjMTA1LmMJTW9uIEp1biAyNCAyMzo0NDowNCAyMDAyDQpAQCAtMzMz
LDcgKzMzMyw2IEBADQogCQlkbWFfc3RhdGUgJj0gfjB4NjA7DQogCX0gZWxz
ZSB7DQogCQlkbWFfc3RhdGUgfD0gMHg2MDsNCi0JCWNoLT5hdXRvZG1hID0g
MTsNCiAJfQ0KIAlvdXRiKGRtYV9zdGF0ZSwgZG1hX2Jhc2UgKyAyKTsNCiAN
CmRpZmYgLXVyIGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS90cm0y
OTAuYyBsaW51eC9kcml2ZXJzL2lkZS90cm0yOTAuYw0KLS0tIGxpbnV4LWF0
YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS90cm0yOTAuYwlNb24gSnVuIDI0IDIy
OjQwOjQwIDIwMDINCisrKyBsaW51eC9kcml2ZXJzL2lkZS90cm0yOTAuYwlN
b24gSnVuIDI0IDIzOjM3OjM0IDIwMDINCkBAIC0zMDMsNyArMzAzLDYgQEAN
CiAjZW5kaWYNCiANCiAJaHdpZi0+c2VsZWN0cHJvYyA9ICZ0cm0yOTBfc2Vs
ZWN0cHJvYzsNCi0JaHdpZi0+YXV0b2RtYSA9IDA7CQkJCS8qIHBsYXkgaXQg
c2FmZSBmb3Igbm93ICovDQogI2lmIDENCiAJew0KIAkJLyoNCmRpZmYgLXVy
IGxpbnV4LWF0YS1ob3N0cy0xMS9kcml2ZXJzL2lkZS92aWE4MmN4eHguYyBs
aW51eC9kcml2ZXJzL2lkZS92aWE4MmN4eHguYw0KLS0tIGxpbnV4LWF0YS1o
b3N0cy0xMS9kcml2ZXJzL2lkZS92aWE4MmN4eHguYwlNb24gSnVuIDI0IDIy
OjM1OjEwIDIwMDINCisrKyBsaW51eC9kcml2ZXJzL2lkZS92aWE4MmN4eHgu
YwlNb24gSnVuIDI0IDIzOjU2OjE3IDIwMDINCkBAIC0zNDgsNyArMzQ4LDYg
QEANCiANCiAJaHdpZi0+dHVuZXByb2MgPSAmdmlhODJjeHh4X3R1bmVfZHJp
dmU7DQogCWh3aWYtPnNwZWVkcHJvYyA9ICZ2aWFfc2V0X2RyaXZlOw0KLQlo
d2lmLT5hdXRvZG1hID0gMDsNCiAJaHdpZi0+aW9fMzJiaXQgPSAxOw0KIA0K
IAlod2lmLT51bm1hc2sgPSAodmlhX2NvbmZpZy0+ZmxhZ3MgJiBWSUFfTk9f
VU5NQVNLKSA/IDAgOiAxOw0KQEAgLTM2MiwxMCArMzYxLDYgQEANCiAJCWh3
aWYtPmhpZ2htZW0gPSAxOw0KIAkJaHdpZi0+bW9kZXNfbWFwID0gdmlhX21v
ZGVzX21hcChod2lmKTsNCiAJCWh3aWYtPnVkbWFfc2V0dXAgPSB1ZG1hX2dl
bmVyaWNfc2V0dXA7DQotIyBpZmRlZiBDT05GSUdfSURFRE1BX0FVVE8NCi0J
CWlmICghbm9hdXRvZG1hKQ0KLQkJCWh3aWYtPmF1dG9kbWEgPSAxOw0KLSMg
ZW5kaWYNCiAJfQ0KICNlbmRpZg0KIH0NCkBAIC0zOTEsNyArMzg2LDYgQEAN
CiAJCWluaXRfZG1hOiB2aWE4MmN4eHhfaW5pdF9kbWEsDQogCQllbmFibGVi
aXRzOiB7ezB4NDAsMHgwMiwweDAyfSwgezB4NDAsMHgwMSwweDAxfX0sDQog
CQlib290YWJsZTogT05fQk9BUkQsDQotCQlmbGFnczogQVRBX0ZfTk9BRE1B
DQogCX0sDQogCXsNCiAJCXZlbmRvcjoJUENJX1ZFTkRPUl9JRF9WSUEsDQpA
QCAtNDAyLDcgKzM5Niw2IEBADQogCQlpbml0X2RtYTogdmlhODJjeHh4X2lu
aXRfZG1hLA0KIAkJZW5hYmxlYml0czoge3sweDQwLDB4MDIsMHgwMn0sIHsw
eDQwLDB4MDEsMHgwMX19LA0KIAkJYm9vdGFibGU6IE9OX0JPQVJELA0KLQkJ
ZmxhZ3M6IEFUQV9GX05PQURNQQ0KIAl9LA0KIH07DQogDQo=
---559023410-824023566-1025033494=:27820--
