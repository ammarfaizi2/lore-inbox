Return-Path: <linux-kernel-owner+willy=40w.ods.org-S965001AbVITMkH@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S965001AbVITMkH (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 20 Sep 2005 08:40:07 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S965002AbVITMkH
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 20 Sep 2005 08:40:07 -0400
Received: from mail.ceca.es ([80.68.128.18]:31616 "EHLO mail.ceca.es")
	by vger.kernel.org with ESMTP id S965001AbVITMkF (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 20 Sep 2005 08:40:05 -0400
Importance: Normal
X-Priority: 3 (Normal)
Subject: Change in keycodes generated by the keyboard
MIME-Version: 1.0
From: jj.iglesias@intranet.cajabadajoz.es
To: linux-kernel@vger.kernel.org
X-MIMETrack: MIME-CD by Notes Server on Centenario DOM5/Caja Badajoz(Release 5.0.11  |July
 24, 2002) at 20/09/2005 14.37.13,
	MIME-CD complete at 20/09/2005 14.37.13,
	Serialize by Router on Centenario DOM5/Caja Badajoz(Release 5.0.11  |July
 24, 2002) at 20/09/2005 14.37.16
Date: Tue, 20 Sep 2005 14:37:13 +0200
Message-ID: <OF5EBA7BC3.6BDC645F-ONC1257082.0045537F-C1257082.00455388@cajabadajoz.es>
Content-type: text/plain; charset=us-ascii
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


Hi all!

I've got a Microsoft Wireless Natural Multimedia keyboard (it was a
gift...) and I've been using its "extra" keys upto the 2.6.9 (maybe 2.6.10,
I'm not sure!) version of the kernel. I use to update the kernel as
frequently as I can and one day I noticed that these extra keys didn't work
any more.

When I was given the keyboard I started to make it work under my linux, and
thus I used tools such as "showkey" and I learnt the differences between
scancodes, keycodes or at least I tried to learn them.

Well, I've found that the last revisions of the 2.6 kernel have changed the
keycodes generated by the keyboard. There are "short" keycodes such as
0x1a, "extended normal" keycodes such as "0x008102" (I'm writing at my
work, trying to remember the structure of the keycode, but the point is in
the "81"); and "extended anormal" keycodes that are similar to the previous
but they include "82".

These last keycodes are not sensed by any application, mainly X. I remember
that previous revisions of the 2.6 kernel had sixteen places empty in
certain array used to convert from keycodes to scancodes. The kernel, then,
complainted saying that "keycode 240 has no scancode" or something... I
filled the array with scancodes that weren't in use and the extra keys
begun to work.

But now (that array continues having sixteen empty spaces) the keycodes
generated by the keyboard are completely different.

Any help? Any capture that I could do and email it?

Thanks in advance.
Regards.

Jose Juan Iglesias.


