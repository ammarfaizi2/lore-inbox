Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S284659AbRLPP4m>; Sun, 16 Dec 2001 10:56:42 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S284687AbRLPP4d>; Sun, 16 Dec 2001 10:56:33 -0500
Received: from femail14.sdc1.sfba.home.com ([24.0.95.141]:15501 "EHLO
	femail14.sdc1.sfba.home.com") by vger.kernel.org with ESMTP
	id <S284659AbRLPP4T>; Sun, 16 Dec 2001 10:56:19 -0500
Content-Type: text/plain; charset=US-ASCII
From: Steve Snyder <swsnyder@home.com>
Reply-To: swsnyder@home.com
To: Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: Timeouts on 3C575 network device
Date: Sun, 16 Dec 2001 10:56:17 -0500
X-Mailer: KMail [version 1.3.1]
MIME-Version: 1.0
Content-Transfer-Encoding: 7BIT
Message-Id: <20011216155618.QBBD971.femail14.sdc1.sfba.home.com@there>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

I'm getting transmission time-outs on my CardBus network device, as shown 
below.  

My PCMCIA/CardBus support is built into the kernel.  Although the info 
shown below was generated by a 3CCFE575BT, I get the same behavior when 
using a 3Com 3CXFEM656C.  

I have been seeing this same behavior for years, previously with kernel 
v2.2.x and the pcmcia-cs code seperate, and now kernel 2.4.x with the 
pcmcia code integrated.  Now, with all those different code revisions and 
the problem still remaining you might suspect that it is a hardware 
conflict.  If that's the case, then why is this same hardware problem-free 
in Win98 (I have a dual-boot machine)?  

This problem is very reproducable.  I can't state a sequence of steps to 
reproduce it, but I can generate as many errors loggings as you'd like just 
by using the device.  Please let me know what further info is needed to get 
this problem fixed.  

Thank you.

------------------------------

My hardware:
  Compaq Presario 1260: 
    K6-2/366MHz, 160MB RAM
    CardBus bridge: Texas Instruments PCI1131 (rev 01)
  3Com 3CCFE575BT
  
My software:
  RedHat Linux v7.2 /w kernel v2.4.16 (built for AMD K6 CPU)
  pcmcia-cs 3.1.22 (from RedHat's kernel-pcmcia-cs-3.1.27-10.i386.rpm)


The logged error:

Dec 16 09:25:37 earth kernel: NETDEV WATCHDOG: eth0: transmit timed out
Dec 16 09:25:37 earth kernel: eth0: transmit timed out, tx_status 00 status 
e000.
Dec 16 09:25:37 earth kernel:   diagnostics: net 0ce0 media a800 dma 
000000a0.
Dec 16 09:25:37 earth kernel:   Flags; bus-master 1, dirty 602(10) current 
618(10)
Dec 16 09:25:37 earth kernel:   Transmit list 002625c0 vs. c0262480.
Dec 16 09:25:37 earth kernel:   0: @c0262200  length 80000036 status 
00000036
Dec 16 09:25:37 earth kernel:   1: @c0262240  length 80000036 status 
00000036
Dec 16 09:25:37 earth kernel:   2: @c0262280  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   3: @c02622c0  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   4: @c0262300  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   5: @c0262340  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   6: @c0262380  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   7: @c02623c0  length 8000002a status 
0000002a
Dec 16 09:25:37 earth kernel:   8: @c0262400  length 8000002a status 
8000002a
Dec 16 09:25:37 earth kernel:   9: @c0262440  length 80000036 status 
80000036
Dec 16 09:25:37 earth kernel:   10: @c0262480  length 8000002a status 
0001002a
Dec 16 09:25:37 earth kernel:   11: @c02624c0  length 8000002a status 
0001002a
Dec 16 09:25:37 earth kernel:   12: @c0262500  length 8000002a status 
0001002a
Dec 16 09:25:37 earth kernel:   13: @c0262540  length 8000002a status 
0001002a
Dec 16 09:25:37 earth kernel:   14: @c0262580  length 8000002a status 
0001002a
Dec 16 09:25:37 earth kernel:   15: @c02625c0  length 80000036 status 
00000036

Info shown at boot time:

Dec 16 09:29:00 earth cardmgr[582]: starting, version is 3.1.22
Dec 16 09:29:00 earth cardmgr[582]: config error, file './config.opts' line 
8: no function bindings
Dec 16 09:29:01 earth cardmgr[582]: watching 2 sockets
Dec 16 09:29:01 earth kernel: cs: IO port probe 0x0c00-0x0cff: clean.
Dec 16 09:29:01 earth kernel: cs: IO port probe 0x0100-0x04ff: excluding 
0x330-0x337 0x378-0x37f 0x388-0x38f 0x3f8-0x3ff 0x408-0x40f 0x480-0x48f 
0x4d0-0x4d7
Dec 16 09:29:01 earth kernel: cs: IO port probe 0x0a00-0x0aff: clean.
Dec 16 09:29:01 earth cardmgr[582]: initializing socket 0
Dec 16 09:29:01 earth cardmgr[582]: socket 0: 3Com 3CCFE575B/3CXFE575B Fast 
EtherLink XL
Dec 16 09:29:01 earth cardmgr[582]: executing: 'modprobe cb_enabler'
Dec 16 09:29:01 earth cardmgr[582]: + modprobe: Can't locate module 
cb_enabler
Dec 16 09:29:01 earth cardmgr[582]: modprobe exited with status 255
Dec 16 09:29:01 earth cardmgr[582]: module 
/lib/modules/2.4.16/pcmcia/cb_enabler.o not available
Dec 16 09:29:01 earth cardmgr[582]: executing: 'modprobe 3c59x'
Dec 16 09:29:01 earth cardmgr[582]: + modprobe: Can't locate module 3c59x
Dec 16 09:29:01 earth cardmgr[582]: modprobe exited with status 255
Dec 16 09:29:01 earth cardmgr[582]: module 
/lib/modules/2.4.16/pcmcia/3c59x.o not available
Dec 16 09:29:01 earth cardmgr[582]: executing: './network start 3c59x'

Device info:

# cardctl ident 0
  product info: "3Com Corporation", "3CCFE575BT", "LAN Cardbus Card", "001"
  manfid: 0x0101, 0x5157
  function: 6 (network)

