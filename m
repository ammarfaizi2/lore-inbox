Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S264489AbRFIV1b>; Sat, 9 Jun 2001 17:27:31 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S264490AbRFIV1W>; Sat, 9 Jun 2001 17:27:22 -0400
Received: from www.cscw.msu.edu ([35.8.233.178]:43273 "EHLO cscw.msu.edu")
	by vger.kernel.org with ESMTP id <S264489AbRFIV1I>;
	Sat, 9 Jun 2001 17:27:08 -0400
To: Alan Cox <alan@redhat.com>
Cc: lukas@edeal.de (Lukas Schroeder), zab@redhat.com,
        linux-kernel@vger.kernel.org
Subject: Re: [patch] ess maestro, support for hardware volume control
In-Reply-To: <200106091931.f59JVw731673@devserv.devel.redhat.com>
Reply-To: pfaffben@msu.edu
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII
From: Ben Pfaff <pfaffben@msu.edu>
Date: 09 Jun 2001 17:23:13 -0400
In-Reply-To: Alan Cox's message of "Sat, 9 Jun 2001 15:31:58 -0400 (EDT)"
Message-ID: <87elst2vr2.fsf@pfaffben.user.msu.edu>
User-Agent: Chaos/1.13.1 SEMI/1.14.3 (Ushinoya) FLIM/1.14.2 (Yagi-Nishiguchi) APEL/10.3 Emacs/20.7 (i386-debian-linux-gnu) MULE/4.0 (HANANOEN)
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Alan Cox <alan@redhat.com> writes:

> > this patch applies to (at least) 2.4.3 up to and including 2.4.6-pre2.
> > It enables the hardware volume control feature of the maestro.
> 
> it doesnt apply to the current version of the maestro driver (2.4.5-ac) 
> however. I think it is clashing with the docking station support

Yeah, it does--I included support for the hwv control in the
docking patch.  I used a different technique though because I
couldn't get the technique used by Lukas's patch to work properly
for me.

I now have a patch that will output the hwv buttons pressed (up,
down, mute) to a new dynamically allocated misc device as letters
u, d, m, instead of directly modifying the mixer.  Anyone want
that?  It's more flexible than either the patch that's currently
in -ac or Lukas's patch, but you need a little userspace daemon
for it to do anything useful.

BTW, what is the officially approved way to open a device on a
dynamic misc minor?  Reading /proc/misc for the minor number,
then mknod'ing a device and opening it seems to me to have a
nasty race condition, am I missing something here?
