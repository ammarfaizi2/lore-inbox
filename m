Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1750979AbVKIOTf@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1750979AbVKIOTf (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 9 Nov 2005 09:19:35 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1750878AbVKIOTM
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 9 Nov 2005 09:19:12 -0500
Received: from public.id2-vpn.continvity.gns.novell.com ([195.33.99.129]:1586
	"EHLO emea1-mh.id2.novell.com") by vger.kernel.org with ESMTP
	id S1750844AbVKIOSo (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 9 Nov 2005 09:18:44 -0500
Message-Id: <4372138D.76F0.0078.0@novell.com>
X-Mailer: Novell GroupWise Internet Agent 7.0 
Date: Wed, 09 Nov 2005 15:19:41 +0100
From: "Jan Beulich" <JBeulich@novell.com>
To: <linux-kernel@vger.kernel.org>
Subject: [PATCH 23/39] NLKD/x86 - core
References: <43720DAE.76F0.0078.0@novell.com> <43720E2E.76F0.0078.0@novell.com> <43720E72.76F0.0078.0@novell.com> <43720EAF.76F0.0078.0@novell.com> <43720F5E.76F0.0078.0@novell.com> <43720F95.76F0.0078.0@novell.com> <43720FBA.76F0.0078.0@novell.com> <43720FF6.76F0.0078.0@novell.com> <43721024.76F0.0078.0@novell.com> <4372105B.76F0.0078.0@novell.com> <43721119.76F0.0078.0@novell.com> <43721142.76F0.0078.0@novell.com> <43721184.76F0.0078.0@novell.com> <4372135F.76F0.0078.0@novell.com>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="=__Part31130D6D.0__="
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

This is a MIME message. If you are reading this text, you may want to 
consider changing to a mail reader or gateway that understands how to 
properly handle MIME multipart messages.

--=__Part31130D6D.0__=
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

The core x86 (32- and 64-bit) NLKD additions.

Signed-Off-By: Jan Beulich <jbeulich@novell.com>

(actual patch attached)


--=__Part31130D6D.0__=
Content-Type: application/octet-stream; name="nlkd-x86.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="nlkd-x86.patch"

VGhlIGNvcmUgeDg2ICgzMi0gYW5kIDY0LWJpdCkgTkxLRCBhZGRpdGlvbnMuCgpTaWduZWQtT2Zm
LUJ5OiBKYW4gQmV1bGljaCA8amJldWxpY2hAbm92ZWxsLmNvbT4KCkluZGV4OiAyLjYuMTQtbmxr
ZC9kZWJ1Zy9ubGtkL2FzbS14ODYuaAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSAvZGV2L251bGwJMTk3MC0wMS0w
MSAwMDowMDowMC4wMDAwMDAwMDAgKzAwMDAKKysrIDIuNi4xNC1ubGtkL2RlYnVnL25sa2QvYXNt
LXg4Ni5oCTIwMDUtMTEtMDMgMTI6MTQ6MzIuMDAwMDAwMDAwICswMTAwCkBAIC0wLDAgKzEsMjkw
IEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqCisgKiAgIEZpbGUgTmFtZTogICAgICBhc20t
eDg2LmgKKyAqICAgQ3JlYXRlZCBieTogICAgIEphbiBCZXVsaWNoCisgKiAgICV2ZXJzaW9uOiAg
ICAgICAyICUKKyAqICAgJWRlcml2ZWRfYnk6ICAgIGpiZXVsaWNoICUKKyAqICAgJWRhdGVfbW9k
aWZpZWQ6IFRodSBOb3YgMDMgMDQ6MTQ6MTkgMjAwNSAlCisgKgorICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLworLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoKKyAqIENv
cHlyaWdodCAoYykgMjAwMi0yMDA1IE5vdmVsbCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLiAg
ICAgICAgICAgICAgICAgKgorICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCisgKiBUaGlzIHByb2dyYW0g
aXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yICAgICAgICAg
ICAgICoKKyAqIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdmVyc2lvbiAyIG9mIHRoZSBH
TlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSAgKgorICogYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVl
IFNvZnR3YXJlIEZvdW5kYXRpb24uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCisgKiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUg
aG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCAgICAgICAgICAgKgorICogYnV0IFdJVEhPVVQg
QU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgICAgICAg
ICAgICAqCisgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBV
UlBPU0UuIFNlZSB0aGUgICAgICAgICAgICAgICoKKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNl
bnNlIGZvciBtb3JlIGRldGFpbHMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKgorICog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAqCisgKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9m
IHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSAgICAgICAgICoKKyAqIGFsb25nIHdpdGgg
dGhpcyBwcm9ncmFtOyBpZiBub3QsIGNvbnRhY3QgTm92ZWxsLCBJbmMuICAgICAgICAgICAgICAg
ICAgICAgKgorICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCisgKiBUbyBjb250YWN0IE5vdmVsbCBhYm91
dCB0aGlzIGZpbGUgYnkgcGh5c2ljYWwgb3IgZWxlY3Ryb25pYyBtYWlsLCAgICAgICAgICoKKyAq
IHlvdSBtYXkgZmluZCBjdXJyZW50IGNvbnRhY3QgaW5mb3JtYXRpb24gYXQgd3d3Lm5vdmVsbC5j
b20uICAgICAgICAgICAgICAgKgorICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqCisgKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKiovCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqCisgKglGaWxlIERlc2NyaXB0aW9u
OgorICoKKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KKworLmludGVsX3N5bnRheCBub3ByZWZpeAor
LmFsdG1hY3JvCisKKy5lcXVpdiBUUlVFLCAxCisuZXF1aXYgRkFMU0UsIDAKKworLmVxdWl2IGJ5
dGUsIDEKKy5lcXVpdiB3b3JkLCAyCisuZXF1aXYgZHdvcmQsIDQKKy5lcXVpdiBmd29yZCwgNgor
LmVxdWl2IHF3b3JkLCA4CisuZXF1aXYgdGJ5dGUsIDEwCisuZXF1aXYgb3dvcmQsIDE2CisuZXF1
aXYgeG1td29yZCwgMTYKKworLm1hY3JvIC5leHRwcm9jIG5hbWUKKyAuZ2xvYmFsIG5hbWUKKyAu
dHlwZSBuYW1lLCBAZnVuY3Rpb24KKy5lbmRtCisKKy5tYWNybyAubG9jcHJvYyBuYW1lCisgLnR5
cGUgbmFtZSwgQGZ1bmN0aW9uCisgLmFsaWduIFBST0NFRFVSRV9BTElHTiwgMHhDQworbmFtZToK
KyNpZmRlZiBDT05GSUdfVU5XSU5EX0lORk8KKyAuY2ZpX3N0YXJ0cHJvYworIC5lcXUgLmVoLmZy
YW1lcmVnLCBlaC5TUAorIC5lcXUgLmVoLmZyYW1lcHRyLCBTUAorI2VuZGlmCisuZW5kbQorCisu
bWFjcm8gLnB1YnByb2MgbmFtZQorIC5sb2Nwcm9jIG5hbWUKKyAuZ2xvYmFsIG5hbWUKKy5lbmRt
CisKKy5tYWNybyAuaGlkcHJvYyBuYW1lCisgLnB1YnByb2MgbmFtZQorIC5oaWRkZW4gbmFtZQor
LmVuZG0KKworLm1hY3JvIC5lbmRwIG5hbWUKKyAuc2l6ZSBuYW1lLCAuLW5hbWUKKyNpZmRlZiBD
T05GSUdfVU5XSU5EX0lORk8KKyAuY2ZpX2VuZHByb2MKKyAuZXF1IC5laC5mcmFtZXJlZywgLTEK
KyAuZXF1IC5laC5mcmFtZXB0ciwgLTEKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIC5sb2NlbnRy
eSBuYW1lLCB0eXBlPUBub3R5cGUKKyAudHlwZSBuYW1lLCB0eXBlCituYW1lOgorLmVuZG0KKwor
Lm1hY3JvIC5wdWJlbnRyeSBuYW1lLCB0eXBlCisgLmxvY2VudHJ5IG5hbWUsIHR5cGUKKyAuZ2xv
YmFsIG5hbWUKKy5lbmRtCisKKy5tYWNybyAuaGlkZW50cnkgbmFtZSwgdHlwZQorIC5wdWJlbnRy
eSBuYW1lLCB0eXBlCisgLmhpZGRlbiBuYW1lCisuZW5kbQorCisubWFjcm8gLnJvZGF0YQorIC5z
ZWN0aW9uIC5yb2RhdGEsICJhIiwgQHByb2diaXRzCisuZW5kbQorCisvLyBmcmFtZSB1bndpbmQg
aW5mbyBnZW5lcmF0aW9uIHN1cHBvcnQKKworLm1hY3JvIEVIcHVzaCBpdGVtOnJlcSwgc3BpbGw9
VFJVRQorCXB1c2gJaXRlbQorI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworIC5pZiAuZWguZnJh
bWVyZWcgPT0gZWguU1AKKyAgLmNmaV9hZGp1c3RfY2ZhX29mZnNldCAuZWguc3Rrd29yZAorIC5l
bmRpZgorIC5pZiBzcGlsbAorICAuaWZkZWYgZWguJml0ZW0KKyAgIC5pZiAuZWgucHJlc2VydmVk
ICYmICgxIDw8IGVoLiZpdGVtKQorICAgIC5jZmlfcmVsX29mZnNldCBpdGVtLCAwCisgICAuZW5k
aWYKKyAgLmVuZGlmCisgLmVuZGlmCisjZW5kaWYKKy5lbmRtCisKKy5tYWNybyBFSHB1c2hDIGl0
ZW06cmVxCisgLmlmIDEgfCBpdGVtIC8vIGp1c3QgdG8gbWFrZSBzdXJlIHRoaXMgaXMgYSBjb25z
dGFudAorCXB1c2gJaXRlbQorIC5lbmRpZgorI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworIC5p
ZiAuZWguZnJhbWVyZWcgPT0gZWguU1AKKyAgLmNmaV9hZGp1c3RfY2ZhX29mZnNldCAuZWguc3Rr
d29yZAorIC5lbmRpZgorI2VuZGlmCisuZW5kbQorCisubWFjcm8gRUhwdXNoTyBpdGVtOnJlcQor
CXB1c2gJb2Zmc2V0IGl0ZW0KKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lORk8KKyAuaWYgLmVoLmZy
YW1lcmVnID09IGVoLlNQCisgIC5jZmlfYWRqdXN0X2NmYV9vZmZzZXQgLmVoLnN0a3dvcmQKKyAu
ZW5kaWYKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIEVIcHVzaFYgaXRlbTpyZXEKKwlwdXNoCVtp
dGVtXQorI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworIC5pZiAuZWguZnJhbWVyZWcgPT0gZWgu
U1AKKyAgLmNmaV9hZGp1c3RfY2ZhX29mZnNldCAuZWguc3Rrd29yZAorIC5lbmRpZgorI2VuZGlm
CisuZW5kbQorCisubWFjcm8gRUhwb3AgaXRlbTpyZXEsIGZpbGw9VFJVRQorCXBvcAlpdGVtCisj
aWZkZWYgQ09ORklHX1VOV0lORF9JTkZPCisgLmlmIGZpbGwKKyAgLmlmZGVmIGVoLiZpdGVtCisg
ICAuaWYgLmVoLnByZXNlcnZlZCAmJiAoMSA8PCBlaC4maXRlbSkKKyAgICAuY2ZpX3Jlc3RvcmUg
aXRlbQorICAgLmVuZGlmCisgIC5lbmRpZgorIC5lbmRpZgorIC5pZiAuZWguZnJhbWVyZWcgPT0g
ZWguU1AKKyAgLmNmaV9hZGp1c3RfY2ZhX29mZnNldCAtLmVoLnN0a3dvcmQKKyAuZW5kaWYKKyNl
bmRpZgorLmVuZG0KKworLm1hY3JvIEVIcG9wViBpdGVtOnJlcQorCXBvcAlbaXRlbV0KKyNpZmRl
ZiBDT05GSUdfVU5XSU5EX0lORk8KKyAuaWYgLmVoLmZyYW1lcmVnID09IGVoLlNQCisgIC5jZmlf
YWRqdXN0X2NmYV9vZmZzZXQgLS5laC5zdGt3b3JkCisgLmVuZGlmCisjZW5kaWYKKy5lbmRtCisK
Ky5tYWNybyBFSHNldGZyIGRzdCwgc3JjLCBvZmZzPTAKKyAuaWYgZWguJmRzdCA8PiBlaC4mc3Jj
CisgIC5pZiBvZmZzID09IDAKKwltb3YJZHN0LCBzcmMKKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lO
Rk8KKyAgIC5jZmlfZGVmX2NmYV9yZWdpc3RlciBkc3QKKyNlbmRpZgorICAuZWxzZQorCWxlYQlk
c3QsIFtzcmMgKyAob2ZmcykgKiAuZWguc3Rrd29yZF0KKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lO
Rk8KKyAgIC5jZmlfYWRqdXN0X2NmYV9vZmZzZXQgLShvZmZzKSAqIC5laC5zdGt3b3JkCisgICAu
Y2ZpX2RlZl9jZmFfcmVnaXN0ZXIgZHN0CisjZW5kaWYKKyAgLmVuZGlmCisgLmVsc2UKKwlhZGQJ
ZHN0LCAob2ZmcykgKiAuZWguc3Rrd29yZAorI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworICAu
Y2ZpX2FkanVzdF9jZmFfb2Zmc2V0IC0ob2ZmcykgKiAuZWguc3Rrd29yZAorI2VuZGlmCisgLmVu
ZGlmCisjaWZkZWYgQ09ORklHX1VOV0lORF9JTkZPCisgLmVxdSAuZWguZnJhbWVyZWcsIGVoLiZk
c3QKKyAuZXF1IC5laC5mcmFtZXB0ciwgZHN0CisjZW5kaWYKKy5lbmRtCisKKy5tYWNybyBFSGVu
dGVyIGZyc3osIGxldmVsCisJZW50ZXIJZnJzeiwgbGV2ZWwKKyNpZmRlZiBDT05GSUdfVU5XSU5E
X0lORk8KKyAuaWYgLmVoLmZyYW1lcmVnIDw+IGVoLlNQCisgIC5lcnJvciAiJ2VudGVyJyB3aXRo
b3V0IFNQLWJhc2VkIGZyYW1lIGlzIG5vdCBzdXBwb3J0ZWQuIgorIC5lbmRpZgorIC5jZmlfYWRq
dXN0X2NmYV9vZmZzZXQgLmVoLnN0a3dvcmQKKyAuY2ZpX3JlbF9vZmZzZXQgQlAsIDAKKyAuY2Zp
X2RlZl9jZmFfcmVnaXN0ZXIgQlAKKyAuZXF1IC5laC5mcmFtZXJlZywgZWguQlAKKyAuZXF1IC5l
aC5mcmFtZXB0ciwgQlAKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIEVIbGVhdmUKKwlsZWF2ZQor
I2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworIC5pZiAuZWguZnJhbWVyZWcgPD4gZWguQlAKKyAg
LmVycm9yICInbGVhdmUnIHdpdGhvdXQgQlAtYmFzZWQgZnJhbWUgaXMgbm90IHN1cHBvcnRlZC4i
CisgLmVuZGlmCisgLmNmaV9kZWZfY2ZhX3JlZ2lzdGVyIFNQCisgLmNmaV9yZXN0b3JlIEJQCisg
LmNmaV9hZGp1c3RfY2ZhX29mZnNldCAtLmVoLnN0a3dvcmQKKyAuZXF1IC5laC5mcmFtZXJlZywg
ZWguU1AKKyAuZXF1IC5laC5mcmFtZXB0ciwgU1AKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIEVI
c3BpbGwgb2ZmczpyZXEsIHJlZzpyZXEKKwltb3YJWy5laC5mcmFtZXB0cisob2ZmcykqLmVoLnN0
a3dvcmRdLCByZWcKKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lORk8KKyAuaWYgLmVoLmZyYW1lcmVn
ID09IGVoLlNQICYmJiYmIChvZmZzKSA8IDAKKyAgLndhcm5pbmcgIlNwaWxsIG9mZnNldCBpbnRv
IFNQLXJlbGF0aXZlIGZyYW1lIHNob3VsZCBiZSBwb3NpdGl2ZS4iCisgLmVuZGlmCisgLmNmaV9v
ZmZzZXQgcmVnLCAob2ZmcykqLmVoLnN0a3dvcmQKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIEVI
ZmlsbCByZWc6cmVxLCBvZmZzOnJlcQorCW1vdglyZWcsIFsuZWguZnJhbWVwdHIrKG9mZnMpKi5l
aC5zdGt3b3JkXQorI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworIC5pZiAuZWguZnJhbWVyZWcg
PT0gZWguU1AgJiYmJiYgKG9mZnMpIDwgMAorICAud2FybmluZyAiRmlsbCBvZmZzZXQgaW50byBT
UC1yZWxhdGl2ZSBmcmFtZSBzaG91bGQgYmUgcG9zaXRpdmUuIgorIC5lbmRpZgorIC5jZmlfcmVz
dG9yZSByZWcKKyNlbmRpZgorLmVuZG0KKworLm1hY3JvIEVIcHVzaGYgc3BpbGw9VFJVRQorCXB1
c2hmCisjaWZkZWYgQ09ORklHX1VOV0lORF9JTkZPCisgLmlmIC5laC5mcmFtZXJlZyA9PSBlaC5T
UAorICAuY2ZpX2FkanVzdF9jZmFfb2Zmc2V0IC5laC5zdGt3b3JkCisgLmVuZGlmCisgLmlmIHNw
aWxsCisgIC5jZmlfcmVsX29mZnNldCBGTEFHUywgMAorIC5lbmRpZgorI2VuZGlmCisuZW5kbQor
CisubWFjcm8gRUhwb3BmIGZpbGw9VFJVRQorCXBvcGYKKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lO
Rk8KKyAuaWYgZmlsbAorICAuY2ZpX3Jlc3RvcmUgRkxBR1MKKyAuZW5kaWYKKyAuaWYgLmVoLmZy
YW1lcmVnID09IGVoLlNQCisgIC5jZmlfYWRqdXN0X2NmYV9vZmZzZXQgLS5laC5zdGt3b3JkCisg
LmVuZGlmCisjZW5kaWYKKy5lbmRtCisKKy5tYWNybyBFSHB1c2hTdGF0ZQorI2lmZGVmIENPTkZJ
R19VTldJTkRfSU5GTworIC5jZmlfcmVtZW1iZXJfc3RhdGUKKyNlbmRpZgorLmVuZG0KKworLm1h
Y3JvIEVIcG9wU3RhdGUKKyNpZmRlZiBDT05GSUdfVU5XSU5EX0lORk8KKyAuY2ZpX3Jlc3RvcmVf
c3RhdGUKKyNlbmRpZgorLmVuZG0KKworI2lmZGVmIENPTkZJR19VTldJTkRfSU5GTworLmVxdSAu
ZWguZnJhbWVyZWcsIC0xCisuZXF1IC5laC5mcmFtZXB0ciwgLTEKKyNlbmRpZgo=

--=__Part31130D6D.0__=--
