Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261196AbUKBLVw@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261196AbUKBLVw (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 2 Nov 2004 06:21:52 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261198AbUKBLVw
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 2 Nov 2004 06:21:52 -0500
Received: from mx1.redhat.com ([66.187.233.31]:42171 "EHLO mx1.redhat.com")
	by vger.kernel.org with ESMTP id S261196AbUKBLVs (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 2 Nov 2004 06:21:48 -0500
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20041101162929.63af1d0d.akpm@osdl.org> 
References: <20041101162929.63af1d0d.akpm@osdl.org>  <76b4a884-2c3c-11d9-91a1-0002b3163499@redhat.com> <200411011930.iA1JUMgs023243@warthog.cambridge.redhat.com> 
To: Andrew Morton <akpm@osdl.org>
Cc: torvalds@osdl.org, davidm@snapgear.com, linux-kernel@vger.kernel.org,
       uclinux-dev@uclinux.org
Subject: Re: [PATCH 12/14] FRV: Generate more useful debug info 
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Tue, 02 Nov 2004 11:21:36 +0000
Message-ID: <5109.1099394496@redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> Generates rejects against Sam's tree and appears to be unrelated to FRV,
> yes?

I know not Sam's tree.

It's a generic thing. "gcc -g" does not cause compiled .S files to include
debugging information, and -O1 optimised code is more debuggable than -O2
optimised code.

> Are you sure that all architectures want this?  And that their toolchains
> will continue to work correctly?  And that it doesn't break older gcc's and
> that kgdb will continue to work correctly, etc?

-O1: Dunno; if they don't they're buggy, and if they don't they're buggy.

-Wa,--gdwarf2: No, no and no.

I can move the -Wa flag back into the frv arch if you insist, but moving the
-O1 flag there is more tricky, since it'd then be overridden in master
Makefile.

David
