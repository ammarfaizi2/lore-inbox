Return-Path: <linux-kernel-owner+willy=40w.ods.org-S262538AbVA0KsU@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262538AbVA0KsU (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 27 Jan 2005 05:48:20 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262574AbVA0KlG
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 27 Jan 2005 05:41:06 -0500
Received: from ns.suse.de ([195.135.220.2]:20189 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S262557AbVA0K0L (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Thu, 27 Jan 2005 05:26:11 -0500
Date: Thu, 27 Jan 2005 11:26:07 +0100
Message-ID: <s5hk6pzrww0.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Biker <biker@villagepeople.it>
Cc: linux-kernel@vger.kernel.org
Subject: Re: [BUG] 2.6.11-rc2 ALSA
In-Reply-To: <200501261920.30470.biker@villagepeople.it>
References: <200501261920.30470.biker@villagepeople.it>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 15) (Security Through Obscurity) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Wed, 26 Jan 2005 19:20:26 +0100,
Biker wrote:
> 
> Hello list,
> after upgrading to 2.6.11-rc2 my soundcard doesn't work anymore:
> 
> I get this message during initialization of ALSA:
> 
> /usr/sbin/alsactl: set_control:805: warning: name mismatch (External 
> Amplifier/Headphone Jack Sense) for control #26

Your init script should use -F option with alsactl.

> The soundcard is integrated on my thinkpad centrino notebook (R50), lspci 
> reports this:

It's a known problem (happening mostly on thinkpads).
Turning off 'Headphone Jack Sense' and 'Line Jack Sense' mixer
switches should fix it.


> Multimedia audio controller: Intel Corp. 82801DB/DBL/DBM (ICH4/ICH4-L/ICH4-M) 
> AC'97 Audio Controller (rev 01)
> 
> If I boot back to 2.6.10 the PCM control has the volume set to zero, but 
> readjusting it to a normal value brings everything back to normal.

This is because alsactl once aborted, the uninitialized state was
saved at the reboot and that wrong state was restored again.
The failure of init script.


Takashi
