Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1751706AbWEPJEm@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751706AbWEPJEm (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 16 May 2006 05:04:42 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751697AbWEPJEm
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 16 May 2006 05:04:42 -0400
Received: from ns1.suse.de ([195.135.220.2]:24263 "EHLO mx1.suse.de")
	by vger.kernel.org with ESMTP id S1750727AbWEPJEl (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 16 May 2006 05:04:41 -0400
Date: Tue, 16 May 2006 11:04:40 +0200
Message-ID: <s5hslna49xz.wl%tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Andrew Morton <akpm@osdl.org>
Cc: michal.k.k.piotrowski@gmail.com, perex@suse.cz,
       alsa-devel@alsa-project.org, linux-kernel@vger.kernel.org
Subject: Re: 2.6.17-rc4-mm1
In-Reply-To: <20060515111111.510f214a.akpm@osdl.org>
References: <20060515005637.00b54560.akpm@osdl.org>
	<6bffcb0e0605150940l647273f0jf4e1b9d5737bbd2@mail.gmail.com>
	<20060515100429.5069f6ca.akpm@osdl.org>
	<s5h3bfb5h73.wl%tiwai@suse.de>
	<s5hy7x341f8.wl%tiwai@suse.de>
	<20060515111111.510f214a.akpm@osdl.org>
User-Agent: Wanderlust/2.12.0 (Your Wildest Dreams) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.7 (=?ISO-8859-4?Q?Sanj=F2?=) APEL/10.6 MULE XEmacs/21.5 (beta25)
 (eggplant) (+CVS-20060326) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Mon, 15 May 2006 11:11:11 -0700,
Andrew Morton wrote:
> 
> Takashi Iwai <tiwai@suse.de> wrote:
> >
> > -unsigned int snd_cards_lock = 0;	/* locked for registering/using */
> > +static unsigned int snd_cards_lock = 0;	/* locked for registering/using */
> 
> May as well remove the `= 0' while you're there.  It adds four bytes to the
> module unnecessarily.

Yep.  Will remove it.

> >  void snd_request_card(int card)
> >  {
> > -	int locked;
> > -
> >  	if (! current->fs->root)
> >  		return;
> 
> I wonder what that's there for.

This is almost for backward compatibility only.
We have already module aliases, so it can be cleaned up.


Takashi
