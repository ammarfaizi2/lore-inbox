Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S263453AbTLXCe6 (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 23 Dec 2003 21:34:58 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S263466AbTLXCe5
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 23 Dec 2003 21:34:57 -0500
Received: from zero.voxel.net ([209.123.232.253]:8384 "EHLO zero.voxel.net")
	by vger.kernel.org with ESMTP id S263453AbTLXCec (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 23 Dec 2003 21:34:32 -0500
Subject: Re: [PATCH 5/7] more CardServices() removals (drivers/net/wireless)
From: Andres Salomon <dilinger@voxel.net>
To: Andrew Morton <akpm@osdl.org>
Cc: linux-kernel@vger.kernel.org, linux-pcmcia@lists.infradead.org,
       jt@hpl.hp.com, corey@world.std.com
In-Reply-To: <20031223182817.0bd3dd3c.akpm@osdl.org>
References: <1072229780.5300.69.camel@spiral.internal>
	 <20031223182817.0bd3dd3c.akpm@osdl.org>
Content-Type: multipart/signed; micalg=pgp-sha1; protocol="application/pgp-signature"; boundary="=-UDa05ghBLesJqn1uD8nn"
Message-Id: <1072233272.6295.4.camel@spiral.internal>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5 
Date: Tue, 23 Dec 2003 21:34:32 -0500
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


--=-UDa05ghBLesJqn1uD8nn
Content-Type: multipart/mixed; boundary="=-LMf7eTp4VThEp1+RijIu"


--=-LMf7eTp4VThEp1+RijIu
Content-Type: text/plain
Content-Transfer-Encoding: quoted-printable

Sorry, I'm having issues w/ my dialup (and 5 was definitely the wrong
patch).  I've attached 5 and 7 (I'm not sure if 7 ever made it
through).  I broke the patches up so that I could CC separate
maintainers, but my ISP's not making this easy for me.  My apologies if
anyone's getting these emails twice.




On Tue, 2003-12-23 at 21:28, Andrew Morton wrote:
> Andres Salomon <dilinger@voxel.net> wrote:
> >
> > Part 5 of 7.
> >=20
> >=20
> > [005-cs_remove.patch  text/x-patch (6824 bytes)]
> >  Revision: linux--mainline--2.6--patch-18
> >  Archive: dilinger@voxel.net--2003-spiral
> >  Creator: Andres Salomon <dilinger@voxel.net>
> >  Date: Sun Dec 21 21:08:50 EST 2003
> >  Standard-date: 2003-12-22 02:08:50 GMT
> >  Modified-files: drivers/net/pcmcia/3c574_cs.c
>=20
> hmm, 3c574_cs was done in the other patch series.
>=20
> I didn't receive patch 7/7.   Was there one?
>=20
> Could you please aggregate these a bit?  One single patch for each driver
> subdir, say.
>=20
> Thanks.
>=20

--=-LMf7eTp4VThEp1+RijIu
Content-Disposition: attachment; filename=105-cs_remove.patch
Content-Type: text/x-patch; name=105-cs_remove.patch; charset=us-ascii
Content-Transfer-Encoding: base64

UmV2aXNpb246IGxpbnV4LS1tYWlubGluZS0tMi42LS1wYXRjaC0zNA0KQXJjaGl2ZTogZGlsaW5n
ZXJAdm94ZWwubmV0LS0yMDAzLXNwaXJhbA0KQ3JlYXRvcjogQW5kcmVzIFNhbG9tb24gPGRpbGlu
Z2VyQHZveGVsLm5ldD4NCkRhdGU6IFR1ZSBEZWMgMjMgMTk6MDQ6MDIgRVNUIDIwMDMNClN0YW5k
YXJkLWRhdGU6IDIwMDMtMTItMjQgMDA6MDQ6MDIgR01UDQpNb2RpZmllZC1maWxlczogZHJpdmVy
cy9uZXQvd2lyZWxlc3Mvd2F2ZWxhbl9jcy5jDQpOZXctcGF0Y2hlczogZGlsaW5nZXJAdm94ZWwu
bmV0LS0yMDAzLXNwaXJhbC9saW51eC0tbWFpbmxpbmUtLTIuNi0tcGF0Y2gtMzQNClN1bW1hcnk6
IENhcmRTZXJ2aWNlcygpIHJlbW92YWwsIGFjdCAyLCBwdC4gNS4NCktleXdvcmRzOiANCg0KUmVt
b3ZlIGNhbGxzIHRvIENhcmRTZXJ2aWNlcygpLCBhY3QgMiwgcGFydCA1OyB3YXZlbGFuX2NzLmMu
DQoNCiogYWRkZWQgZmlsZXMNCg0KICAgIHthcmNofS9saW51eC9saW51eC0tbWFpbmxpbmUvbGlu
dXgtLW1haW5saW5lLS0yLjYvZGlsaW5nZXJAdm94ZWwubmV0LS0yMDAzLXNwaXJhbC9wYXRjaC1s
b2cvcGF0Y2gtMzQNCg0KKiBtb2RpZmllZCBmaWxlcw0KDQotLS0gb3JpZy9kcml2ZXJzL25ldC93
aXJlbGVzcy93YXZlbGFuX2NzLmMNCisrKyBtb2QvZHJpdmVycy9uZXQvd2lyZWxlc3Mvd2F2ZWxh
bl9jcy5jDQpAQCAtMzgwMiw3ICszODAyLDcgQEANCiAgIHByaW50ayhLRVJOX0RFQlVHICIlczog
LT53dl9wY21jaWFfcmVzZXQoKVxuIiwgZGV2LT5uYW1lKTsNCiAjZW5kaWYNCiANCi0gIGkgPSBD
YXJkU2VydmljZXMoQWNjZXNzQ29uZmlndXJhdGlvblJlZ2lzdGVyLCBsaW5rLT5oYW5kbGUsICZy
ZWcpOw0KKyAgaSA9IHBjbWNpYV9hY2Nlc3NfY29uZmlndXJhdGlvbl9yZWdpc3RlcihsaW5rLT5o
YW5kbGUsICZyZWcpOw0KICAgaWYoaSAhPSBDU19TVUNDRVNTKQ0KICAgICB7DQogICAgICAgY3Nf
ZXJyb3IobGluay0+aGFuZGxlLCBBY2Nlc3NDb25maWd1cmF0aW9uUmVnaXN0ZXIsIGkpOw0KQEAg
LTM4MTYsNyArMzgxNiw3IEBADQogDQogICByZWcuQWN0aW9uID0gQ1NfV1JJVEU7DQogICByZWcu
VmFsdWUgPSByZWcuVmFsdWUgfCBDT1JfU1dfUkVTRVQ7DQotICBpID0gQ2FyZFNlcnZpY2VzKEFj
Y2Vzc0NvbmZpZ3VyYXRpb25SZWdpc3RlciwgbGluay0+aGFuZGxlLCAmcmVnKTsNCisgIGkgPSBw
Y21jaWFfYWNjZXNzX2NvbmZpZ3VyYXRpb25fcmVnaXN0ZXIobGluay0+aGFuZGxlLCAmcmVnKTsN
CiAgIGlmKGkgIT0gQ1NfU1VDQ0VTUykNCiAgICAgew0KICAgICAgIGNzX2Vycm9yKGxpbmstPmhh
bmRsZSwgQWNjZXNzQ29uZmlndXJhdGlvblJlZ2lzdGVyLCBpKTsNCkBAIC0zODI1LDcgKzM4MjUs
NyBAQA0KICAgICAgIA0KICAgcmVnLkFjdGlvbiA9IENTX1dSSVRFOw0KICAgcmVnLlZhbHVlID0g
Q09SX0xFVkVMX0lSUSB8IENPUl9DT05GSUc7DQotICBpID0gQ2FyZFNlcnZpY2VzKEFjY2Vzc0Nv
bmZpZ3VyYXRpb25SZWdpc3RlciwgbGluay0+aGFuZGxlLCAmcmVnKTsNCisgIGkgPSBwY21jaWFf
YWNjZXNzX2NvbmZpZ3VyYXRpb25fcmVnaXN0ZXIobGluay0+aGFuZGxlLCAmcmVnKTsNCiAgIGlm
KGkgIT0gQ1NfU1VDQ0VTUykNCiAgICAgew0KICAgICAgIGNzX2Vycm9yKGxpbmstPmhhbmRsZSwg
QWNjZXNzQ29uZmlndXJhdGlvblJlZ2lzdGVyLCBpKTsNCkBAIC00MDE4LDE2ICs0MDE4LDE2IEBA
DQogICAgIHsNCiAgICAgICB0dXBsZS5BdHRyaWJ1dGVzID0gMDsNCiAgICAgICB0dXBsZS5EZXNp
cmVkVHVwbGUgPSBDSVNUUExfQ09ORklHOw0KLSAgICAgIGkgPSBDYXJkU2VydmljZXMoR2V0Rmly
c3RUdXBsZSwgaGFuZGxlLCAmdHVwbGUpOw0KKyAgICAgIGkgPSBwY21jaWFfZ2V0X2ZpcnN0X3R1
cGxlKGhhbmRsZSwgJnR1cGxlKTsNCiAgICAgICBpZihpICE9IENTX1NVQ0NFU1MpDQogCWJyZWFr
Ow0KICAgICAgIHR1cGxlLlR1cGxlRGF0YSA9IChjaXNkYXRhX3QgKilidWY7DQogICAgICAgdHVw
bGUuVHVwbGVEYXRhTWF4ID0gNjQ7DQogICAgICAgdHVwbGUuVHVwbGVPZmZzZXQgPSAwOw0KLSAg
ICAgIGkgPSBDYXJkU2VydmljZXMoR2V0VHVwbGVEYXRhLCBoYW5kbGUsICZ0dXBsZSk7DQorICAg
ICAgaSA9IHBjbWNpYV9nZXRfdHVwbGVfZGF0YShoYW5kbGUsICZ0dXBsZSk7DQogICAgICAgaWYo
aSAhPSBDU19TVUNDRVNTKQ0KIAlicmVhazsNCi0gICAgICBpID0gQ2FyZFNlcnZpY2VzKFBhcnNl
VHVwbGUsIGhhbmRsZSwgJnR1cGxlLCAmcGFyc2UpOw0KKyAgICAgIGkgPSBwY21jaWFfcGFyc2Vf
dHVwbGUoaGFuZGxlLCAmdHVwbGUsICZwYXJzZSk7DQogICAgICAgaWYoaSAhPSBDU19TVUNDRVNT
KQ0KIAlicmVhazsNCiAgICAgICBsaW5rLT5jb25mLkNvbmZpZ0Jhc2UgPSBwYXJzZS5jb25maWcu
YmFzZTsNCkBAIC00MDQ1LDcgKzQwNDUsNyBAQA0KICAgbGluay0+c3RhdGUgfD0gREVWX0NPTkZJ
RzsNCiAgIGRvDQogICAgIHsNCi0gICAgICBpID0gQ2FyZFNlcnZpY2VzKFJlcXVlc3RJTywgbGlu
ay0+aGFuZGxlLCAmbGluay0+aW8pOw0KKyAgICAgIGkgPSBwY21jaWFfcmVxdWVzdF9pbyhsaW5r
LT5oYW5kbGUsICZsaW5rLT5pbyk7DQogICAgICAgaWYoaSAhPSBDU19TVUNDRVNTKQ0KIAl7DQog
CSAgY3NfZXJyb3IobGluay0+aGFuZGxlLCBSZXF1ZXN0SU8sIGkpOw0KQEAgLTQwNTYsNyArNDA1
Niw3IEBADQogICAgICAgICogTm93IGFsbG9jYXRlIGFuIGludGVycnVwdCBsaW5lLiAgTm90ZSB0
aGF0IHRoaXMgZG9lcyBub3QNCiAgICAgICAgKiBhY3R1YWxseSBhc3NpZ24gYSBoYW5kbGVyIHRv
IHRoZSBpbnRlcnJ1cHQuDQogICAgICAgICovDQotICAgICAgaSA9IENhcmRTZXJ2aWNlcyhSZXF1
ZXN0SVJRLCBsaW5rLT5oYW5kbGUsICZsaW5rLT5pcnEpOw0KKyAgICAgIGkgPSBwY21jaWFfcmVx
dWVzdF9pcnEobGluay0+aGFuZGxlLCAmbGluay0+aXJxKTsNCiAgICAgICBpZihpICE9IENTX1NV
Q0NFU1MpDQogCXsNCiAJICBjc19lcnJvcihsaW5rLT5oYW5kbGUsIFJlcXVlc3RJUlEsIGkpOw0K
QEAgLTQwNjgsNyArNDA2OCw3IEBADQogICAgICAgICogdGhlIEkvTyB3aW5kb3dzIGFuZCB0aGUg
aW50ZXJydXB0IG1hcHBpbmcuDQogICAgICAgICovDQogICAgICAgbGluay0+Y29uZi5Db25maWdJ
bmRleCA9IDE7DQotICAgICAgaSA9IENhcmRTZXJ2aWNlcyhSZXF1ZXN0Q29uZmlndXJhdGlvbiwg
bGluay0+aGFuZGxlLCAmbGluay0+Y29uZik7DQorICAgICAgaSA9IHBjbWNpYV9yZXF1ZXN0X2Nv
bmZpZ3VyYXRpb24obGluay0+aGFuZGxlLCAmbGluay0+Y29uZik7DQogICAgICAgaWYoaSAhPSBD
U19TVUNDRVNTKQ0KIAl7DQogCSAgY3NfZXJyb3IobGluay0+aGFuZGxlLCBSZXF1ZXN0Q29uZmln
dXJhdGlvbiwgaSk7DQpAQCAtNDA4NCw4ICs0MDg0LDcgQEANCiAgICAgICByZXEuQXR0cmlidXRl
cyA9IFdJTl9EQVRBX1dJRFRIXzh8V0lOX01FTU9SWV9UWVBFX0FNfFdJTl9FTkFCTEU7DQogICAg
ICAgcmVxLkJhc2UgPSByZXEuU2l6ZSA9IDA7DQogICAgICAgcmVxLkFjY2Vzc1NwZWVkID0gbWVt
X3NwZWVkOw0KLSAgICAgIGxpbmstPndpbiA9ICh3aW5kb3dfaGFuZGxlX3QpbGluay0+aGFuZGxl
Ow0KLSAgICAgIGkgPSBDYXJkU2VydmljZXMoUmVxdWVzdFdpbmRvdywgJmxpbmstPndpbiwgJnJl
cSk7DQorICAgICAgaSA9IHBjbWNpYV9yZXF1ZXN0X3dpbmRvdygmbGluay0+aGFuZGxlLCAmcmVx
LCAmbGluay0+d2luKTsNCiAgICAgICBpZihpICE9IENTX1NVQ0NFU1MpDQogCXsNCiAJICBjc19l
cnJvcihsaW5rLT5oYW5kbGUsIFJlcXVlc3RXaW5kb3csIGkpOw0KQEAgLTQwOTYsNyArNDA5NSw3
IEBADQogICAgICAgZGV2LT5tZW1fZW5kID0gZGV2LT5tZW1fc3RhcnQgKyByZXEuU2l6ZTsNCiAN
CiAgICAgICBtZW0uQ2FyZE9mZnNldCA9IDA7IG1lbS5QYWdlID0gMDsNCi0gICAgICBpID0gQ2Fy
ZFNlcnZpY2VzKE1hcE1lbVBhZ2UsIGxpbmstPndpbiwgJm1lbSk7DQorICAgICAgaSA9IHBjbWNp
YV9tYXBfbWVtX3BhZ2UobGluay0+d2luLCAmbWVtKTsNCiAgICAgICBpZihpICE9IENTX1NVQ0NF
U1MpDQogCXsNCiAJICBjc19lcnJvcihsaW5rLT5oYW5kbGUsIE1hcE1lbVBhZ2UsIGkpOw0KQEAg
LTQxNzAsMTAgKzQxNjksMTAgQEANCiANCiAgIC8qIERvbid0IGJvdGhlciBjaGVja2luZyB0byBz
ZWUgaWYgdGhlc2Ugc3VjY2VlZCBvciBub3QgKi8NCiAgIGlvdW5tYXAoKHVfY2hhciAqKWRldi0+
bWVtX3N0YXJ0KTsNCi0gIENhcmRTZXJ2aWNlcyhSZWxlYXNlV2luZG93LCBsaW5rLT53aW4pOw0K
LSAgQ2FyZFNlcnZpY2VzKFJlbGVhc2VDb25maWd1cmF0aW9uLCBsaW5rLT5oYW5kbGUpOw0KLSAg
Q2FyZFNlcnZpY2VzKFJlbGVhc2VJTywgbGluay0+aGFuZGxlLCAmbGluay0+aW8pOw0KLSAgQ2Fy
ZFNlcnZpY2VzKFJlbGVhc2VJUlEsIGxpbmstPmhhbmRsZSwgJmxpbmstPmlycSk7DQorICBwY21j
aWFfcmVsZWFzZV93aW5kb3cobGluay0+d2luKTsNCisgIHBjbWNpYV9yZWxlYXNlX2NvbmZpZ3Vy
YXRpb24obGluay0+aGFuZGxlKTsNCisgIHBjbWNpYV9yZWxlYXNlX2lvKGxpbmstPmhhbmRsZSwg
JmxpbmstPmlvKTsNCisgIHBjbWNpYV9yZWxlYXNlX2lycShsaW5rLT5oYW5kbGUsICZsaW5rLT5p
cnEpOw0KIA0KICAgbGluay0+c3RhdGUgJj0gfkRFVl9DT05GSUc7DQogDQpAQCAtNDc3MiwxMCAr
NDc3MSwxMCBAQA0KICAgY2xpZW50X3JlZy5ldmVudF9jYWxsYmFja19hcmdzLmNsaWVudF9kYXRh
ID0gbGluazsNCiANCiAjaWZkZWYgREVCVUdfQ09ORklHX0lORk8NCi0gIHByaW50ayhLRVJOX0RF
QlVHICJ3YXZlbGFuX2F0dGFjaCgpOiBhbG1vc3QgZG9uZSwgY2FsbGluZyBDYXJkU2VydmljZXNc
biIpOw0KKyAgcHJpbnRrKEtFUk5fREVCVUcgIndhdmVsYW5fYXR0YWNoKCk6IGFsbW9zdCBkb25l
LCBjYWxsaW5nIHBjbWNpYV9yZWdpc3Rlcl9jbGllbnRcbiIpOw0KICNlbmRpZg0KIA0KLSAgcmV0
ID0gQ2FyZFNlcnZpY2VzKFJlZ2lzdGVyQ2xpZW50LCAmbGluay0+aGFuZGxlLCAmY2xpZW50X3Jl
Zyk7DQorICByZXQgPSBwY21jaWFfcmVnaXN0ZXJfY2xpZW50KCZsaW5rLT5oYW5kbGUsICZjbGll
bnRfcmVnKTsNCiAgIGlmKHJldCAhPSAwKQ0KICAgICB7DQogICAgICAgY3NfZXJyb3IobGluay0+
aGFuZGxlLCBSZWdpc3RlckNsaWVudCwgcmV0KTsNCkBAIC00ODI2LDcgKzQ4MjUsNyBAQA0KIA0K
ICAgLyogQnJlYWsgdGhlIGxpbmsgd2l0aCBDYXJkIFNlcnZpY2VzICovDQogICBpZihsaW5rLT5o
YW5kbGUpDQotICAgIENhcmRTZXJ2aWNlcyhEZXJlZ2lzdGVyQ2xpZW50LCBsaW5rLT5oYW5kbGUp
Ow0KKyAgICBwY21jaWFfZGVyZWdpc3Rlcl9jbGllbnQobGluay0+aGFuZGxlKTsNCiAgICAgDQog
ICAvKiBSZW1vdmUgdGhlIGludGVyZmFjZSBkYXRhIGZyb20gdGhlIGxpbmtlZCBsaXN0ICovDQog
ICBpZihkZXZfbGlzdCA9PSBsaW5rKQ0KQEAgLTQ5NTUsNyArNDk1NCw3IEBADQogCSAgew0KICAg
ICAgIAkgICAgaWYobGluay0+b3BlbikNCiAJICAgICAgbmV0aWZfZGV2aWNlX2RldGFjaChkZXYp
Ow0KLSAgICAgIAkgICAgQ2FyZFNlcnZpY2VzKFJlbGVhc2VDb25maWd1cmF0aW9uLCBsaW5rLT5o
YW5kbGUpOw0KKyAgICAgIAkgICAgcGNtY2lhX3JlbGVhc2VfY29uZmlndXJhdGlvbihsaW5rLT5o
YW5kbGUpOw0KIAkgIH0NCiAJYnJlYWs7DQogDQpAQCAtNDk2NSw3ICs0OTY0LDcgQEANCiAgICAg
ICBjYXNlIENTX0VWRU5UX0NBUkRfUkVTRVQ6DQogCWlmKGxpbmstPnN0YXRlICYgREVWX0NPTkZJ
RykNCiAJICB7DQotICAgICAgCSAgICBDYXJkU2VydmljZXMoUmVxdWVzdENvbmZpZ3VyYXRpb24s
IGxpbmstPmhhbmRsZSwgJmxpbmstPmNvbmYpOw0KKyAgICAgIAkgICAgcGNtY2lhX3JlcXVlc3Rf
Y29uZmlndXJhdGlvbihsaW5rLT5oYW5kbGUsICZsaW5rLT5jb25mKTsNCiAgICAgICAJICAgIGlm
KGxpbmstPm9wZW4pCS8qIElmIFJFU0VUIC0+IFRydWUsIElmIFJFU1VNRSAtPiBGYWxzZSA/ICov
DQogCSAgICAgIHsNCiAJCXd2X2h3X3Jlc2V0KGRldik7DQoNCg0KDQo=

--=-LMf7eTp4VThEp1+RijIu
Content-Disposition: attachment; filename=107-cs_remove.patch
Content-Type: text/x-patch; name=107-cs_remove.patch; charset=us-ascii
Content-Transfer-Encoding: base64

UmV2aXNpb246IGxpbnV4LS1tYWlubGluZS0tMi42LS1wYXRjaC0zNg0KQXJjaGl2ZTogZGlsaW5n
ZXJAdm94ZWwubmV0LS0yMDAzLXNwaXJhbA0KQ3JlYXRvcjogQW5kcmVzIFNhbG9tb24gPGRpbGlu
Z2VyQHZveGVsLm5ldD4NCkRhdGU6IFR1ZSBEZWMgMjMgMTk6MTc6NDYgRVNUIDIwMDMNClN0YW5k
YXJkLWRhdGU6IDIwMDMtMTItMjQgMDA6MTc6NDYgR01UDQpNb2RpZmllZC1maWxlczogZHJpdmVy
cy9uZXQvd2lyZWxlc3MvcmF5X2NzLmMNCk5ldy1wYXRjaGVzOiBkaWxpbmdlckB2b3hlbC5uZXQt
LTIwMDMtc3BpcmFsL2xpbnV4LS1tYWlubGluZS0tMi42LS1wYXRjaC0zNg0KU3VtbWFyeTogQ2Fy
ZFNlcnZpY2VzKCkgcmVtb3ZhbCwgYWN0IDIsIHB0LiA3Lg0KS2V5d29yZHM6IA0KDQpPaywgdGhp
cyBpc24ndCByZWFsbHkgYSBDYXJkU2VydmljZXMoKSByZW1vdmFsIHBhdGNoOyBpdCBsb29rcyBs
aWtlDQpzb21lb25lIGFscmVhZHkgdG9vayBjYXJlIG9mIHRoaXMgZmlsZS4gIEhvd2V2ZXIsIHRo
ZSBtb2RpZmllZCBDU19DSEVDSygpDQptYWNybyBkb2Vzbid0IGZpbGwgaW4gJ2xhc3RfZm4nLiAg
VGhpcyBwYXRjaCBmaXhlcyB0aGF0Lg0KDQoqIGFkZGVkIGZpbGVzDQoNCiAgICB7YXJjaH0vbGlu
dXgvbGludXgtLW1haW5saW5lL2xpbnV4LS1tYWlubGluZS0tMi42L2RpbGluZ2VyQHZveGVsLm5l
dC0tMjAwMy1zcGlyYWwvcGF0Y2gtbG9nL3BhdGNoLTM2DQoNCiogbW9kaWZpZWQgZmlsZXMNCg0K
LS0tIG9yaWcvZHJpdmVycy9uZXQvd2lyZWxlc3MvcmF5X2NzLmMNCisrKyBtb2QvZHJpdmVycy9u
ZXQvd2lyZWxlc3MvcmF5X2NzLmMNCkBAIC00MjAsNyArNDIwLDcgQEANCiAgICAgY2xpZW50X3Jl
Zy5WZXJzaW9uID0gMHgwMjEwOw0KICAgICBjbGllbnRfcmVnLmV2ZW50X2NhbGxiYWNrX2FyZ3Mu
Y2xpZW50X2RhdGEgPSBsaW5rOw0KIA0KLSAgICBERUJVRygyLCJyYXlfY3MgcmF5X2F0dGFjaCBj
YWxsaW5nIENhcmRTZXJ2aWNlcyhSZWdpc3RlckNsaWVudC4uLilcbiIpOw0KKyAgICBERUJVRygy
LCJyYXlfY3MgcmF5X2F0dGFjaCBjYWxsaW5nIHBjbWNpYV9yZWdpc3Rlcl9jbGllbnQoLi4uKVxu
Iik7DQogDQogICAgIGluaXRfdGltZXIoJmxvY2FsLT50aW1lcik7DQogDQpAQCAtNDkwLDggKzQ5
MCw4IEBADQogICAgIGlzIHJlY2VpdmVkLCB0byBjb25maWd1cmUgdGhlIFBDTUNJQSBzb2NrZXQs
IGFuZCB0byBtYWtlIHRoZQ0KICAgICBldGhlcm5ldCBkZXZpY2UgYXZhaWxhYmxlIHRvIHRoZSBz
eXN0ZW0uDQogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLw0KLSNkZWZpbmUgQ1NfQ0hFQ0soZm4sIGFy
Z3MuLi4pIFwNCi13aGlsZSAoKGxhc3RfcmV0PWZuKGFyZ3MpKSE9MCkgZ290byBjc19mYWlsZWQN
CisjZGVmaW5lIENTX0NIRUNLKGZuLCByZXQpIFwNCitkbyB7IGxhc3RfZm4gPSAoZm4pOyBpZiAo
KGxhc3RfcmV0ID0gKHJldCkpICE9IDApIGdvdG8gY3NfZmFpbGVkOyB9IHdoaWxlICgwKQ0KICNk
ZWZpbmUgTUFYX1RVUExFX1NJWkUgMTI4DQogc3RhdGljIHZvaWQgcmF5X2NvbmZpZyhkZXZfbGlu
a190ICpsaW5rKQ0KIHsNCkBAIC01MTAsMjMgKzUxMCwyMyBAQA0KIA0KICAgICAvKiBUaGlzIHJl
YWRzIHRoZSBjYXJkJ3MgQ09ORklHIHR1cGxlIHRvIGZpbmQgaXRzIGNvbmZpZ3VyYXRpb24gcmVn
cyAqLw0KICAgICB0dXBsZS5EZXNpcmVkVHVwbGUgPSBDSVNUUExfQ09ORklHOw0KLSAgICBDU19D
SEVDSyhwY21jaWFfZ2V0X2ZpcnN0X3R1cGxlLCBoYW5kbGUsICZ0dXBsZSk7DQorICAgIENTX0NI
RUNLKEdldEZpcnN0VHVwbGUsIHBjbWNpYV9nZXRfZmlyc3RfdHVwbGUoaGFuZGxlLCAmdHVwbGUp
KTsNCiAgICAgdHVwbGUuVHVwbGVEYXRhID0gYnVmOw0KICAgICB0dXBsZS5UdXBsZURhdGFNYXgg
PSBNQVhfVFVQTEVfU0laRTsNCiAgICAgdHVwbGUuVHVwbGVPZmZzZXQgPSAwOw0KLSAgICBDU19D
SEVDSyhwY21jaWFfZ2V0X3R1cGxlX2RhdGEsIGhhbmRsZSwgJnR1cGxlKTsNCi0gICAgQ1NfQ0hF
Q0socGNtY2lhX3BhcnNlX3R1cGxlLCBoYW5kbGUsICZ0dXBsZSwgJnBhcnNlKTsNCisgICAgQ1Nf
Q0hFQ0soR2V0VHVwbGVEYXRhLCBwY21jaWFfZ2V0X3R1cGxlX2RhdGEoaGFuZGxlLCAmdHVwbGUp
KTsNCisgICAgQ1NfQ0hFQ0soUGFyc2VUdXBsZSwgcGNtY2lhX3BhcnNlX3R1cGxlKGhhbmRsZSwg
JnR1cGxlLCAmcGFyc2UpKTsNCiAgICAgbGluay0+Y29uZi5Db25maWdCYXNlID0gcGFyc2UuY29u
ZmlnLmJhc2U7DQogICAgIGxpbmstPmNvbmYuUHJlc2VudCA9IHBhcnNlLmNvbmZpZy5ybWFza1sw
XTsNCiANCiAgICAgLyogRGV0ZXJtaW5lIGNhcmQgdHlwZSBhbmQgZmlybXdhcmUgdmVyc2lvbiAq
Lw0KICAgICBidWZbMF0gPSBidWZbTUFYX1RVUExFX1NJWkUgLSAxXSA9IDA7DQogICAgIHR1cGxl
LkRlc2lyZWRUdXBsZSA9IENJU1RQTF9WRVJTXzE7DQotICAgIENTX0NIRUNLKHBjbWNpYV9nZXRf
Zmlyc3RfdHVwbGUsIGhhbmRsZSwgJnR1cGxlKTsNCisgICAgQ1NfQ0hFQ0soR2V0Rmlyc3RUdXBs
ZSwgcGNtY2lhX2dldF9maXJzdF90dXBsZShoYW5kbGUsICZ0dXBsZSkpOw0KICAgICB0dXBsZS5U
dXBsZURhdGEgPSBidWY7DQogICAgIHR1cGxlLlR1cGxlRGF0YU1heCA9IE1BWF9UVVBMRV9TSVpF
Ow0KICAgICB0dXBsZS5UdXBsZU9mZnNldCA9IDI7DQotICAgIENTX0NIRUNLKHBjbWNpYV9nZXRf
dHVwbGVfZGF0YSwgaGFuZGxlLCAmdHVwbGUpOw0KKyAgICBDU19DSEVDSyhHZXRUdXBsZURhdGEs
IHBjbWNpYV9nZXRfdHVwbGVfZGF0YShoYW5kbGUsICZ0dXBsZSkpOw0KIA0KICAgICBmb3IgKGk9
MDsgaTx0dXBsZS5UdXBsZURhdGFMZW4gLSA0OyBpKyspIA0KICAgICAgICAgaWYgKGJ1ZltpXSA9
PSAwKSBidWZbaV0gPSAnICc7DQpAQCAtNTM4LDIyICs1MzgsMjIgQEANCiAgICAgLyogTm93IGFs
bG9jYXRlIGFuIGludGVycnVwdCBsaW5lLiAgTm90ZSB0aGF0IHRoaXMgZG9lcyBub3QNCiAgICAg
ICAgYWN0dWFsbHkgYXNzaWduIGEgaGFuZGxlciB0byB0aGUgaW50ZXJydXB0Lg0KICAgICAqLw0K
LSAgICBDU19DSEVDSyhwY21jaWFfcmVxdWVzdF9pcnEsIGxpbmstPmhhbmRsZSwgJmxpbmstPmly
cSk7DQorICAgIENTX0NIRUNLKFJlcXVlc3RJUlEsIHBjbWNpYV9yZXF1ZXN0X2lycShsaW5rLT5o
YW5kbGUsICZsaW5rLT5pcnEpKTsNCiAgICAgZGV2LT5pcnEgPSBsaW5rLT5pcnEuQXNzaWduZWRJ
UlE7DQogICAgIA0KICAgICAvKiBUaGlzIGFjdHVhbGx5IGNvbmZpZ3VyZXMgdGhlIFBDTUNJQSBz
b2NrZXQgLS0gc2V0dGluZyB1cA0KICAgICAgICB0aGUgSS9PIHdpbmRvd3MgYW5kIHRoZSBpbnRl
cnJ1cHQgbWFwcGluZy4NCiAgICAgKi8NCi0gICAgQ1NfQ0hFQ0socGNtY2lhX3JlcXVlc3RfY29u
ZmlndXJhdGlvbiwgbGluay0+aGFuZGxlLCAmbGluay0+Y29uZik7DQorICAgIENTX0NIRUNLKFJl
cXVlc3RDb25maWd1cmF0aW9uLCBwY21jaWFfcmVxdWVzdF9jb25maWd1cmF0aW9uKGxpbmstPmhh
bmRsZSwgJmxpbmstPmNvbmYpKTsNCiANCiAvKioqIFNldCB1cCAzMmsgd2luZG93IGZvciBzaGFy
ZWQgbWVtb3J5ICh0cmFuc21pdCBhbmQgY29udHJvbCkgKioqKioqKioqKioqLw0KICAgICByZXEu
QXR0cmlidXRlcyA9IFdJTl9EQVRBX1dJRFRIXzggfCBXSU5fTUVNT1JZX1RZUEVfQ00gfCBXSU5f
RU5BQkxFIHwgV0lOX1VTRV9XQUlUOw0KICAgICByZXEuQmFzZSA9IDA7DQogICAgIHJlcS5TaXpl
ID0gMHg4MDAwOw0KICAgICByZXEuQWNjZXNzU3BlZWQgPSByYXlfbWVtX3NwZWVkOw0KLSAgICBD
U19DSEVDSyhwY21jaWFfcmVxdWVzdF93aW5kb3csICZsaW5rLT5oYW5kbGUsICZyZXEsICZsaW5r
LT53aW4pOw0KKyAgICBDU19DSEVDSyhSZXF1ZXN0V2luZG93LCBwY21jaWFfcmVxdWVzdF93aW5k
b3coJmxpbmstPmhhbmRsZSwgJnJlcSwgJmxpbmstPndpbikpOw0KICAgICBtZW0uQ2FyZE9mZnNl
dCA9IDB4MDAwMDsgbWVtLlBhZ2UgPSAwOw0KLSAgICBDU19DSEVDSyhwY21jaWFfbWFwX21lbV9w
YWdlLCBsaW5rLT53aW4sICZtZW0pOw0KKyAgICBDU19DSEVDSyhNYXBNZW1QYWdlLCBwY21jaWFf
bWFwX21lbV9wYWdlKGxpbmstPndpbiwgJm1lbSkpOw0KICAgICBsb2NhbC0+c3JhbSA9IChVQ0hB
UiAqKShpb3JlbWFwKHJlcS5CYXNlLHJlcS5TaXplKSk7DQogDQogLyoqKiBTZXQgdXAgMTZrIHdp
bmRvdyBmb3Igc2hhcmVkIG1lbW9yeSAocmVjZWl2ZSBidWZmZXIpICoqKioqKioqKioqKioqKi8N
CkBAIC01NjEsOSArNTYxLDkgQEANCiAgICAgcmVxLkJhc2UgPSAwOw0KICAgICByZXEuU2l6ZSA9
IDB4NDAwMDsNCiAgICAgcmVxLkFjY2Vzc1NwZWVkID0gcmF5X21lbV9zcGVlZDsNCi0gICAgQ1Nf
Q0hFQ0socGNtY2lhX3JlcXVlc3Rfd2luZG93LCAmbGluay0+aGFuZGxlLCAmcmVxLCAmbG9jYWwt
PnJtZW1faGFuZGxlKTsNCisgICAgQ1NfQ0hFQ0soUmVxdWVzdFdpbmRvdywgcGNtY2lhX3JlcXVl
c3Rfd2luZG93KCZsaW5rLT5oYW5kbGUsICZyZXEsICZsb2NhbC0+cm1lbV9oYW5kbGUpKTsNCiAg
ICAgbWVtLkNhcmRPZmZzZXQgPSAweDgwMDA7IG1lbS5QYWdlID0gMDsNCi0gICAgQ1NfQ0hFQ0so
cGNtY2lhX21hcF9tZW1fcGFnZSwgbG9jYWwtPnJtZW1faGFuZGxlLCAmbWVtKTsNCisgICAgQ1Nf
Q0hFQ0soTWFwTWVtUGFnZSwgcGNtY2lhX21hcF9tZW1fcGFnZShsb2NhbC0+cm1lbV9oYW5kbGUs
ICZtZW0pKTsNCiAgICAgbG9jYWwtPnJtZW0gPSAoVUNIQVIgKikoaW9yZW1hcChyZXEuQmFzZSxy
ZXEuU2l6ZSkpOw0KIA0KIC8qKiogU2V0IHVwIHdpbmRvdyBmb3IgYXR0cmlidXRlIG1lbW9yeSAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCkBAIC01NzEsOSArNTcxLDkgQEAN
CiAgICAgcmVxLkJhc2UgPSAwOw0KICAgICByZXEuU2l6ZSA9IDB4MTAwMDsNCiAgICAgcmVxLkFj
Y2Vzc1NwZWVkID0gcmF5X21lbV9zcGVlZDsNCi0gICAgQ1NfQ0hFQ0socGNtY2lhX3JlcXVlc3Rf
d2luZG93LCAmbGluay0+aGFuZGxlLCAmcmVxLCAmbG9jYWwtPmFtZW1faGFuZGxlKTsNCisgICAg
Q1NfQ0hFQ0soUmVxdWVzdFdpbmRvdywgcGNtY2lhX3JlcXVlc3Rfd2luZG93KCZsaW5rLT5oYW5k
bGUsICZyZXEsICZsb2NhbC0+YW1lbV9oYW5kbGUpKTsNCiAgICAgbWVtLkNhcmRPZmZzZXQgPSAw
eDAwMDA7IG1lbS5QYWdlID0gMDsNCi0gICAgQ1NfQ0hFQ0socGNtY2lhX21hcF9tZW1fcGFnZSwg
bG9jYWwtPmFtZW1faGFuZGxlLCAmbWVtKTsNCisgICAgQ1NfQ0hFQ0soTWFwTWVtUGFnZSwgcGNt
Y2lhX21hcF9tZW1fcGFnZShsb2NhbC0+YW1lbV9oYW5kbGUsICZtZW0pKTsNCiAgICAgbG9jYWwt
PmFtZW0gPSAoVUNIQVIgKikoaW9yZW1hcChyZXEuQmFzZSxyZXEuU2l6ZSkpOw0KIA0KICAgICBE
RUJVRygzLCJyYXlfY29uZmlnIHNyYW09JXBcbiIsbG9jYWwtPnNyYW0pOw0KDQoNCg0K

--=-LMf7eTp4VThEp1+RijIu--

--=-UDa05ghBLesJqn1uD8nn
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQA/6Ps478o9R9NraMQRAgnpAKC1+hoE2YsDbPs86yMicfK9jMTONACgkokE
gNhvKRugAbunXR7Mlq/s/RQ=
=HgD3
-----END PGP SIGNATURE-----

--=-UDa05ghBLesJqn1uD8nn--

