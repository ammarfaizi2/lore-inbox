Return-Path: <linux-kernel-owner+willy=40w.ods.org-S271327AbUJVPEx@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S271327AbUJVPEx (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 22 Oct 2004 11:04:53 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S271334AbUJVPEx
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 22 Oct 2004 11:04:53 -0400
Received: from magic.adaptec.com ([216.52.22.17]:38540 "EHLO magic.adaptec.com")
	by vger.kernel.org with ESMTP id S271327AbUJVPEY (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 22 Oct 2004 11:04:24 -0400
Message-ID: <4179216A.8020302@adaptec.com>
Date: Fri, 22 Oct 2004 11:04:10 -0400
From: Luben Tuikov <luben_tuikov@adaptec.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4) Gecko/20030922
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Ingo Molnar <mingo@elte.hu>
CC: "K.R. Foley" <kr@cybsft.com>, "J.A. Magallon" <jamagallon@able.es>,
       Dave Hansen <haveblue@us.ibm.com>,
       Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: Re: 2.6.9-rc3-mm3 fails to detect aic7xxx
References: <1097178019.24355.39.camel@localhost> <1097188963l.6408l.2l@werewolf.able.es> <41661013.9090700@cybsft.com> <41668346.6090109@adaptec.com> <20041022135800.GA8254@elte.hu> <41791302.5030305@adaptec.com> <20041022140701.GC8120@elte.hu> <41791BE6.7040209@adaptec.com> <20041022145559.GA12434@elte.hu>
In-Reply-To: <20041022145559.GA12434@elte.hu>
Content-Type: multipart/mixed;
 boundary="------------080303030805040607080706"
X-OriginalArrivalTime: 22 Oct 2004 15:04:20.0981 (UTC) FILETIME=[68DEE250:01C4B848]
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

This is a multi-part message in MIME format.
--------------080303030805040607080706
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Ingo Molnar wrote:
> * Luben Tuikov <luben_tuikov@adaptec.com> wrote:
> 
> 
>>>no, i havent. Is it easy to apply that tree to 2.6.9-rc4-mm1?
>>
>>Yes, I think so.  There's 2 patches there for the AIC drivers: the PCI
>>tables and sleeping while holding a lock.
> 
> 
> linux-scsi.bkbits.net seems to be down - is there any alternate site for 
> the patches?

Yes.  Attached to this email.  (if I append them, a space gets
added for some unknown reason)

Let me know how it works out.

	Luben

--------------080303030805040607080706
Content-Type: application/octet-stream;
 name="pci_id.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="pci_id.patch"

IyBUaGlzIGlzIGEgQml0S2VlcGVyIGdlbmVyYXRlZCBkaWZmIC1OcnUgc3R5bGUgcGF0Y2gu
CiMKIyBDaGFuZ2VTZXQKIyAgIDIwMDQvMTAvMTIgMTM6MzU6MzktMDQ6MDAgbHViZW5AbGlv
bi5hZGFwdGVjLmNvbSAKIyAgIEFkZGluZyBwcm9wZXIgUENJIElEIHRhYmxlcyB0byBhaWM3
eHh4IGFuZCBhaWM3OXh4IGRyaXZlcnMuCiMgCiMgZHJpdmVycy9zY3NpL2FpYzd4eHgvYWlj
bGliLmgKIyAgIDIwMDQvMTAvMTIgMTM6MzU6MjUtMDQ6MDAgbHViZW5AbGlvbi5hZGFwdGVj
LmNvbSArMzkgLTAKIyAgIEFkZGluZyBtYWNyb3MgZm9yIGdlbmVyYXRpbmcgdGhlIGVsZW1l
bnRzIG9mIFBDSSBJRCB0YWJsZXMuCiMgCiMgZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljN3h4
eF9wY2kuaAojICAgMjAwNC8xMC8xMiAxMzozNToyNS0wNDowMCBsdWJlbkBsaW9uLmFkYXB0
ZWMuY29tICs0NSAtMTMKIyAgIEFkZGluZyBjb3B5cmlnaHQgYW5kIHByb3BlciBtYWNybyBk
ZWNsYXJhdGlvbnMuCiMgCiMgZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljN3h4eF9wY2kuYwoj
ICAgMjAwNC8xMC8xMiAxMzozNToyNS0wNDowMCBsdWJlbkBsaW9uLmFkYXB0ZWMuY29tICsx
MyAtMAojICAgTm8gbmVlZCBvZiB0aGlzIHN0YXRpYyBmdW5jdGlvbiBpbiB0aGlzIGhlYWRl
ciBmaWxlLgojIAojIGRyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzd4eHhfb3NtX3BjaS5jCiMg
ICAyMDA0LzEwLzEyIDEzOjM1OjI1LTA0OjAwIGx1YmVuQGxpb24uYWRhcHRlYy5jb20gKzE4
IC0xNQojICAgQWRkaW5nIHByb3BlciBQQ0kgSUQgdGFibGUuCiMgCiMgZHJpdmVycy9zY3Np
L2FpYzd4eHgvYWljNzl4eF9wY2kuYwojICAgMjAwNC8xMC8xMiAxMzozNToyNS0wNDowMCBs
dWJlbkBsaW9uLmFkYXB0ZWMuY29tICsyIC0yNAojICAgTW92aW5nIElEIGRlZmluaXRpb25z
IG91dCBvZiB0aGlzIGZpbGUgaW50byB0aGVpciBvd24uCiMgCiMgZHJpdmVycy9zY3NpL2Fp
Yzd4eHgvYWljNzl4eF9vc21fcGNpLmMKIyAgIDIwMDQvMTAvMTIgMTM6MzU6MjUtMDQ6MDAg
bHViZW5AbGlvbi5hZGFwdGVjLmNvbSArMjUgLTkKIyAgIEFkZGluZyBQQ0kgSUQgdGFibGUu
CiMgCiMgZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9vc20uaAojICAgMjAwNC8xMC8x
MiAxMzozNToyNS0wNDowMCBsdWJlbkBsaW9uLmFkYXB0ZWMuY29tICsxIC0wCiMgICBDb3Nt
ZXRpYy4KIyAKIyBkcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3OXh4X3BjaS5oCiMgICAyMDA0
LzEwLzEyIDExOjA5OjAwLTA0OjAwIGx1YmVuQGxpb24uYWRhcHRlYy5jb20gKzcwIC0wCiMg
CiMgZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9wY2kuaAojICAgMjAwNC8xMC8xMiAx
MTowODo1OS0wNDowMCBsdWJlbkBsaW9uLmFkYXB0ZWMuY29tICswIC0wCiMgICBCaXRLZWVw
ZXIgZmlsZSAvaG9tZS9sdWJlbi9wcm9qZWN0cy9zY3NpLW1pc2MtMi42L2RyaXZlcnMvc2Nz
aS9haWM3eHh4L2FpYzc5eHhfcGNpLmgKIyAKIyBkcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3
OXh4X3BjaS5jCiMgICAyMDA0LzEwLzA4IDE3OjQ0OjMyLTA0OjAwIGx1YmVuQGxpb24uYWRh
cHRlYy5jb20gKzAgLTAKIyAgICoqKiBlbXB0eSBsb2cgbWVzc2FnZSAqKioKIyAKZGlmZiAt
TnJ1IGEvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9vc20uaCBiL2RyaXZlcnMvc2Nz
aS9haWM3eHh4L2FpYzc5eHhfb3NtLmgKLS0tIGEvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWlj
Nzl4eF9vc20uaAkyMDA0LTEwLTEyIDEzOjM3OjE0IC0wNDowMAorKysgYi9kcml2ZXJzL3Nj
c2kvYWljN3h4eC9haWM3OXh4X29zbS5oCTIwMDQtMTAtMTIgMTM6Mzc6MTQgLTA0OjAwCkBA
IC0xMTQzLDQgKzExNDMsNSBAQAogI2VuZGlmCiAjZGVmaW5lIGJvb3R2ZXJib3NlIGFpYzc5
eHhfdmVyYm9zZQogZXh0ZXJuIHVpbnQzMl90IGFpYzc5eHhfdmVyYm9zZTsKKwogI2VuZGlm
IC8qIF9BSUM3OVhYX0xJTlVYX0hfICovCmRpZmYgLU5ydSBhL2RyaXZlcnMvc2NzaS9haWM3
eHh4L2FpYzc5eHhfb3NtX3BjaS5jIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9v
c21fcGNpLmMKLS0tIGEvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9vc21fcGNpLmMJ
MjAwNC0xMC0xMiAxMzozNzoxNCAtMDQ6MDAKKysrIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgv
YWljNzl4eF9vc21fcGNpLmMJMjAwNC0xMC0xMiAxMzozNzoxNCAtMDQ6MDAKQEAgLTQxLDYg
KzQxLDcgQEAKIAogI2luY2x1ZGUgImFpYzc5eHhfb3NtLmgiCiAjaW5jbHVkZSAiYWljNzl4
eF9pbmxpbmUuaCIKKyNpbmNsdWRlICJhaWM3OXh4X3BjaS5oIgogCiBzdGF0aWMgaW50CWFo
ZF9saW51eF9wY2lfZGV2X3Byb2JlKHN0cnVjdCBwY2lfZGV2ICpwZGV2LAogCQkJCQljb25z
dCBzdHJ1Y3QgcGNpX2RldmljZV9pZCAqZW50KTsKQEAgLTUxLDE2ICs1MiwzMSBAQAogCQkJ
CQkJIHVpbnQ4X3QgKiptYWRkcik7CiBzdGF0aWMgdm9pZAlhaGRfbGludXhfcGNpX2Rldl9y
ZW1vdmUoc3RydWN0IHBjaV9kZXYgKnBkZXYpOwogCi0vKiBXZSBkbyBvdXIgb3duIElEIGZp
bHRlcmluZy4gIFNvLCBncmFiIGFsbCBTQ1NJIHN0b3JhZ2UgY2xhc3MgZGV2aWNlcy4gKi8K
Ky8qIERlZmluZSB0aGUgbWFjcm8gbG9jYWxseSBzaW5jZSBpdCdzIGRpZmZlcmVudCBmb3Ig
ZGlmZmVyZW50IGNsYXNzIG9mIGNoaXBzLgorICovCisjZGVmaW5lIElEKHgpICAgICAgICAg
ICAgXAorCUlEMkMoeCksICAgICAgICAgXAorCUlEMkMoSURJUk9DKHgpKQorCiBzdGF0aWMg
c3RydWN0IHBjaV9kZXZpY2VfaWQgYWhkX2xpbnV4X3BjaV9pZF90YWJsZVtdID0gewotCXsK
LQkJMHg5MDA1LCBQQ0lfQU5ZX0lELCBQQ0lfQU5ZX0lELCBQQ0lfQU5ZX0lELAotCQlQQ0lf
Q0xBU1NfU1RPUkFHRV9TQ1NJIDw8IDgsIDB4RkZGRjAwLCAwCi0JfSwKLQl7Ci0JCTB4OTAw
NSwgUENJX0FOWV9JRCwgUENJX0FOWV9JRCwgUENJX0FOWV9JRCwKLQkJUENJX0NMQVNTX1NU
T1JBR0VfUkFJRCA8PCA4LCAweEZGRkYwMCwgMAotCX0sCisJLyogYWljNzkwMSBiYXNlZCBj
b250cm9sbGVycyAqLworCUlEKElEX0FIQV8yOTMyMEEpLAorCUlEKElEX0FIQV8yOTMyMEFM
UCksCisJLyogYWljNzkwMiBiYXNlZCBjb250cm9sbGVycyAqLworCUlEKElEX0FIQV8yOTMy
MCksCisJSUQoSURfQUhBXzI5MzIwQiksCisJSUQoSURfQUhBXzI5MzIwTFApLAorCUlEKElE
X0FIQV8zOTMyMCksCisJSUQoSURfQUhBXzM5MzIwX0IpLAorCUlEKElEX0FIQV8zOTMyMEEp
LAorCUlEKElEX0FIQV8zOTMyMEQpLAorCUlEKElEX0FIQV8zOTMyMERfSFApLAorCUlEKElE
X0FIQV8zOTMyMERfQiksCisJSUQoSURfQUhBXzM5MzIwRF9CX0hQKSwKKwkvKiBHZW5lcmlj
IGNoaXAgcHJvYmVzIGZvciBkZXZpY2VzIHdlIGRvbid0IGtub3cgZXhhY3RseS4gKi8KKwlJ
RDE2KElEX0FJQzc5MDEgJiBJRF85MDA1X0dFTkVSSUNfTUFTSyksCisJSUQoSURfQUlDNzkw
MUEgJiBJRF9ERVZfVkVORE9SX01BU0spLAorCUlEMTYoSURfQUlDNzkwMiAmIElEXzkwMDVf
R0VORVJJQ19NQVNLKSwKIAl7IDAgfQogfTsKIApkaWZmIC1OcnUgYS9kcml2ZXJzL3Njc2kv
YWljN3h4eC9haWM3OXh4X3BjaS5jIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9w
Y2kuYwotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3OXh4X3BjaS5jCTIwMDQtMTAt
MTIgMTM6Mzc6MTQgLTA0OjAwCisrKyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5eHhf
cGNpLmMJMjAwNC0xMC0xMiAxMzozNzoxNCAtMDQ6MDAKQEAgLTUxLDYgKzUxLDggQEAKICNp
bmNsdWRlIDxkZXYvYWljN3h4eC9haWM3OXh4X2lubGluZS5oPgogI2VuZGlmCiAKKyNpbmNs
dWRlICJhaWM3OXh4X3BjaS5oIgorCiBzdGF0aWMgX19pbmxpbmUgdWludDY0X3QKIGFoZF9j
b21wb3NlX2lkKHVfaW50IGRldmljZSwgdV9pbnQgdmVuZG9yLCB1X2ludCBzdWJkZXZpY2Us
IHVfaW50IHN1YnZlbmRvcikKIHsKQEAgLTY0LDMwICs2Niw2IEBACiAJcmV0dXJuIChpZCk7
CiB9CiAKLSNkZWZpbmUgSURfQUxMX01BU0sJCQkweEZGRkZGRkZGRkZGRkZGRkZ1bGwKLSNk
ZWZpbmUgSURfQUxMX0lST0NfTUFTSwkJMHhGRjdGRkZGRkZGRkZGRkZGdWxsCi0jZGVmaW5l
IElEX0RFVl9WRU5ET1JfTUFTSwkJMHhGRkZGRkZGRjAwMDAwMDAwdWxsCi0jZGVmaW5lIElE
XzkwMDVfR0VORVJJQ19NQVNLCQkweEZGRjBGRkZGMDAwMDAwMDB1bGwKLSNkZWZpbmUgSURf
OTAwNV9HRU5FUklDX0lST0NfTUFTSwkweEZGNzBGRkZGMDAwMDAwMDB1bGwKLQotI2RlZmlu
ZSBJRF9BSUM3OTAxCQkJMHg4MDBGOTAwNUZGRkY5MDA1dWxsCi0jZGVmaW5lIElEX0FIQV8y
OTMyMEEJCQkweDgwMDA5MDA1MDA2MDkwMDV1bGwKLSNkZWZpbmUgSURfQUhBXzI5MzIwQUxQ
CQkJMHg4MDE3OTAwNTAwNDQ5MDA1dWxsCi0KLSNkZWZpbmUgSURfQUlDNzkwMUEJCQkweDgw
MUU5MDA1RkZGRjkwMDV1bGwKLSNkZWZpbmUgSURfQUhBXzI5MzIwCQkJMHg4MDEyOTAwNTAw
NDI5MDA1dWxsCi0jZGVmaW5lIElEX0FIQV8yOTMyMEIJCQkweDgwMTM5MDA1MDA0MzkwMDV1
bGwKLSNkZWZpbmUgSURfQUhBXzI5MzIwTFAJCQkweDgwMTQ5MDA1MDA0NDkwMDV1bGwKLQot
I2RlZmluZSBJRF9BSUM3OTAyCQkJMHg4MDFGOTAwNUZGRkY5MDA1dWxsCi0jZGVmaW5lIElE
X0FJQzc5MDJfQgkJCTB4ODAxRDkwMDVGRkZGOTAwNXVsbAotI2RlZmluZSBJRF9BSEFfMzkz
MjAJCQkweDgwMTA5MDA1MDA0MDkwMDV1bGwKLSNkZWZpbmUgSURfQUhBXzM5MzIwX0IJCQkw
eDgwMTU5MDA1MDA0MDkwMDV1bGwKLSNkZWZpbmUgSURfQUhBXzM5MzIwQQkJCTB4ODAxNjkw
MDUwMDQwOTAwNXVsbAotI2RlZmluZSBJRF9BSEFfMzkzMjBECQkJMHg4MDExOTAwNTAwNDE5
MDA1dWxsCi0jZGVmaW5lIElEX0FIQV8zOTMyMERfQgkJCTB4ODAxQzkwMDUwMDQxOTAwNXVs
bAotI2RlZmluZSBJRF9BSEFfMzkzMjBEX0hQCQkweDgwMTE5MDA1MDBBQzBFMTF1bGwKLSNk
ZWZpbmUgSURfQUhBXzM5MzIwRF9CX0hQCQkweDgwMUM5MDA1MDBBQzBFMTF1bGwKICNkZWZp
bmUgSURfQUlDNzkwMl9QQ0lfUkVWX0E0CQkweDMKICNkZWZpbmUgSURfQUlDNzkwMl9QQ0lf
UkVWX0IwCQkweDEwCiAjZGVmaW5lIFNVQklEX0hQCQkJMHgwRTExCmRpZmYgLU5ydSBhL2Ry
aXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5eHhfcGNpLmggYi9kcml2ZXJzL3Njc2kvYWljN3h4
eC9haWM3OXh4X3BjaS5oCi0tLSAvZGV2L251bGwJV2VkIERlYyAzMSAxNjowMDowMCAxOTY5
MDAKKysrIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9wY2kuaAkyMDA0LTEwLTEy
IDEzOjM3OjE0IC0wNDowMApAQCAtMCwwICsxLDcwIEBACisvKgorICogQWRhcHRlYyBBSUM3
OXh4IGRldmljZSBkcml2ZXIgZm9yIExpbnV4LgorICoKKyAqIENvcHlyaWdodCAoYykgMjAw
MC0yMDAxIEFkYXB0ZWMgSW5jLgorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqCisgKiBS
ZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRo
IG9yIHdpdGhvdXQKKyAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0
aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucworICogYXJlIG1ldDoKKyAqIDEuIFJlZGlz
dHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJp
Z2h0CisgKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zLCBhbmQgdGhlIGZv
bGxvd2luZyBkaXNjbGFpbWVyLAorICogICAgd2l0aG91dCBtb2RpZmljYXRpb24uCisgKiAy
LiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgYXQgbWlu
aW11bSBhIGRpc2NsYWltZXIKKyAqICAgIHN1YnN0YW50aWFsbHkgc2ltaWxhciB0byB0aGUg
Ik5PIFdBUlJBTlRZIiBkaXNjbGFpbWVyIGJlbG93CisgKiAgICAoIkRpc2NsYWltZXIiKSBh
bmQgYW55IHJlZGlzdHJpYnV0aW9uIG11c3QgYmUgY29uZGl0aW9uZWQgdXBvbgorICogICAg
aW5jbHVkaW5nIGEgc3Vic3RhbnRpYWxseSBzaW1pbGFyIERpc2NsYWltZXIgcmVxdWlyZW1l
bnQgZm9yIGZ1cnRoZXIKKyAqICAgIGJpbmFyeSByZWRpc3RyaWJ1dGlvbi4KKyAqIDMuIE5l
aXRoZXIgdGhlIG5hbWVzIG9mIHRoZSBhYm92ZS1saXN0ZWQgY29weXJpZ2h0IGhvbGRlcnMg
bm9yIHRoZSBuYW1lcworICogICAgb2YgYW55IGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0
byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZAorICogICAgZnJvbSB0aGlz
IHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLgor
ICoKKyAqIEFsdGVybmF0aXZlbHksIHRoaXMgc29mdHdhcmUgbWF5IGJlIGRpc3RyaWJ1dGVk
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUKKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNl
ICgiR1BMIikgdmVyc2lvbiAyIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZQorICogU29mdHdh
cmUgRm91bmRhdGlvbi4KKyAqCisgKiBOTyBXQVJSQU5UWQorICogVEhJUyBTT0ZUV0FSRSBJ
UyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUwor
ICogIkFTIElTIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNM
VURJTkcsIEJVVCBOT1QKKyAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMg
T0YgTUVSQ0hBTlRJQklMSVRZIEFORCBGSVRORVNTIEZPUgorICogQSBQQVJUSUNVTEFSIFBV
UlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQK
KyAqIEhPTERFUlMgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgU1BFQ0lBTCwgRVhF
TVBMQVJZLCBPUiBDT05TRVFVRU5USUFMCisgKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBO
T1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUworICogT1Ig
U0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJ
TlRFUlJVUFRJT04pCisgKiBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBM
SUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsCisgKiBTVFJJQ1QgTElBQklMSVRZLCBP
UiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcKKyAq
IElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBB
RFZJU0VEIE9GIFRIRQorICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0VTLgorICoKKyAq
ICRJZCQKKyAqCisgKi8KKyNpZm5kZWYgX0FJQzc5WFhfUENJX0hfCisjZGVmaW5lIF9BSUM3
OVhYX1BDSV9IXworCisjZGVmaW5lIElEX0FMTF9NQVNLCQkJMHhGRkZGRkZGRkZGRkZGRkZG
dWxsCisjZGVmaW5lIElEX0FMTF9JUk9DX01BU0sJCTB4RkY3RkZGRkZGRkZGRkZGRnVsbAor
I2RlZmluZSBJRF9ERVZfVkVORE9SX01BU0sJCTB4RkZGRkZGRkYwMDAwMDAwMHVsbAorI2Rl
ZmluZSBJRF85MDA1X0dFTkVSSUNfTUFTSwkJMHhGRkYwRkZGRjAwMDAwMDAwdWxsCisjZGVm
aW5lIElEXzkwMDVfR0VORVJJQ19JUk9DX01BU0sJMHhGRjcwRkZGRjAwMDAwMDAwdWxsCisK
KyNkZWZpbmUgSURfQUlDNzkwMQkJCTB4ODAwRjkwMDVGRkZGOTAwNXVsbAorI2RlZmluZSBJ
RF9BSEFfMjkzMjBBCQkJMHg4MDAwOTAwNTAwNjA5MDA1dWxsCisjZGVmaW5lIElEX0FIQV8y
OTMyMEFMUAkJCTB4ODAxNzkwMDUwMDQ0OTAwNXVsbAorCisjZGVmaW5lIElEX0FJQzc5MDFB
CQkJMHg4MDFFOTAwNUZGRkY5MDA1dWxsCisjZGVmaW5lIElEX0FIQV8yOTMyMAkJCTB4ODAx
MjkwMDUwMDQyOTAwNXVsbAorI2RlZmluZSBJRF9BSEFfMjkzMjBCCQkJMHg4MDEzOTAwNTAw
NDM5MDA1dWxsCisjZGVmaW5lIElEX0FIQV8yOTMyMExQCQkJMHg4MDE0OTAwNTAwNDQ5MDA1
dWxsCisKKyNkZWZpbmUgSURfQUlDNzkwMgkJCTB4ODAxRjkwMDVGRkZGOTAwNXVsbAorI2Rl
ZmluZSBJRF9BSUM3OTAyX0IJCQkweDgwMUQ5MDA1RkZGRjkwMDV1bGwKKyNkZWZpbmUgSURf
QUhBXzM5MzIwCQkJMHg4MDEwOTAwNTAwNDA5MDA1dWxsCisjZGVmaW5lIElEX0FIQV8zOTMy
MF9CCQkJMHg4MDE1OTAwNTAwNDA5MDA1dWxsCisjZGVmaW5lIElEX0FIQV8zOTMyMEEJCQkw
eDgwMTY5MDA1MDA0MDkwMDV1bGwKKyNkZWZpbmUgSURfQUhBXzM5MzIwRAkJCTB4ODAxMTkw
MDUwMDQxOTAwNXVsbAorI2RlZmluZSBJRF9BSEFfMzkzMjBEX0IJCQkweDgwMUM5MDA1MDA0
MTkwMDV1bGwKKyNkZWZpbmUgSURfQUhBXzM5MzIwRF9IUAkJMHg4MDExOTAwNTAwQUMwRTEx
dWxsCisjZGVmaW5lIElEX0FIQV8zOTMyMERfQl9IUAkJMHg4MDFDOTAwNTAwQUMwRTExdWxs
CisKKyNlbmRpZiAvKiBfQUlDNzlYWF9QQ0lfSF8gKi8KZGlmZiAtTnJ1IGEvZHJpdmVycy9z
Y3NpL2FpYzd4eHgvYWljN3h4eF9vc21fcGNpLmMgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9h
aWM3eHh4X29zbV9wY2kuYwotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X29z
bV9wY2kuYwkyMDA0LTEwLTEyIDEzOjM3OjE0IC0wNDowMAorKysgYi9kcml2ZXJzL3Njc2kv
YWljN3h4eC9haWM3eHh4X29zbV9wY2kuYwkyMDA0LTEwLTEyIDEzOjM3OjE0IC0wNDowMApA
QCAtNTgsMjkgKzU4LDI3IEBACiAjaWYgTElOVVhfVkVSU0lPTl9DT0RFID49IEtFUk5FTF9W
RVJTSU9OKDIsNCwwKQogc3RhdGljIHZvaWQJYWhjX2xpbnV4X3BjaV9kZXZfcmVtb3ZlKHN0
cnVjdCBwY2lfZGV2ICpwZGV2KTsKIAorLyogRGVmaW5lIHRoZSBtYWNybyBsb2NhbGx5IHNp
bmNlIGl0J3MgZGlmZmVyZW50IGZvciBkaWZmZXJlbnQgY2xhc3Mgb2YgY2hpcHMuCisqLwor
I2RlZmluZSBJRCh4KQlJRF9DKHgsIFBDSV9DTEFTU19TVE9SQUdFX1NDU0kpCisKIHN0YXRp
YyBzdHJ1Y3QgcGNpX2RldmljZV9pZCBhaGNfbGludXhfcGNpX2lkX3RhYmxlW10gPSB7Ci0j
ZGVmaW5lIExJTlVYSUQoeCxzKSAodW5zaWduZWQpKCgoKHgpID4+IHMpICYgMHhmZmZmKSA/
OiBQQ0lfQU5ZX0lEKQotI2RlZmluZSBJRCh4KSBcCi0JeyBcCi0JCUxJTlVYSUQoeCwzMiks
IExJTlVYSUQoeCw0OCksIExJTlVYSUQoeCwwKSwgTElOVVhJRCh4LDE2KSwgXAotCQlQQ0lf
Q0xBU1NfU1RPUkFHRV9TQ1NJIDw8IDgsIDB4RkZGRjAwLCAwIFwKLQl9Ci0jZGVmaW5lIElE
NCh4LHkpIFwKLQlJRCh4IHwgKCh5KzApPDw0OCkpLCBJRCh4IHwgKCh5KzEpPDw0OCkpLCBJ
RCh4IHwgKCh5KzIpPDw0OCkpLCBcCi0JSUQoeCB8ICgoeSszKTw8NDgpKQotI2RlZmluZSBJ
RDE2KHgpIElENCh4LDBVTEwpLCBJRDQoeCw0VUxMKSwgSUQ0KHgsOFVMTCksIElENCh4LDEy
VUxMKQorCS8qIGFpYzc4NTAgYmFzZWQgY29udHJvbGxlcnMgKi8KIAlJRChJRF9BSEFfMjkw
Ml8wNF8xMF8xNV8yMENfMzBDKSwKKwkvKiBhaWM3ODYwIGJhc2VkIGNvbnRyb2xsZXJzICov
CiAJSUQoSURfQUhBXzI5MzBDVSksCiAJSUQoSURfQUhBXzE0ODBBICYgSURfREVWX1ZFTkRP
Ul9NQVNLKSwKIAlJRChJRF9BSEFfMjk0MEFVXzAgJiBJRF9ERVZfVkVORE9SX01BU0spLAog
CUlEKElEX0FIQV8yOTQwQVVfQ04gJiBJRF9ERVZfVkVORE9SX01BU0spLAogCUlEKElEX0FI
QV8yOTMwQ19WQVIgJiBJRF9ERVZfVkVORE9SX01BU0spLAorCS8qIGFpYzc4NzAgYmFzZWQg
Y29udHJvbGxlcnMgKi8KIAlJRChJRF9BSEFfMjk0MCksCiAJSUQoSURfQUhBXzM5NDApLAog
CUlEKElEX0FIQV8zOThYKSwKIAlJRChJRF9BSEFfMjk0NCksCiAJSUQoSURfQUhBXzM5NDQp
LAogCUlEKElEX0FIQV80OTQ0KSwKKwkvKiBhaWM3ODgwIGJhc2VkIGNvbnRyb2xsZXJzICov
CiAJSUQoSURfQUhBXzI5NDBVICYgSURfREVWX1ZFTkRPUl9NQVNLKSwKIAlJRChJRF9BSEFf
Mzk0MFUgJiBJRF9ERVZfVkVORE9SX01BU0spLAogCUlEKElEX0FIQV8yOTQ0VSAmIElEX0RF
Vl9WRU5ET1JfTUFTSyksCkBAIC05MCwxMyArODgsMTUgQEAKIAlJRChJRF9BSEFfMjkzMFUg
JiBJRF9ERVZfVkVORE9SX01BU0spLAogCUlEKElEX0FIQV8yOTQwVV9QUk8gJiBJRF9ERVZf
VkVORE9SX01BU0spLAogCUlEKElEX0FIQV8yOTQwVV9DTiAmIElEX0RFVl9WRU5ET1JfTUFT
SyksCisJLyogYWljNzg5MCBiYXNlZCBjb250cm9sbGVycyAqLwogCUlEKElEX0FIQV8yOTMw
VTIpLAogCUlEKElEX0FIQV8yOTQwVTJCKSwKIAlJRChJRF9BSEFfMjk0MFUyX09FTSksCiAJ
SUQoSURfQUhBXzI5NDBVMiksCiAJSUQoSURfQUhBXzI5NTBVMkIpLAotCUlEKElEX0FJQzc4
OTBfQVJPKSwKKwlJRDE2KElEX0FJQzc4OTBfQVJPICYgSURfQUlDNzg5NV9BUk9fTUFTSyks
CiAJSUQoSURfQUFBXzEzMVUyKSwKKwkvKiBhaWM3ODkwIGJhc2VkIGNvbnRyb2xsZXJzICov
CiAJSUQoSURfQUhBXzI5MTYwKSwKIAlJRChJRF9BSEFfMjkxNjBfQ1BRKSwKIAlJRChJRF9B
SEFfMjkxNjBOKSwKQEAgLTEwNCw2ICsxMDQsNyBAQAogCUlEKElEX0FIQV8yOTE2MEIpLAog
CUlEKElEX0FIQV8xOTE2MEIpLAogCUlEKElEX0FJQzc4OTJfQVJPKSwKKwkvKiBhaWM3ODky
IGJhc2VkIGNvbnRyb2xsZXJzICovCiAJSUQoSURfQUhBXzI5NDBVX0RVQUwpLAogCUlEKElE
X0FIQV8zOTQwQVUpLAogCUlEKElEX0FIQV8zOTQ0QVUpLApAQCAtMTEzLDIwICsxMTQsMjIg
QEAKIAlJRChJRF9BSEFfMzk1MFUyRF8wKSwKIAlJRChJRF9BSEFfMzk1MFUyRF8xKSwKIAlJ
RChJRF9BSUM3ODk2X0FSTyksCisJLyogYWljNzg5OSBiYXNlZCBjb250cm9sbGVycyAqLwog
CUlEKElEX0FIQV8zOTYwRCksCiAJSUQoSURfQUhBXzM5NjBEX0NQUSksCiAJSUQoSURfQUlD
Nzg5OV9BUk8pLAorCS8qIEdlbmVyaWMgY2hpcCBwcm9iZXMgZm9yIGRldmljZXMgd2UgZG9u
J3Qga25vdyBleGFjdGx5LiAqLwogCUlEKElEX0FJQzc4NTAgJiBJRF9ERVZfVkVORE9SX01B
U0spLAogCUlEKElEX0FJQzc4NTUgJiBJRF9ERVZfVkVORE9SX01BU0spLAogCUlEKElEX0FJ
Qzc4NTkgJiBJRF9ERVZfVkVORE9SX01BU0spLAogCUlEKElEX0FJQzc4NjAgJiBJRF9ERVZf
VkVORE9SX01BU0spLAogCUlEKElEX0FJQzc4NzAgJiBJRF9ERVZfVkVORE9SX01BU0spLAog
CUlEKElEX0FJQzc4ODAgJiBJRF9ERVZfVkVORE9SX01BU0spLAotCUlEMTYoSURfQUlDNzg5
MCksCi0JSUQxNihJRF9BSUM3ODkyKSwKKyAJSUQxNihJRF9BSUM3ODkwICYgSURfOTAwNV9H
RU5FUklDX01BU0spLAorIAlJRDE2KElEX0FJQzc4OTIgJiBJRF85MDA1X0dFTkVSSUNfTUFT
SyksCiAJSUQoSURfQUlDNzg5NSAmIElEX0RFVl9WRU5ET1JfTUFTSyksCi0JSUQoSURfQUlD
Nzg5NiksCi0JSUQoSURfQUlDNzg5OSksCisJSUQxNihJRF9BSUM3ODk2ICYgSURfOTAwNV9H
RU5FUklDX01BU0spLAorCUlEMTYoSURfQUlDNzg5OSAmIElEXzkwMDVfR0VORVJJQ19NQVNL
KSwKIAlJRChJRF9BSUM3ODEwICYgSURfREVWX1ZFTkRPUl9NQVNLKSwKIAlJRChJRF9BSUM3
ODE1ICYgSURfREVWX1ZFTkRPUl9NQVNLKSwKIAl7IDAgfQpkaWZmIC1OcnUgYS9kcml2ZXJz
L3Njc2kvYWljN3h4eC9haWM3eHh4X3BjaS5jIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWlj
N3h4eF9wY2kuYwotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X3BjaS5jCTIw
MDQtMTAtMTIgMTM6Mzc6MTQgLTA0OjAwCisrKyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2Fp
Yzd4eHhfcGNpLmMJMjAwNC0xMC0xMiAxMzozNzoxNCAtMDQ6MDAKQEAgLTU2LDYgKzU2LDE5
IEBACiAKICNpbmNsdWRlICJhaWM3eHh4X3BjaS5oIgogCitzdGF0aWMgX19pbmxpbmUgdWlu
dDY0X3QKK2FoY19jb21wb3NlX2lkKHVfaW50IGRldmljZSwgdV9pbnQgdmVuZG9yLCB1X2lu
dCBzdWJkZXZpY2UsIHVfaW50IHN1YnZlbmRvcikKK3sKKwl1aW50NjRfdCBpZDsKKworCWlk
ID0gc3VidmVuZG9yCisJICAgfCAoc3ViZGV2aWNlIDw8IDE2KQorCSAgIHwgKCh1aW50NjRf
dCl2ZW5kb3IgPDwgMzIpCisJICAgfCAoKHVpbnQ2NF90KWRldmljZSA8PCA0OCk7CisKKwly
ZXR1cm4gKGlkKTsKK30KKwogI2RlZmluZSBBSENfUENJX0lPQUREUglQQ0lSX01BUFMJLyog
SS9PIEFkZHJlc3MgKi8KICNkZWZpbmUgQUhDX1BDSV9NRU1BRERSCShQQ0lSX01BUFMgKyA0
KQkvKiBNZW0gSS9PIEFkZHJlc3MgKi8KIApkaWZmIC1OcnUgYS9kcml2ZXJzL3Njc2kvYWlj
N3h4eC9haWM3eHh4X3BjaS5oIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljN3h4eF9wY2ku
aAotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X3BjaS5oCTIwMDQtMTAtMTIg
MTM6Mzc6MTQgLTA0OjAwCisrKyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzd4eHhfcGNp
LmgJMjAwNC0xMC0xMiAxMzozNzoxNCAtMDQ6MDAKQEAgLTEsMTYgKzEsNDYgQEAKLQotc3Rh
dGljIF9faW5saW5lIHVpbnQ2NF90Ci1haGNfY29tcG9zZV9pZCh1X2ludCBkZXZpY2UsIHVf
aW50IHZlbmRvciwgdV9pbnQgc3ViZGV2aWNlLCB1X2ludCBzdWJ2ZW5kb3IpCi17Ci0JdWlu
dDY0X3QgaWQ7Ci0KLQlpZCA9IHN1YnZlbmRvcgotCSAgIHwgKHN1YmRldmljZSA8PCAxNikK
LQkgICB8ICgodWludDY0X3QpdmVuZG9yIDw8IDMyKQotCSAgIHwgKCh1aW50NjRfdClkZXZp
Y2UgPDwgNDgpOwotCi0JcmV0dXJuIChpZCk7Ci19CisvKgorICogQWRhcHRlYyBBSUM3eHh4
IGRldmljZSBkcml2ZXIgZm9yIExpbnV4LgorICoKKyAqIENvcHlyaWdodCAoYykgMjAwMC0y
MDAxIEFkYXB0ZWMgSW5jLgorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KKyAqCisgKiBSZWRp
c3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9y
IHdpdGhvdXQKKyAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0
IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucworICogYXJlIG1ldDoKKyAqIDEuIFJlZGlzdHJp
YnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0
CisgKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zLCBhbmQgdGhlIGZvbGxv
d2luZyBkaXNjbGFpbWVyLAorICogICAgd2l0aG91dCBtb2RpZmljYXRpb24uCisgKiAyLiBS
ZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgYXQgbWluaW11
bSBhIGRpc2NsYWltZXIKKyAqICAgIHN1YnN0YW50aWFsbHkgc2ltaWxhciB0byB0aGUgIk5P
IFdBUlJBTlRZIiBkaXNjbGFpbWVyIGJlbG93CisgKiAgICAoIkRpc2NsYWltZXIiKSBhbmQg
YW55IHJlZGlzdHJpYnV0aW9uIG11c3QgYmUgY29uZGl0aW9uZWQgdXBvbgorICogICAgaW5j
bHVkaW5nIGEgc3Vic3RhbnRpYWxseSBzaW1pbGFyIERpc2NsYWltZXIgcmVxdWlyZW1lbnQg
Zm9yIGZ1cnRoZXIKKyAqICAgIGJpbmFyeSByZWRpc3RyaWJ1dGlvbi4KKyAqIDMuIE5laXRo
ZXIgdGhlIG5hbWVzIG9mIHRoZSBhYm92ZS1saXN0ZWQgY29weXJpZ2h0IGhvbGRlcnMgbm9y
IHRoZSBuYW1lcworICogICAgb2YgYW55IGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBl
bmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZAorICogICAgZnJvbSB0aGlzIHNv
ZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLgorICoK
KyAqIEFsdGVybmF0aXZlbHksIHRoaXMgc29mdHdhcmUgbWF5IGJlIGRpc3RyaWJ1dGVkIHVu
ZGVyIHRoZSB0ZXJtcyBvZiB0aGUKKyAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlICgi
R1BMIikgdmVyc2lvbiAyIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZQorICogU29mdHdhcmUg
Rm91bmRhdGlvbi4KKyAqCisgKiBOTyBXQVJSQU5UWQorICogVEhJUyBTT0ZUV0FSRSBJUyBQ
Uk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUworICog
IkFTIElTIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJ
TkcsIEJVVCBOT1QKKyAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0Yg
TUVSQ0hBTlRJQklMSVRZIEFORCBGSVRORVNTIEZPUgorICogQSBQQVJUSUNVTEFSIFBVUlBP
U0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQKKyAq
IEhPTERFUlMgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgU1BFQ0lBTCwgRVhFTVBM
QVJZLCBPUiBDT05TRVFVRU5USUFMCisgKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Qg
TElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUworICogT1IgU0VS
VklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRF
UlJVUFRJT04pCisgKiBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFC
SUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsCisgKiBTVFJJQ1QgTElBQklMSVRZLCBPUiBU
T1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcKKyAqIElO
IEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJ
U0VEIE9GIFRIRQorICogUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0VTLgorICoKKyAqICRJ
ZCQKKyAqCisgKi8KKyNpZm5kZWYgX0FJQzdYWFhfUENJX0hfCisjZGVmaW5lIF9BSUM3WFhY
X1BDSV9IXwogCiAjZGVmaW5lIElEX0FMTF9NQVNLCQkJMHhGRkZGRkZGRkZGRkZGRkZGdWxs
CiAjZGVmaW5lIElEX0RFVl9WRU5ET1JfTUFTSwkJMHhGRkZGRkZGRjAwMDAwMDAwdWxsCkBA
IC05MCwzICsxMjAsNSBAQAogCiAjZGVmaW5lIElEX0FJQzc4MTAJCQkweDEwNzg5MDA0MDAw
MDAwMDB1bGwKICNkZWZpbmUgSURfQUlDNzgxNQkJCTB4NzgxNTkwMDQwMDAwMDAwMHVsbAor
CisjZW5kaWYgLyogX0FJQzdYWFhfUENJX0hfICovCmRpZmYgLU5ydSBhL2RyaXZlcnMvc2Nz
aS9haWM3eHh4L2FpY2xpYi5oIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljbGliLmgKLS0t
IGEvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljbGliLmgJMjAwNC0xMC0xMiAxMzozNzoxNCAt
MDQ6MDAKKysrIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljbGliLmgJMjAwNC0xMC0xMiAx
MzozNzoxNCAtMDQ6MDAKQEAgLTEwNDMsNCArMTA0Myw0MyBAQAogCXJldHVybiAocnYpOwog
fQogCisvKiBNYWNyb3MgZm9yIGdlbmVyYXRpbmcgdGhlIGVsZW1lbnRzIG9mIHRoZSBQQ0kg
SUQgdGFibGVzLiAqLworCisjZGVmaW5lIEdFVElEKHYsIHMpICh1bnNpZ25lZCkoKCh2KSA+
PiAocykpICYgMHhGRkZGID86IFBDSV9BTllfSUQpCisKKyNkZWZpbmUgSURfQyh4LCBjKQkJ
CQkJCVwKK3sJCQkJCQkJCVwKKwlHRVRJRCh4LDMyKSwgR0VUSUQoeCw0OCksIEdFVElEKHgs
MCksIEdFVElEKHgsMTYpLAlcCisJKGMpIDw8IDgsIDB4RkZGRjAwLCAwCQkJCQlcCit9CisK
KyNkZWZpbmUgSUQyQyh4KSAgICAgICAgICAgICAgICAgICAgICAgICAgXAorCUlEX0MoeCwg
UENJX0NMQVNTX1NUT1JBR0VfU0NTSSksIFwKKwlJRF9DKHgsIFBDSV9DTEFTU19TVE9SQUdF
X1JBSUQpCisKKyNkZWZpbmUgSURJUk9DKHgpICAoKHgpIHwgfklEX0FMTF9JUk9DX01BU0sp
CisKKy8qIEdlbmVyYXRlIElEcyBmb3IgYWxsIDE2IHBvc3NpYmlsaXRlcy4KKyAqIFRoZSBh
cmd1bWVudCBoYXMgYWxyZWFkeSBtYXNrZWQgb3V0CisgKiB0aGUgNCBsZWFzdCBzaWduaWZp
Y2FudCBiaXRzIG9mIHRoZSBkZXZpY2UgaWQuCisgKiAoZS5nLiwgbWFzazogSURfOTAwNV9H
RU5FUklDX01BU0spLgorICovCisjZGVmaW5lIElEMTYoeCkgICAgICAgICAgICAgICAgICAg
ICAgICAgIFwKKwlJRCh4KSwgICAgICAgICAgICAgICAgICAgICAgICAgICBcCisJSUQoKHgp
IHwgMHgwMDAxMDAwMDAwMDAwMDAwdWxsKSwgXAorCUlEKCh4KSB8IDB4MDAwMjAwMDAwMDAw
MDAwMHVsbCksIFwKKwlJRCgoeCkgfCAweDAwMDMwMDAwMDAwMDAwMDB1bGwpLCBcCisJSUQo
KHgpIHwgMHgwMDA0MDAwMDAwMDAwMDAwdWxsKSwgXAorCUlEKCh4KSB8IDB4MDAwNTAwMDAw
MDAwMDAwMHVsbCksIFwKKwlJRCgoeCkgfCAweDAwMDYwMDAwMDAwMDAwMDB1bGwpLCBcCisJ
SUQoKHgpIHwgMHgwMDA3MDAwMDAwMDAwMDAwdWxsKSwgXAorCUlEKCh4KSB8IDB4MDAwODAw
MDAwMDAwMDAwMHVsbCksIFwKKwlJRCgoeCkgfCAweDAwMDkwMDAwMDAwMDAwMDB1bGwpLCBc
CisJSUQoKHgpIHwgMHgwMDBBMDAwMDAwMDAwMDAwdWxsKSwgXAorCUlEKCh4KSB8IDB4MDAw
QjAwMDAwMDAwMDAwMHVsbCksIFwKKwlJRCgoeCkgfCAweDAwMEMwMDAwMDAwMDAwMDB1bGwp
LCBcCisJSUQoKHgpIHwgMHgwMDBEMDAwMDAwMDAwMDAwdWxsKSwgXAorCUlEKCh4KSB8IDB4
MDAwRTAwMDAwMDAwMDAwMHVsbCksIFwKKwlJRCgoeCkgfCAweDAwMEYwMDAwMDAwMDAwMDB1
bGwpCisKICNlbmRpZiAvKl9BSUNMSUJfSCAqLwo=
--------------080303030805040607080706
Content-Type: application/octet-stream;
 name="sleep-fix.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="sleep-fix.patch"

IyBUaGlzIGlzIGEgQml0S2VlcGVyIGdlbmVyYXRlZCBkaWZmIC1OcnUgc3R5bGUgcGF0Y2gu
CiMKIyBDaGFuZ2VTZXQKIyAgIDIwMDQvMTAvMTMgMTU6NTU6NDktMDQ6MDAgbHViZW5AbGlv
bi5hZGFwdGVjLmNvbSAKIyAgIEZpeCBzbGVlcGluZyB3aGlsZSBob2xkaW5nIGEgbG9jayBv
biBob3N0IHJlbW92YWwgYW5kCiMgICBvbiBraWxsaW5nIHRoZSBEViB0aHJlYWQuCiMgCiMg
ZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljN3h4eF9vc21fcGNpLmMKIyAgIDIwMDQvMTAvMTMg
MTU6NTU6MzYtMDQ6MDAgbHViZW5AbGlvbi5hZGFwdGVjLmNvbSArNCAtMgojICAgRml4IHNs
ZWVwaW5nIHdoaWxlIGhvbGRpbmcgYSBsb2NrIG9uIGhvc3QgcmVtb3ZhbC4KIyAKIyBkcml2
ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X29zbS5jCiMgICAyMDA0LzEwLzEzIDE1OjU1OjM1
LTA0OjAwIGx1YmVuQGxpb24uYWRhcHRlYy5jb20gKzAgLTMKIyAgIEZpeCBzbGVlcGluZyB3
aGlsZSBob2xkaW5nIGEgbG9jayBvbiBraWxsaW5nIHRoZSBEViB0aHJlYWQuCiMgCiMgZHJp
dmVycy9zY3NpL2FpYzd4eHgvYWljN3h4eF9jb3JlLmMKIyAgIDIwMDQvMTAvMTMgMTU6NTU6
MzUtMDQ6MDAgbHViZW5AbGlvbi5hZGFwdGVjLmNvbSArMCAtMQojICAgRml4IHNsZWVwaW5n
IHdoaWxlIGhvbGRpbmcgYSBsb2NrIG9uIGhvc3QgcmVtb3ZhbC4KIyAKIyBkcml2ZXJzL3Nj
c2kvYWljN3h4eC9haWM3OXh4X29zbV9wY2kuYwojICAgMjAwNC8xMC8xMyAxNTo1NTozNS0w
NDowMCBsdWJlbkBsaW9uLmFkYXB0ZWMuY29tICs0IC0yCiMgICBGaXggc2xlZXBpbmcgd2hp
bGUgaG9sZGluZyBhIGxvY2sgb24gaG9zdCByZW1vdmFsLgojIAojIGRyaXZlcnMvc2NzaS9h
aWM3eHh4L2FpYzc5eHhfb3NtLmMKIyAgIDIwMDQvMTAvMTMgMTU6NTU6MzUtMDQ6MDAgbHVi
ZW5AbGlvbi5hZGFwdGVjLmNvbSArMSAtMwojICAgRml4IHNsZWVwaW5nIHdoaWxlIGhvbGRp
bmcgYSBsb2NrIG9uIGtpbGxpbmcgdGhlIERWIHRocmVhZC4KIyAKIyBkcml2ZXJzL3Njc2kv
YWljN3h4eC9haWM3OXh4X2NvcmUuYwojICAgMjAwNC8xMC8xMyAxNTo1NTozNS0wNDowMCBs
dWJlbkBsaW9uLmFkYXB0ZWMuY29tICswIC0xCiMgICBGaXggc2xlZXBpbmcgd2hpbGUgaG9s
ZGluZyBhIGxvY2sgb24gaG9zdCByZW1vdmFsLgojIApkaWZmIC1OcnUgYS9kcml2ZXJzL3Nj
c2kvYWljN3h4eC9haWM3OXh4X2NvcmUuYyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5
eHhfY29yZS5jCi0tLSBhL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5eHhfY29yZS5jCTIw
MDQtMTAtMTMgMTU6NTg6MjMgLTA0OjAwCisrKyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2Fp
Yzc5eHhfY29yZS5jCTIwMDQtMTAtMTMgMTU6NTg6MjMgLTA0OjAwCkBAIC01MjcwLDcgKzUy
NzAsNiBAQAogCWRlZmF1bHQ6CiAJY2FzZSA1OgogCQlhaGRfc2h1dGRvd24oYWhkKTsKLQkJ
VEFJTFFfUkVNT1ZFKCZhaGRfdGFpbHEsIGFoZCwgbGlua3MpOwogCQkvKiBGQUxMVEhST1VH
SCAqLwogCWNhc2UgNDoKIAkJYWhkX2RtYW1hcF91bmxvYWQoYWhkLCBhaGQtPnNoYXJlZF9k
YXRhX2RtYXQsCmRpZmYgLU5ydSBhL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5eHhfb3Nt
LmMgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3OXh4X29zbS5jCi0tLSBhL2RyaXZlcnMv
c2NzaS9haWM3eHh4L2FpYzc5eHhfb3NtLmMJMjAwNC0xMC0xMyAxNTo1ODoyMyAtMDQ6MDAK
KysrIGIvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWljNzl4eF9vc20uYwkyMDA0LTEwLTEzIDE1
OjU4OjIzIC0wNDowMApAQCAtNTAzMiw3ICs1MDMyLDYgQEAKIGFoZF9saW51eF9leGl0KHZv
aWQpCiB7CiAJc3RydWN0IGFoZF9zb2Z0YyAqYWhkOwotCXVfbG9uZyBsOwogCiAJLyoKIAkg
KiBTaHV0ZG93biBEViB0aHJlYWRzIGJlZm9yZSBnb2luZyBpbnRvIHRoZSBTQ1NJIG1pZC1s
YXllci4KQEAgLTUwNDAsMTIgKzUwMzksMTEgQEAKIAkgKiBrZXJuZWwgc28gdGhhdCB3YWl0
aW5nIGZvciBvdXIgRFYgdGhyZWFkcyB0byBleGl0IGxlYWRzCiAJICogdG8gZGVhZGxvY2su
CiAJICovCi0JYWhkX2xpc3RfbG9jaygmbCk7CiAJVEFJTFFfRk9SRUFDSChhaGQsICZhaGRf
dGFpbHEsIGxpbmtzKSB7CiAKIAkJYWhkX2xpbnV4X2tpbGxfZHZfdGhyZWFkKGFoZCk7CiAJ
fQotCWFoZF9saXN0X3VubG9jaygmbCk7CisKICNpZiBMSU5VWF9WRVJTSU9OX0NPREUgPCBL
RVJORUxfVkVSU0lPTigyLDUsMCkKIAkvKgogCSAqIEluIDIuNCB3ZSBoYXZlIHRvIHVucmVn
aXN0ZXIgZnJvbSB0aGUgUENJIGNvcmUgX2FmdGVyXwpkaWZmIC1OcnUgYS9kcml2ZXJzL3Nj
c2kvYWljN3h4eC9haWM3OXh4X29zbV9wY2kuYyBiL2RyaXZlcnMvc2NzaS9haWM3eHh4L2Fp
Yzc5eHhfb3NtX3BjaS5jCi0tLSBhL2RyaXZlcnMvc2NzaS9haWM3eHh4L2FpYzc5eHhfb3Nt
X3BjaS5jCTIwMDQtMTAtMTMgMTU6NTg6MjMgLTA0OjAwCisrKyBiL2RyaXZlcnMvc2NzaS9h
aWM3eHh4L2FpYzc5eHhfb3NtX3BjaS5jCTIwMDQtMTAtMTMgMTU6NTg6MjMgLTA0OjAwCkBA
IC0xMDUsMTIgKzEwNSwxNCBAQAogCWlmIChhaGQgIT0gTlVMTCkgewogCQl1X2xvbmcgczsK
IAorCQlUQUlMUV9SRU1PVkUoJmFoZF90YWlscSwgYWhkLCBsaW5rcyk7CisJCWFoZF9saXN0
X3VubG9jaygmbCk7CiAJCWFoZF9sb2NrKGFoZCwgJnMpOwogCQlhaGRfaW50cl9lbmFibGUo
YWhkLCBGQUxTRSk7CiAJCWFoZF91bmxvY2soYWhkLCAmcyk7CiAJCWFoZF9mcmVlKGFoZCk7
Ci0JfQotCWFoZF9saXN0X3VubG9jaygmbCk7CisJfSBlbHNlCisJCWFoZF9saXN0X3VubG9j
aygmbCk7CiB9CiAKIHN0YXRpYyBpbnQKZGlmZiAtTnJ1IGEvZHJpdmVycy9zY3NpL2FpYzd4
eHgvYWljN3h4eF9jb3JlLmMgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X2NvcmUu
YwotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X2NvcmUuYwkyMDA0LTEwLTEz
IDE1OjU4OjIzIC0wNDowMAorKysgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X2Nv
cmUuYwkyMDA0LTEwLTEzIDE1OjU4OjIzIC0wNDowMApAQCAtMzk3Myw3ICszOTczLDYgQEAK
IAlkZWZhdWx0OgogCWNhc2UgNToKIAkJYWhjX3NodXRkb3duKGFoYyk7Ci0JCVRBSUxRX1JF
TU9WRSgmYWhjX3RhaWxxLCBhaGMsIGxpbmtzKTsKIAkJLyogRkFMTFRIUk9VR0ggKi8KIAlj
YXNlIDQ6CiAJCWFoY19kbWFtYXBfdW5sb2FkKGFoYywgYWhjLT5zaGFyZWRfZGF0YV9kbWF0
LApkaWZmIC1OcnUgYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X29zbS5jIGIvZHJp
dmVycy9zY3NpL2FpYzd4eHgvYWljN3h4eF9vc20uYwotLS0gYS9kcml2ZXJzL3Njc2kvYWlj
N3h4eC9haWM3eHh4X29zbS5jCTIwMDQtMTAtMTMgMTU6NTg6MjMgLTA0OjAwCisrKyBiL2Ry
aXZlcnMvc2NzaS9haWM3eHh4L2FpYzd4eHhfb3NtLmMJMjAwNC0xMC0xMyAxNTo1ODoyMyAt
MDQ6MDAKQEAgLTUwMzMsNyArNTAzMyw2IEBACiBhaGNfbGludXhfZXhpdCh2b2lkKQogewog
CXN0cnVjdCBhaGNfc29mdGMgKmFoYzsKLQl1X2xvbmcgbDsKIAogCS8qCiAJICogU2h1dGRv
d24gRFYgdGhyZWFkcyBiZWZvcmUgZ29pbmcgaW50byB0aGUgU0NTSSBtaWQtbGF5ZXIuCkBA
IC01MDQxLDEyICs1MDQwLDEwIEBACiAJICoga2VybmVsIHNvIHRoYXQgd2FpdGluZyBmb3Ig
b3VyIERWIHRocmVhZHMgdG8gZXhpdCBsZWFkcwogCSAqIHRvIGRlYWRsb2NrLgogCSAqLwot
CWFoY19saXN0X2xvY2soJmwpOwogCVRBSUxRX0ZPUkVBQ0goYWhjLCAmYWhjX3RhaWxxLCBs
aW5rcykgewogCiAJCWFoY19saW51eF9raWxsX2R2X3RocmVhZChhaGMpOwogCX0KLQlhaGNf
bGlzdF91bmxvY2soJmwpOwogCiAjaWYgTElOVVhfVkVSU0lPTl9DT0RFIDwgS0VSTkVMX1ZF
UlNJT04oMiw1LDApCiAJLyoKZGlmZiAtTnJ1IGEvZHJpdmVycy9zY3NpL2FpYzd4eHgvYWlj
N3h4eF9vc21fcGNpLmMgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X29zbV9wY2ku
YwotLS0gYS9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4X29zbV9wY2kuYwkyMDA0LTEw
LTEzIDE1OjU4OjIzIC0wNDowMAorKysgYi9kcml2ZXJzL3Njc2kvYWljN3h4eC9haWM3eHh4
X29zbV9wY2kuYwkyMDA0LTEwLTEzIDE1OjU4OjIzIC0wNDowMApAQCAtMTYwLDEyICsxNjAs
MTQgQEAKIAlpZiAoYWhjICE9IE5VTEwpIHsKIAkJdV9sb25nIHM7CiAKKwkJVEFJTFFfUkVN
T1ZFKCZhaGNfdGFpbHEsIGFoYywgbGlua3MpOworCQlhaGNfbGlzdF91bmxvY2soJmwpOwog
CQlhaGNfbG9jayhhaGMsICZzKTsKIAkJYWhjX2ludHJfZW5hYmxlKGFoYywgRkFMU0UpOwog
CQlhaGNfdW5sb2NrKGFoYywgJnMpOwogCQlhaGNfZnJlZShhaGMpOwotCX0KLQlhaGNfbGlz
dF91bmxvY2soJmwpOworCX0gZWxzZQorCQlhaGNfbGlzdF91bmxvY2soJmwpOwogfQogI2Vu
ZGlmIC8qICFMSU5VWF9WRVJTSU9OX0NPREUgPCBLRVJORUxfVkVSU0lPTigyLDQsMCkgKi8K
IAo=
--------------080303030805040607080706--

