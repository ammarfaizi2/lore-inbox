Return-Path: <linux-kernel-owner+akpm=40zip.com.au@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S317270AbSFGLiI>; Fri, 7 Jun 2002 07:38:08 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S317271AbSFGLiH>; Fri, 7 Jun 2002 07:38:07 -0400
Received: from vaak.stack.nl ([131.155.140.140]:48138 "HELO mailhost.stack.nl")
	by vger.kernel.org with SMTP id <S317270AbSFGLiH>;
	Fri, 7 Jun 2002 07:38:07 -0400
Date: Fri, 7 Jun 2002 13:38:06 +0200 (CEST)
From: Jos Hulzink <josh@stack.nl>
To: Linux Kernel Development <linux-kernel@vger.kernel.org>
Subject: [BUG] 2.5.20: APIC PCI IRQ remapping still lost. 
Message-ID: <20020607131626.S33468-100000@snail.stack.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,

This is an old one: been there since early 2.5. The IRQ remapping
table generated by my BIOS is taken over by the APIC, but (afaics) not by
the pci data structures. Result: Drivers claim the wrong IRQ line (as
can be seen in /proc/interrupts). No sound, not network, no SCSI, which
means: no root filesystem and thus no boot :(

At the moment I "fix" this by telling the kernel to ignore the APIC, this
is not the preferred way to go imho.

I also reported this somehwere around kernel 2.5.8 or something, got the
answer this was a know bug that was about to be fixed, but so far, no
improvement.

If it does matter: I got an Intel LX-chipset based SMP system.

Jos

