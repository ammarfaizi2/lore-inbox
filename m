Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261852AbUBZOem (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 26 Feb 2004 09:34:42 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261808AbUBZOem
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 26 Feb 2004 09:34:42 -0500
Received: from lnscu5.lns.cornell.edu ([128.84.44.111]:19986 "EHLO
	lnscu5.lns.cornell.edu") by vger.kernel.org with ESMTP
	id S261852AbUBZOeF (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 26 Feb 2004 09:34:05 -0500
From: Valentine Kouznetsov <vk@mail.lns.cornell.edu>
Organization: Cornell University
To: Lothar Roth <lroth@atis.uka.de>, linux-kernel@vger.kernel.org
Subject: Re: kernel 2.6.x, no mouse, i8042???
Date: Thu, 26 Feb 2004 09:31:44 -0500
User-Agent: KMail/1.5
References: <200402251349.11791.vk@mail.lns.cornell.edu> <403DC3E7.9030801@atis.uka.de>
In-Reply-To: <403DC3E7.9030801@atis.uka.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="koi8-r"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200402260931.44144.vk@mail.lns.cornell.edu>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,
thanks for tip, but in my case I compiled psmouse into kernel and still has 
problem, I'll try to make it as module.
Valentine.

On Thu February 26 2004 05:01, Lothar Roth wrote:
> Valentine Kouznetsov wrote:
> > Hi,
> > I post already that I cannot get my mouse work in any 2.6 kernel.
> > Searching kernel archive I found discussion about i8042. I would
> > appreciate if someone will help me to find out what is wrong with all of
> > these.
> >
> > My problem is trivial, no mouse at all, in console and X modes. No error
> > messages generated by kernel. Mouse is PS/2 as touchpad on Compaq Evo
> > N600c laptop. Kernel says: "mice: PS/2 mouse device common for all mice"
> >
> > Following discussion about similar problem a few people suggested to look
> > at i8042.nomux option. Well, I did. First of all I found that loading
> > kernel without any option gave me the following output:
> > i8042.c: Detected active multiplexing controller, rev 1.0.
> > serio: i8042 AUX0 port at 0x60,0x64 irq 12
> > serio: i8042 AUX1 port at 0x60,0x64 irq 12
> > serio: i8042 AUX2 port at 0x60,0x64 irq 12
> > serio: i8042 AUX3 port at 0x60,0x64 irq 12
> > serio: i8042 KBD port at 0x60,0x64 irq 1
> > which I consider to be suspisious since 4 aux ports are on the same irq?
> >
> > Loading kernel with nomux option gave me:
> > serio: i8042 AUX port at 0x60,0x64 irq 12
> > serio: i8042 KBD port at 0x60,0x64 irq 1
> > but still no mouse. I also tried noaux option which only detect keyboard.
> > I tried /dev/psaux and /dev/input/mice for all of these cases with no
> > success. What is also strange that trying /dev/input/mouse[0-X] gave oops
> > for gpm saying there is no such device???
> >
> > For interesting parties I attach dmesg outputs. If someone want me to try
> > anything else I can give a shot to figure/fix this problem.
> >
> > I'm not on a list, please CC me.
> >
> > Thanks,
> > Valentine.
>
> Hi,
>
> I had a similar problem with recent kernel 2.6.x and gpm.
> Solution : the psmouse module is missing
>    modprobe psmouse
> and the mouse is immediately available, no restart of gpm necessary !
> lsmod shows that noone (count == 0) is using the module !
> Removing the module and the mouse is away.
>
> Hope this my help you,
> Lothar

