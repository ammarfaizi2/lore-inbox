Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261236AbVCHDMq@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261236AbVCHDMq (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 7 Mar 2005 22:12:46 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261235AbVCHDKW
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 7 Mar 2005 22:10:22 -0500
Received: from news.suse.de ([195.135.220.2]:52185 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S261170AbVCGU0b (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Mon, 7 Mar 2005 15:26:31 -0500
Date: Mon, 07 Mar 2005 21:26:30 +0100
Message-ID: <s5hbr9vurrd.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Pierre Ossman <drzeus-list@drzeus.cx>
Cc: Lee Revell <rlrevell@joe-job.com>, Andrew Morton <akpm@osdl.org>,
       Mark Canter <marcus@vfxcomputing.com>, nish.aravamudan@gmail.com,
       linux-kernel@vger.kernel.org, alsa-devel@lists.sourceforge.net
Subject: Re: [Alsa-devel] Re: intel 8x0 went silent in 2.6.11
In-Reply-To: <422CB5E3.3070208@drzeus.cx>
References: <4227085C.7060104@drzeus.cx>
	<29495f1d05030309455a990c5b@mail.gmail.com>
	<Pine.LNX.4.62.0503031342270.19015@krusty.vfxcomputing.com>
	<1109875926.2908.26.camel@mindpipe>
	<Pine.LNX.4.62.0503031356150.19015@krusty.vfxcomputing.com>
	<1109876978.2908.31.camel@mindpipe>
	<Pine.LNX.4.62.0503031527550.30702@krusty.vfxcomputing.com>
	<20050303154929.1abd0a62.akpm@osdl.org>
	<4227ADE7.3080100@drzeus.cx>
	<4228D013.8010307@drzeus.cx>
	<1110049247.12201.11.camel@mindpipe>
	<422CB5E3.3070208@drzeus.cx>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 15) (Security Through Obscurity) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Mon, 07 Mar 2005 21:13:23 +0100,
Pierre Ossman wrote:
> 
> Lee Revell wrote:
> 
> >So is there a bug or not?  Mark seems to be the only one affected.
> >
> >It's important to follow up, because these so-called "ALSA regressions"
> >are generating bad press.
> >
> >Lee
> >
> >  
> >
> I can generate the error using the following procedure:
> 
> 1. Boot in 2.6.10. Remove /etc/asound.conf and store the current mixer
> settings.
> 2. Boot in 2.6.11 and let alsactl restore the mixer.
> 
> Provided the machine is powered down between each attempt this gives the
> same result. 'Headphone Jack Sense' ends up not muted (which means that
> the built-in speakers are dead).
> 
> I fail to find where FC saves/restores the mixer settings so I can't
> test without it. There are commands in modprobe.conf but asound.conf
> still gets updated when I remove these lines. So there must be some more
> place[s] where alsactl gets called.

Usually it's called either in init script or in udev configuration.

Or, it's not set up via alsactl but by other apps (e.g. kmix).  I'm
not sure whether GNOME does anything special in this regard, though.


Takashi
