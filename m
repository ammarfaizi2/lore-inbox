Return-Path: <linux-kernel-owner+willy=40w.ods.org-S262500AbUKLLGL@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262500AbUKLLGL (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 12 Nov 2004 06:06:11 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262503AbUKLLGL
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 12 Nov 2004 06:06:11 -0500
Received: from mx1.redhat.com ([66.187.233.31]:1991 "EHLO mx1.redhat.com")
	by vger.kernel.org with ESMTP id S262500AbUKLLGJ (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 12 Nov 2004 06:06:09 -0500
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20041112023817.247af548.akpm@osdl.org> 
References: <20041112023817.247af548.akpm@osdl.org>  <20041111143148.76dcaba4.akpm@osdl.org> <200411081432.iA8EWfmh023432@warthog.cambridge.redhat.com> <19844.1100255635@redhat.com> 
To: Andrew Morton <akpm@osdl.org>
Cc: torvalds@osdl.org, davidm@snapgear.com, linux-kernel@vger.kernel.org,
       uclinux-dev@uclinux.org
Subject: Re: [PATCH] VM routine fixes 
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Fri, 12 Nov 2004 11:05:58 +0000
Message-ID: <20942.1100257558@redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> >  The vm_area_struct doesn't have an ops member when !MMU.
> 
> What is the reason for this change?

vm_area_struct not having an ops member? There's no real need for ops on
uClinux since almost all of the ops are irrelevant. The only one that could be
relevant is vmops->close(). I suppose it might make sense to have this. It
would indicate to a chardev for instance that the last mapping upon it has
been gone, but then fops->release() is probably more appropriate still.

vmops can be added back in for the !MMU case if it's deemed appropriate.

David
