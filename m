Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S293190AbSCOTaZ>; Fri, 15 Mar 2002 14:30:25 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S293201AbSCOTaR>; Fri, 15 Mar 2002 14:30:17 -0500
Received: from bitmover.com ([192.132.92.2]:1234 "EHLO bitmover.com")
	by vger.kernel.org with ESMTP id <S293190AbSCOTaD>;
	Fri, 15 Mar 2002 14:30:03 -0500
Date: Fri, 15 Mar 2002 11:30:01 -0800
From: Larry McVoy <lm@bitmover.com>
To: Linus Torvalds <torvalds@transmeta.com>
Cc: Larry McVoy <lm@bitmover.com>, linux-kernel@vger.kernel.org
Subject: Re: Linux 2.4 and BitKeeper
Message-ID: <20020315113001.W29887@work.bitmover.com>
Mail-Followup-To: Larry McVoy <lm@work.bitmover.com>,
	Linus Torvalds <torvalds@transmeta.com>,
	Larry McVoy <lm@bitmover.com>, linux-kernel@vger.kernel.org
In-Reply-To: <20020315111022.S29887@work.bitmover.com> <Pine.LNX.4.33.0203151110130.29289-100000@penguin.transmeta.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <Pine.LNX.4.33.0203151110130.29289-100000@penguin.transmeta.com>; from torvalds@transmeta.com on Fri, Mar 15, 2002 at 11:20:24AM -0800
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Fri, Mar 15, 2002 at 11:20:24AM -0800, Linus Torvalds wrote:
> The thing is, I think that the "work area" really is overrated.

Tried clearcase?

> There's no reason to have a work area at all if you just had:
>  - read-only filesystem for grep/make (autogenerated)
>  - separate commands for editing
> 
> I don't find it depressing at all to have to use "bk editor" to edit a
> file. I just aliased that one, and I'm all done. 

Well, it sort of works.  If you use emacs, you're set because emacs can
convert the file from read only to read/write in VC mode, which is something
we'll have to update when we go to the new format.

If you use vim and ctags, it sucks because I haven't yet taught vim how 
to go from a read only revision controlled file to a read/write file.  
It would be way cool if some vim genius out there showed me how to do
that, I know it is possible, vim has the hooks, I simply don't have the
time to go figure it out.

> But reading the current contents (as opposed to reading some revision) of 
> the thing _is_ a perfectly valid thing to do, where the FS interfaces do 
> actually map perfectly.

Sure, that part works fine.  But the write part is a lot more dicey.  And 
there has to be some way to get to the revision history for all the tools
that want that.

It's absolutely possible to do all this stuff through the file system
and a collection of smart tools, that's more or less what clearcase is.
But it sucks rocks.  One of our biggest selling points is that we *don't*
work like clearcase.  ClearCase has shown that it is a performance,
stability, and maintainence nightmare to integrate your SCM with the
filesystem.  It means your SCM system is now OS specific.  *You* may not 
care that we run on AIX/Windows/Whatever, but we have to do that to 
survive and make enough money to keep making BK better and it actually
shakes out lots of bugs.

Ask the ClearCase guys if they would choose the BK way or the ClearCase
way, given a second chance, and I'll bet you the smarts would do BK.

> > Whoops, sorry, try it with -Ur, the -U says "user files only, skip the BK crud"
> 
> That's better. It doesn't fix the pipe example, though. You're missing the 
> -l option to grep etc..

Yeah, point taken.  I need a --grep-options=<your favorites here> or something.
I need the same thing for bk diffs.  
-- 
---
Larry McVoy            	 lm at bitmover.com           http://www.bitmover.com/lm 
