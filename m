Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1751054AbVIQXDo@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751054AbVIQXDo (ORCPT <rfc822;willy@w.ods.org>);
	Sat, 17 Sep 2005 19:03:44 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751215AbVIQXDo
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sat, 17 Sep 2005 19:03:44 -0400
Received: from daimi.au.dk ([130.225.16.1]:20151 "EHLO daimi.au.dk")
	by vger.kernel.org with ESMTP id S1751054AbVIQXDn (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Sat, 17 Sep 2005 19:03:43 -0400
To: John Levon <levon@movementarian.org>
Cc: bert hubert <bert.hubert@netherlabs.nl>, linux-kernel@vger.kernel.org
Subject: Re: Announce:  Sysprof 1.0 -- a sampling, systemwide Linux profiler
References: <ye8br2r9zi7.fsf@horse06.daimi.au.dk>
	<20050917211656.GA27448@outpost.ds9a.nl>
	<ye8slw38i5g.fsf@horse06.daimi.au.dk>
	<20050917222015.GA32019@trollied.org>
From: Soeren Sandmann <sandmann@daimi.au.dk>
Date: 18 Sep 2005 01:03:08 +0200
In-Reply-To: <20050917222015.GA32019@trollied.org>
Message-ID: <ye88xxvi9g3.fsf@zebra02.daimi.au.dk>
User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/21.3
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

John Levon <levon@movementarian.org> writes:

> > and you get data presented in a way that is just a whole lot more
> > useful than the flat text files generated by oprofile.
> 
> Building a GUI around OProfile would have been welcome, but you've
> chosen to re-implement the entire stack...

The only thing I have reimplemented is a kernel module. If you remove
all the #if 0'd lines in sysprof-module.c you are left with 296 lines
of code. So it's hardly a reimplementation of the entire stack.

And in fact I don't care all that much about the kernel module. The
things I really care about, the gui and the analysis code, do not
really have an equivalent in oprofile, and those two things are the
meat of the sysprof package:

      [ssp@localhost sysprof]$ cat *.[ch] | wc -l
      6706

My motive is not to duplicate oprofile - I basically don't care about
the kernel level mechanism as long as it can produce stack traces that
the GUI can interprete and analyse. In fact, one of the first times I
wrote about sysprof publicly [1], I said:

      It seems to me that since oprofile probably reports more and
      better data than my kernel module, we should try and get the
      graphical presentation from sysprof to present oprofile data.

and I still think so, but it's a fairly substantial amount of work to
get rid of 296 lines of code. 


Soren



[1] http://www.redhat.com/archives/fedora-desktop-list/2004-May/msg00041.html
