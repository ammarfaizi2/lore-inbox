Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S275270AbRI1BNO>; Thu, 27 Sep 2001 21:13:14 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S275272AbRI1BNF>; Thu, 27 Sep 2001 21:13:05 -0400
Received: from hitiij.hitachi.co.jp ([133.145.224.3]:56526 "EHLO
	hitiij.hitachi.co.jp") by vger.kernel.org with ESMTP
	id <S275270AbRI1BMu>; Thu, 27 Sep 2001 21:12:50 -0400
Date: Fri, 28 Sep 2001 10:07:54 +0900
Message-ID: <ktn13gw2ad.wl@niagara.crl8.crl.hitachi.co.jp>
From: Tsunehiko Baba <tsn@crl.hitachi.co.jp>
To: Alan Cox <laughing@shared-source.org>, linux-kernel@vger.kernel.org
Subject: [REPORT] (PPC) Compile Error (Linux 2.4.9-ac[12-16])
In-Reply-To: <20010927185107.A17861@lightning.swansea.linux.org.uk>
In-Reply-To: <20010927185107.A17861@lightning.swansea.linux.org.uk>
User-Agent: Wanderlust/2.7.3 (Too Funky) SEMI/1.14.3
 (=?ISO-2022-JP?B?GyRCNW0lTkMrGyhC?=) FLIM/1.14.3
 (=?ISO-2022-JP?B?GyRCQCZLNThmTk1BMBsoQg==?=) APEL/10.3 Emacs/20.7
 (sparc-sun-solaris2.7) MULE/4.0 (=?ISO-2022-JP?B?GyRCMlYxYxsoQg==?=)
Organization: Central Research Lab., Hitachi, Ltd.
X-Face: 8pn_qW,"\K8}3;t37X],+RRE$ZCxFtMv~~$re{*jHFl@TjwV@c\F=*6+oTj!jOv>6/xzR@;
 cuz\XF'wx|T)Ax[RMQ0e=%YI&?S8oH!=_meAoFcuOoJ~:~660`wj629$[bSOJetzPqRZ?PsT_w@C:d
X-Face-Version: X-Face utility v1.3.6.10 - "Yellow Submarine (remix)"
X-Beat: Internet Time @48 09.28.2001
MIME-Version: 1.0 (generated by SEMI 1.14.3 - =?ISO-2022-JP?B?IhskQjVtGyhC?=
 =?ISO-2022-JP?B?GyRCJU5DKxsoQiI=?=)
Content-Type: text/plain; charset=ISO-2022-JP
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


Hi, Alan and everyone.

I have continued testing Alan's ac-branch kernel but failed because of
following 2 problems. 


1. include/asm-ppc/keyboard.h

It's a small problem ,easy to resolve. 
If this patch is correct, please apply it.

[compile error Log]
In file included from keyboard.c:42:
/usr/src/v2.4.9/ac16/include/linux/vt_kern.h:35: parse error before `.'
keyboard.c:573: warning: excess elements in array initializer
keyboard.c:573: warning: (near initialization for `ret_diacr')
gmake[3]: *** [keyboard.o] エラー 1
gmake[2]: *** [first_rule] エラー 2
gmake[1]: *** [_subdir_char] エラー 2
gmake: *** [_dir_drivers] エラー 2

[patch]
*** include/asm-ppc/keyboard.h.orig	Mon Sep 10 10:07:38 2001
--- include/asm-ppc/keyboard.h	Mon Sep 10 10:07:51 2001
***************
*** 75,81 ****
  		ppc_md.kbd_init_hw();
  }
  
- #define kbd_rate	(ppc_md.kbd_rate_fn)
  #define kbd_sysrq_xlate	(ppc_md.ppc_kbd_sysrq_xlate)
  
  extern unsigned long SYSRQ_KEY;
--- 75,80 ----


2. arch/ppc/kernel/setup.c

This error has occured since -ac12.
I tried to make patch but did't work well.

By comparing same files in each architectures, I think, in func
'get_cpuinfo' `n' is used in mistake for "i"....

Does anyone resolve this error, or advise me?

[compile error log]
setup.c: In function `get_cpuinfo':
setup.c:176: `n' undeclared (first use in this function)
setup.c:176: (Each undeclared identifier is reported only once
setup.c:176: for each function it appears in.)
setup.c:216: `c' undeclared (first use in this function)
setup.c:216: `cpu_data' undeclared (first use in this function)
setup.c:258: break statement not within loop or switch
setup.c:271: break statement not within loop or switch
setup.c:156: warning: unused variable `bogosum'
gmake[1]: *** [setup.o] エラー 1
gmake: *** [_dir_arch/ppc/kernel] エラー 2


Best Regards.

--
Tsunehiko Baba <tsn@crl.hitachi.co.jp>
