Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S277893AbRJNWIi>; Sun, 14 Oct 2001 18:08:38 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S277894AbRJNWI2>; Sun, 14 Oct 2001 18:08:28 -0400
Received: from smtpzilla2.xs4all.nl ([194.109.127.138]:10002 "EHLO
	smtpzilla2.xs4all.nl") by vger.kernel.org with ESMTP
	id <S277893AbRJNWIQ>; Sun, 14 Oct 2001 18:08:16 -0400
Message-ID: <002101c154fc$ec6183b0$6400a8c0@it0>
From: "Tommy Faasen" <faasen@xs4all.nl>
To: "Gerhard Mack" <gmack@innerfire.net>, "Andi Kleen" <ak@muc.de>
Cc: <linux-kernel@vger.kernel.org>
In-Reply-To: <Pine.LNX.4.10.10110141349510.31660-100000@innerfire.net>
Subject: Re: SMP processor rework help needed
Date: Mon, 15 Oct 2001 00:09:35 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Yes it would however in my case, the cooler,which I can't get off, is too
big for the first slot!

It's just 1 more way linux can be more flexible with hardware.
----- Original Message -----
From: "Gerhard Mack" <gmack@innerfire.net>
To: "Andi Kleen" <ak@muc.de>
Cc: "Tommy Faasen" <tommy@vuurwerk.nl>; <linux-kernel@vger.kernel.org>
Sent: Sunday, October 14, 2001 10:50 PM
Subject: Re: SMP processor rework help needed


> On 14 Oct 2001, Andi Kleen wrote:
>
> > In article <000b01c154ee$1d6a2610$6400a8c0@it0>,
> > "Tommy Faasen" <tommy@vuurwerk.nl> writes:
> > > Hi,
> > > I have this unique situation where cpu 1 has less features (like fxsr)
then
> > > cpu 0.
> >
> > I used to have such an AMP machine too: a dual PII-300 with one Katmai
and one
> > Deschutes. It's technically a violation of the specs; the Intel SMP spec
> > requires that the non boot cpus need to have a superset of the features
> > of the boot CPU. One CPU died, so it is symmetric now.
> >
> > For most capabilities it should already work in 2.4 after hpa's cpu
> > set rewrite, but FXSAVE is unfortunately a bit of a special case because
> > it is used in the scheduler context switch and that is required early
> > in the initialization for SMP bootup and changing it would be very
> > intrusive.
> >
> > In the 2.2 SuSE kernel it was fixed instead by adding a new kernel
> > command line option nofxsave that overrides the FXSAVE bit on the first
> > CPU. That is ok because such setup is very rare and is only generated by
> > people who build their own boxes; and these should also know how to pass
> > kernel command line arguments.
>
> This may sound like a dumb question but wouldn't simply swapping the CPUs
> have the same affect?
>
> Gerhard
>
>
>
> --
> Gerhard Mack
>
> gmack@innerfire.net
>
> <>< As a computer I find your faith in technology amusing.
>
> -
> To unsubscribe from this list: send the line "unsubscribe linux-kernel" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  http://vger.kernel.org/majordomo-info.html
> Please read the FAQ at  http://www.tux.org/lkml/
>

