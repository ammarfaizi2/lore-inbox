Return-Path: <linux-kernel-owner+w=401wt.eu-S1754308AbXACGXb@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1754308AbXACGXb (ORCPT <rfc822;w@1wt.eu>);
	Wed, 3 Jan 2007 01:23:31 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1754514AbXACGXb
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 3 Jan 2007 01:23:31 -0500
Received: from ug-out-1314.google.com ([66.249.92.173]:34245 "EHLO
	ug-out-1314.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1754308AbXACGXa (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Wed, 3 Jan 2007 01:23:30 -0500
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=of9m2d3nsEpTorzshhGAFgzZ4N6PgYtaSzUwRiptjhXVEM1K1rFxteE9LT8BjbbiTiFKhT6EF4vZzcHCYJ26bMtDYwyJ9WGhtGhKRbTKN1dY6pPjrzP3+nm8YGC9UR93Y3ZupuUifKutLTD2tXuE8GwC5g5OFjOTVxcZuncx3Zo=
Message-ID: <86802c440701022223q418bd141qf4de8ab149bf144b@mail.gmail.com>
Date: Tue, 2 Jan 2007 22:23:28 -0800
From: "Yinghai Lu" <yinghai.lu@amd.com>
To: "Andrew Morton" <akpm@osdl.org>
Subject: Re: 2.6.20-rc3: known unfixed regressions - x86_64 boot failure: "IO-APIC + timer doesn't work"
Cc: "Adrian Bunk" <bunk@stusta.de>, "Linus Torvalds" <torvalds@osdl.org>,
       "Tobias Diedrich" <ranma+kernel@tdiedrich.de>,
       "Andi Kleen" <ak@suse.de>, "Eric W. Biederman" <ebiederm@xmission.com>,
       "Linux Kernel Mailing List" <linux-kernel@vger.kernel.org>
In-Reply-To: <5986589C150B2F49A46483AC44C7BCA490733F@ssvlexmb2.amd.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_222306_28580659.1167805408731"
References: <5986589C150B2F49A46483AC44C7BCA490733F@ssvlexmb2.amd.com>
X-Google-Sender-Auth: f23b53cc737056da
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

------=_Part_222306_28580659.1167805408731
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Please check the latest version. ( 01/02/2007)

YH

------=_Part_222306_28580659.1167805408731
Content-Type: text/x-patch; name="timer_01022007.diff"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="timer_01022007.diff"
X-Attachment-Id: f_ewhd438i

W1BBVENIXSB4ODZfNjQ6IGNoZWNrX3RpbWVyIHdpdGggaW8gYXBpYyBzZXR1cCBiZWZvcmUgdHJ5
X2FwaWNfcGluCgpJbiB0aGUgY2hlY2tfdGltZXIsIGl0IGZvcmdldCB0byBzZXQgdXAgdGhlIGlv
IGFwaWMgYmVmb3JlIHRyeV9hcGljX3BpbiBmb3IKdGltZXIuIFNvIGFkZCBzZXRfdHJ5X2FwaWNf
cGluIHRvIHNldCB1cCB0aGUgaW8gYXBpYyBwaW4uIG90aGVyd2lzZSB0aGUgCnRyeV9hcGljX3Bp
biB3aWxsIG5vdCB3b3JrLgoKYWxzbyBhZGQgcmVtb3ZlX2lycV90b19waW4gdG8gY29ycmVzcG9u
Z2luZyB0byBhZGRfcGluX3RvX2lycSB0byBtYWtlIGlycV8yX3Bpbgptb3JlIGNvbXBsZXRlIGFu
ZCBtYWtlIHRoZSBzZXQgaW8gYXBpYyBtb3JlIGNvbnZlbmllbnQuCgpBbHNvIGFkZCBhZGRfaXJx
X2VudHJ5IGluIG1wYXJlc2UuYyB0byBhZGQgYXBpYy9waW4gcGFpciB0byBtcF9pcnFzIGluIGNh
c2UgCnNvbWUgbnZpZGlhIGJhc2VkIE1CIGhhdmUgd3JvbmcgaW8gYXBpYyBwaW4gZW50cnkgZm9y
IHRpbWVyLiBTb21lIGNrODA0IGJhc2VkIApNQiwgTVBUQUJMRSBvciBBQ1BJIGFzc3VtZSB0aW1l
ciBpcyBvbiBpb2FwaWMgcGluMi4gYnV0IEhXIGlzIHNldCB0byBwaW4wLiBvciAKcmV2ZXJzaW5n
IGNhc2UuCgp0aGUgY2hlY2tfdGltZXIgd2lsbCB0cnkgCjEuIGFwaWMxLCBwaW4xIHdpdGggODI1
OSBJUlEwIGRpc2FibGVkCjIuIGFwaWM9MCwgcGluPTAgd2l0aCA4MjU5IElSUTAgZGlzYWJsZWQK
My4gYXBpYz0wLCBwaW49MiB3aXRoIDgyNTkgSVJRMCBkaXNhYmxlZAo0LiBhcGljMSwgcGluMSB3
aXRoIDgyNTkgSVJRMCBlbmFibGVkCjUuIGFwaWMyLCBwaW4yLCBwdXJlIDgyNTlBIHJvdXRpbmcg
b24gdGhlIDgyNTkgYXMgcmVwb3J0ZWQgYnkgQklPUwoKd2l0aG91dCB0aGUgcGF0Y2g6Ci4uVElN
RVI6IHRyeWluZyBJTy1BUElDPTAgUElOPTAgd2l0aCA4MjU5IElSUTAgZGlzYWJsZWQ8Mz4gLi4g
ZmFpbGVkCi4uVElNRVI6IHRyeWluZyBJTy1BUElDPTAgUElOPTAgd2l0aCA4MjU5IElSUTAgZW5h
YmxlZDw3PkFQSUMgZXJyb3Igb24gQ1BVMDogMDAoNDApIC4uIGZhaWxlZAouLlRJTUVSOiB0cnlp
bmcgSU8tQVBJQz0wIFBJTj0yIGZhbGxiYWNrIHdpdGggODI1OSBJUlEwIGRpc2FibGVkPDM+IC4u
IGZhaWxlZAouLlRJTUVSOiB0cnlpbmcgSU8tQVBJQz0wIFBJTj0wIDgyNTlBIGJyb2FkY2FzdCBF
eHRJTlQgZnJvbSBCSU9TPDc+bnVtYmVyIG9mIE1QIElSUSBzb3VyY2VzOiA4NC4KdGVzdGluZyB0
aGUgSU8gQVBJQy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uCgoKLi4uLi4uLi4uLi4uLi4uLi4uLi4u
Li4uLi4uLi4uLi4uLi4uIGRvbmUuCgp3aXRoIHRoZSBwYXRjaDoKLi5USU1FUjogdHJ5aW5nIElP
LUFQSUM9MCBQSU49MCB3aXRoIDgyNTkgSVJRMCBkaXNhYmxlZDwzPiAuLiBmYWlsZWQKLi5USU1F
UjogdHJ5aW5nIElPLUFQSUM9MCBQSU49MiBmYWxsYmFjayB3aXRoIDgyNTkgSVJRMCBkaXNhYmxl
ZDw3Pm51bWJlciBvZiBNUCBJUlEgc291cmNlczogODUuCnRlc3RpbmcgdGhlIElPIEFQSUMuLi4u
Li4uLi4uLi4uLi4uLi4uLi4uLgoKCi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4u
LiBkb25lLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIApjYzogQW5kaSBL
bGVlbiA8YWtAc3VzZS5kZT4KY2M6IEVyaWMgVy4gQmllZGVybWFuIDxlYmllZGVybUB4bWlzc2lv
bi5jb20+ClNpZ25lZC1vZmYtYnk6IFlpbmdoYWkgTHUgPHlpbmdoYWkubHVAYW1kLmNvbT4KCmRp
ZmYgLS1naXQgYS9hcmNoL3g4Nl82NC9rZXJuZWwvaW9fYXBpYy5jIGIvYXJjaC94ODZfNjQva2Vy
bmVsL2lvX2FwaWMuYwppbmRleCAyYTFkY2Q1Li5lMjAwZDBhIDEwMDY0NAotLS0gYS9hcmNoL3g4
Nl82NC9rZXJuZWwvaW9fYXBpYy5jCisrKyBiL2FyY2gveDg2XzY0L2tlcm5lbC9pb19hcGljLmMK
QEAgLTI3MywxMCArMjczLDE3IEBAIHN0YXRpYyB2b2lkIGFkZF9waW5fdG9faXJxKHVuc2lnbmVk
IGludCBpcnEsIGludCBhcGljLCBpbnQgcGluKQogCXN0cnVjdCBpcnFfcGluX2xpc3QgKmVudHJ5
ID0gaXJxXzJfcGluICsgaXJxOwogCiAJQlVHX09OKGlycSA+PSBOUl9JUlFTKTsKLQl3aGlsZSAo
ZW50cnktPm5leHQpCisJd2hpbGUgKGVudHJ5LT5uZXh0KSB7CisJCWlmIChlbnRyeS0+YXBpYyA9
PSBhcGljICYmIGVudHJ5LT5waW4gPT0gcGluKSAKKwkJCXJldHVybjsKKwkJaWYgKGVudHJ5LT5w
aW4gPT0gLTEpIAorCQkJYnJlYWs7CiAJCWVudHJ5ID0gaXJxXzJfcGluICsgZW50cnktPm5leHQ7
CisJfQogCiAJaWYgKGVudHJ5LT5waW4gIT0gLTEpIHsKKwkJaWYgKGVudHJ5LT5hcGljID09IGFw
aWMgJiYgZW50cnktPnBpbiA9PSBwaW4pIAorCQkJcmV0dXJuOwogCQllbnRyeS0+bmV4dCA9IGZp
cnN0X2ZyZWVfZW50cnk7CiAJCWVudHJ5ID0gaXJxXzJfcGluICsgZW50cnktPm5leHQ7CiAJCWlm
ICgrK2ZpcnN0X2ZyZWVfZW50cnkgPj0gUElOX01BUF9TSVpFKQpAQCAtMjg2LDYgKzI5MywzOSBA
QCBzdGF0aWMgdm9pZCBhZGRfcGluX3RvX2lycSh1bnNpZ25lZCBpbnQgaXJxLCBpbnQgYXBpYywg
aW50IHBpbikKIAllbnRyeS0+cGluID0gcGluOwogfQogCitzdGF0aWMgdm9pZCByZW1vdmVfcGlu
X3RvX2lycSh1bnNpZ25lZCBpbnQgaXJxLCBpbnQgYXBpYywgaW50IHBpbikKK3sKKwlzdHJ1Y3Qg
aXJxX3Bpbl9saXN0ICplbnRyeSA9IGlycV8yX3BpbiArIGlycTsKKwlzdHJ1Y3QgaXJxX3Bpbl9s
aXN0ICpwcmk7CisJc3RydWN0IGlycV9waW5fbGlzdCAqbmV4dDsKKworCUJVR19PTihpcnEgPj0g
TlJfSVJRUyk7CisKKwlmb3IgKDs7KSB7CisJCWlmIChlbnRyeS0+YXBpYyA9PSBhcGljICYmIGVu
dHJ5LT5waW4gPT0gcGluKSB7CisJCQlpZihlbnRyeS0+bmV4dCkgeworCQkJCW5leHQgPSBpcnFf
Ml9waW4gKyBlbnRyeS0+bmV4dDsKKwkJCQllbnRyeS0+YXBpYyA9IG5leHQtPmFwaWM7CisJCQkJ
ZW50cnktPnBpbiA9IG5leHQtPnBpbjsKKwkJCQllbnRyeS0+bmV4dCA9IG5leHQtPm5leHQ7CisJ
CQkJbmV4dC0+YXBpYyA9IC0xOworCQkJCW5leHQtPnBpbiA9IC0xOworCQkJCW5leHQtPm5leHQg
PSAwOworCQkJfSBlbHNlIHsKKwkJCQllbnRyeS0+YXBpYyA9IC0xOworCQkJCWVudHJ5LT5waW4g
PSAtMTsKKwkJCX0KKwkJCXJldHVybjsKKwkJfQorCQlwcmkgPSBlbnRyeTsKKwkJaWYgKHByaS0+
bmV4dCkgCisJCQllbnRyeSA9IGlycV8yX3BpbiArIHByaS0+bmV4dDsKKwkJZWxzZQorCQkJYnJl
YWs7CisJfSAKKworfQorCiAKICNkZWZpbmUgRE9fQUNUSU9OKG5hbWUsUixBQ1RJT04sIEZJTkFM
KQkJCQkJXAogCQkJCQkJCQkJXApAQCAtMTU3MCw2ICsxNjEwLDIyIEBAIHN0YXRpYyBpbmxpbmUg
dm9pZCB1bmxvY2tfRXh0SU5UX2xvZ2ljKHZvaWQpCiAgKiBmYW5hdGljYWxseSBvbiBoaXMgdHJ1
bHkgYnVnZ3kgYm9hcmQuCiAgKi8KIAorc3RhdGljIHZvaWQgc2V0X3RyeV9hcGljX3BpbihpbnQg
YXBpYywgaW50IHBpbiwgaW50IHR5cGUpCit7CisJaW50IGlkeDsKKwlpbnQgaXJxID0gMDsKKwlp
bnQgYnVzID0gMDsgLyogTVBfSVNBX0JVUyAqLworCWludCBpcnFmbGFnID0gNTsgLyogTVBfSVJR
X1RSSUdHRVJfRURHRXxNUF9JUlFfUE9MQVJJVFlfSElHSCAqLworCisJaWR4ID0gZmluZF9pcnFf
ZW50cnkoYXBpYyxwaW4sdHlwZSk7CisKKwlpZiAoaWR4ID09IC0xKSAKKwkJaWR4ID0gYWRkX2ly
cV9lbnRyeSh0eXBlLCBpcnFmbGFnLCBidXMsIGlycSwgYXBpYywgcGluKTsKKworCWFkZF9waW5f
dG9faXJxKGlycSwgYXBpYywgcGluKTsKKwlzZXR1cF9JT19BUElDX2lycShhcGljLCBwaW4sIGlk
eCwgaXJxKTsKK30KKwogc3RhdGljIGludCB0cnlfYXBpY19waW4oaW50IGFwaWMsIGludCBwaW4s
IGNoYXIgKm1zZykKIHsKIAlhcGljX3ByaW50ayhBUElDX1ZFUkJPU0UsIEtFUk5fSU5GTwpAQCAt
MTU4OCw3ICsxNjQ0LDcgQEAgc3RhdGljIGludCB0cnlfYXBpY19waW4oaW50IGFwaWMsIGludCBw
aW4sIGNoYXIgKm1zZykKIAkJfQogCQlyZXR1cm4gMTsKIAl9Ci0JY2xlYXJfSU9fQVBJQ19waW4o
YXBpYywgcGluKTsKKwogCWFwaWNfcHJpbnRrKEFQSUNfUVVJRVQsIEtFUk5fRVJSICIgLi4gZmFp
bGVkXG4iKTsKIAlyZXR1cm4gMDsKIH0KQEAgLTE1OTksNiArMTY1NSw3IEBAIHN0YXRpYyB2b2lk
IGNoZWNrX3RpbWVyKHZvaWQpCiAJaW50IGFwaWMxLCBwaW4xLCBhcGljMiwgcGluMjsKIAlpbnQg
dmVjdG9yOwogCWNwdW1hc2tfdCBtYXNrOworCWludCBpOwogCiAJLyoKIAkgKiBnZXQvc2V0IHRo
ZSB0aW1lciBJUlEgdmVjdG9yOgpAQCAtMTYyMSwzMyArMTY3OCw2MCBAQCBzdGF0aWMgdm9pZCBj
aGVja190aW1lcih2b2lkKQogCXBpbjIgID0gaW9hcGljX2k4MjU5LnBpbjsKIAlhcGljMiA9IGlv
YXBpY19pODI1OS5hcGljOwogCi0JLyogRG8gdGhpcyBmaXJzdCwgb3RoZXJ3aXNlIHdlIGdldCBk
b3VibGUgaW50ZXJydXB0cyBvbiBBVEkgYm9hcmRzICovCi0JaWYgKChwaW4xICE9IC0xKSAmJiB0
cnlfYXBpY19waW4oYXBpYzEsIHBpbjEsIndpdGggODI1OSBJUlEwIGRpc2FibGVkIikpCi0JCXJl
dHVybjsKKwlhcGljX3ByaW50ayhBUElDX1ZFUkJPU0UsS0VSTl9JTkZPICIuLlRJTUVSOiB2ZWN0
b3I9MHglMDJYIGFwaWMxPSVkIHBpbjE9JWQgYXBpYzI9JWQgcGluMj0lZFxuIiwKKwkJdmVjdG9y
LCBhcGljMSwgcGluMSwgYXBpYzIsIHBpbjIpOwogCi0JLyogTm93IHRyeSBhZ2FpbiB3aXRoIElS
UTAgODI1OUEgZW5hYmxlZC4KLQkgICBBc3N1bWVzIHRpbWVyIGlzIG9uIElPLUFQSUMgMCA/IT8g
Ki8KLQllbmFibGVfODI1OUFfaXJxKDApOwotCXVubWFza19JT19BUElDX2lycSgwKTsKLQlpZiAo
dHJ5X2FwaWNfcGluKGFwaWMxLCBwaW4xLCAid2l0aCA4MjU5IElSUTAgZW5hYmxlZCIpKQotCQly
ZXR1cm47Ci0JZGlzYWJsZV84MjU5QV9pcnEoMCk7CisJaWYgKHBpbjEgIT0gLTEpIHsKKwkJLyog
RG8gdGhpcyBmaXJzdCwgb3RoZXJ3aXNlIHdlIGdldCBkb3VibGUgaW50ZXJydXB0cyBvbiBBVEkg
Ym9hcmRzICovCisJCS8qIHNldF90cnlfYXBpY19waW4gd2lsbCBjYWxsIGRpc2FibGVfODI1OUFf
aXJxICovCisJCXNldF90cnlfYXBpY19waW4oYXBpYzEsIHBpbjEsIG1wX0lOVCk7CisJCXVubWFz
a19JT19BUElDX2lycSgwKTsKKwkJaWYgKHRyeV9hcGljX3BpbihhcGljMSwgcGluMSwid2l0aCA4
MjU5IElSUTAgZGlzYWJsZWQiKSkKKwkJCXJldHVybjsKKworCQljbGVhcl9JT19BUElDX3Bpbihh
cGljMSwgcGluMSk7CisJCXJlbW92ZV9waW5fdG9faXJxKDAsIGFwaWMxLCBwaW4xKTsKKwl9CiAK
IAkvKiBBbHdheXMgdHJ5IHBpbjAgYW5kIHBpbjIgb24gQVBJQyAwIHRvIGhhbmRsZSBidWdneSB0
aW1lciBvdmVycmlkZXMKIAkgICBvbiBOdmlkaWEgYm9hcmRzICovCi0JaWYgKCEoYXBpYzEgPT0g
MCAmJiBwaW4xID09IDApICYmCi0JICAgIHRyeV9hcGljX3BpbigwLCAwLCAiZmFsbGJhY2sgd2l0
aCA4MjU5IElSUTAgZGlzYWJsZWQiKSkKLQkJcmV0dXJuOwotCWlmICghKGFwaWMxID09IDAgJiYg
cGluMSA9PSAyKSAmJgotCSAgICB0cnlfYXBpY19waW4oMCwgMiwgImZhbGxiYWNrIHdpdGggODI1
OSBJUlEwIGRpc2FibGVkIikpCi0JCXJldHVybjsKKwlmb3IgKGkgPSAwOyBpIDw9IDI7IGkgKz0g
MikgCisJaWYgKCEoYXBpYzEgPT0gMCAmJiBwaW4xID09IGkpKSB7CisJCS8qIHNldF90cnlfYXBp
Y19waW4gd2lsbCBjYWxsIGRpc2FibGVfODI1OUFfaXJxICovCisJCXNldF90cnlfYXBpY19waW4o
MCwgaSwgbXBfSU5UKTsgCisJCXVubWFza19JT19BUElDX2lycSgwKTsKKwkJaWYgKHRyeV9hcGlj
X3BpbigwLCBpLCAiZmFsbGJhY2sgd2l0aCA4MjU5IElSUTAgZGlzYWJsZWQiKSkKKwkJCXJldHVy
bjsKKworCQljbGVhcl9JT19BUElDX3BpbigwLCBpKTsKKwkJcmVtb3ZlX3Bpbl90b19pcnEoMCwg
MCwgaSk7CisJfQorCisJaWYgKHBpbjEgIT0gLTEpIHsKKwkJLyogc2V0X3RyeV9hcGljX3BpbiB3
aWxsIGNhbGwgZGlzYWJsZV84MjU5QV9pcnEgKi8KKwkJc2V0X3RyeV9hcGljX3BpbihhcGljMSwg
cGluMSwgbXBfSU5UKTsKKwkJdW5tYXNrX0lPX0FQSUNfaXJxKDApOworCisJCS8qIE5vdyB0cnkg
YWdhaW4gd2l0aCBJUlEwIDgyNTlBIGVuYWJsZWQuCisJCSAgIEFzc3VtZXMgdGltZXIgaXMgb24g
SU8tQVBJQyAwID8hPyAqLworCQllbmFibGVfODI1OUFfaXJxKDApOworCQlpZiAodHJ5X2FwaWNf
cGluKGFwaWMxLCBwaW4xLCAid2l0aCA4MjU5IElSUTAgZW5hYmxlZCIpKQorCQkJcmV0dXJuOwor
CQlkaXNhYmxlXzgyNTlBX2lycSgwKTsKKworCQljbGVhcl9JT19BUElDX3BpbihhcGljMSwgcGlu
MSk7CisJCXJlbW92ZV9waW5fdG9faXJxKDAsIGFwaWMxLCBwaW4xKTsKKwl9CiAKIAkvKiBUaGVu
IHRyeSBwdXJlIDgyNTlBIHJvdXRpbmcgb24gdGhlIDgyNTkgYXMgcmVwb3J0ZWQgYnkgQklPUyov
Ci0JZW5hYmxlXzgyNTlBX2lycSgwKTsKIAlpZiAocGluMiAhPSAtMSkgewogCQlzZXR1cF9FeHRJ
TlRfSVJRMF9waW4oYXBpYzIsIHBpbjIsIHZlY3Rvcik7CisJCWFkZF9waW5fdG9faXJxKDAsIGFw
aWMyLCBwaW4yKTsKKwkJZW5hYmxlXzgyNTlBX2lycSgwKTsKIAkJaWYgKHRyeV9hcGljX3Bpbihh
cGljMixwaW4yLCI4MjU5QSBicm9hZGNhc3QgRXh0SU5UIGZyb20gQklPUyIpKQogCQkJcmV0dXJu
OworCQljbGVhcl9JT19BUElDX3BpbihhcGljMiwgcGluMik7CisJCXJlbW92ZV9waW5fdG9faXJx
KDAsIGFwaWMyLCBwaW4yKTsKIAl9CiAKIAkvKiBUcmllZCBhbGwgcG9zc2liaWxpdGllcyB0byBn
byB0aHJvdWdoIHRoZSBJTy1BUElDLiBOb3cgY29tZSB0aGUKZGlmZiAtLWdpdCBhL2FyY2gveDg2
XzY0L2tlcm5lbC9tcHBhcnNlLmMgYi9hcmNoL3g4Nl82NC9rZXJuZWwvbXBwYXJzZS5jCmluZGV4
IDA4MDcyNTYuLjVmN2E5NWEgMTAwNjQ0Ci0tLSBhL2FyY2gveDg2XzY0L2tlcm5lbC9tcHBhcnNl
LmMKKysrIGIvYXJjaC94ODZfNjQva2VybmVsL21wcGFyc2UuYwpAQCAtMzE0LDYgKzMxNCwzNCBA
QCBzdGF0aWMgaW50IF9faW5pdCBFTENSX3RyaWdnZXIodW5zaWduZWQgaW50IGlycSkKIAlyZXR1
cm4gKGluYihwb3J0KSA+PiAoaXJxICYgNykpICYgMTsKIH0KIAoraW50IGFkZF9pcnFfZW50cnko
aW50IHR5cGUsIGludCBpcnFmbGFnLCBpbnQgYnVzLCBpbnQgaXJxLCBpbnQgYXBpYywgaW50IHBp
bikKK3sKKwlzdHJ1Y3QgbXBjX2NvbmZpZ19pbnRzcmMgaW50c3JjOworCWludCBpZHg7CisKKwlp
bnRzcmMubXBjX3R5cGUgPSBNUF9JTlRTUkM7CisJaW50c3JjLm1wY19pcnFmbGFnID0gaXJxZmxh
ZzsgLyogY29uZm9ybWluZyAqLworCWludHNyYy5tcGNfc3JjYnVzID0gYnVzOworCWludHNyYy5t
cGNfZHN0YXBpYyA9IChhcGljICE9IC0xKSA/IG1wX2lvYXBpY3NbYXBpY10ubXBjX2FwaWNpZDog
TVBfQVBJQ19BTEw7CisKKwlpbnRzcmMubXBjX2lycXR5cGUgPSB0eXBlOworCisJaW50c3JjLm1w
Y19zcmNidXNpcnEgPSBpcnE7CisJaW50c3JjLm1wY19kc3RpcnEgPSBwaW47CisKKwltcF9pcnFz
IFttcF9pcnFfZW50cmllc10gPSBpbnRzcmM7CisJRHByaW50aygiSW50OiB0eXBlICVkLCBwb2wg
JWQsIHRyaWcgJWQsIGJ1cyAlZCwiCisJCSIgSVJRICUwMngsIEFQSUMgSUQgJXgsIEFQSUMgSU5U
ICUwMnhcbiIsCisJCQlpbnRzcmMubXBjX2lycXR5cGUsIGludHNyYy5tcGNfaXJxZmxhZyAmIDMs
CisJCQkoaW50c3JjLm1wY19pcnFmbGFnID4+IDIpICYgMywgaW50c3JjLm1wY19zcmNidXMsCisJ
CQlpbnRzcmMubXBjX3NyY2J1c2lycSwgaW50c3JjLm1wY19kc3RhcGljLCBpbnRzcmMubXBjX2Rz
dGlycSk7CisJaWR4ID0gbXBfaXJxX2VudHJpZXM7CisJaWYgKCsrbXBfaXJxX2VudHJpZXMgPj0g
TUFYX0lSUV9TT1VSQ0VTKQorCQlwYW5pYygiTWF4ICMgb2YgaXJxIHNvdXJjZXMgZXhjZWVkZWQh
IVxuIik7CisJcmV0dXJuIGlkeDsKKworfQorCiBzdGF0aWMgdm9pZCBfX2luaXQgY29uc3RydWN0
X2RlZmF1bHRfaW9pcnFfbXB0YWJsZShpbnQgbXBjX2RlZmF1bHRfdHlwZSkKIHsKIAlzdHJ1Y3Qg
bXBjX2NvbmZpZ19pbnRzcmMgaW50c3JjOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9hc20teDg2XzY0
L21wc3BlYy5oIGIvaW5jbHVkZS9hc20teDg2XzY0L21wc3BlYy5oCmluZGV4IDAxN2ZkZGIuLjFk
ZGZkNGQgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvYXNtLXg4Nl82NC9tcHNwZWMuaAorKysgYi9pbmNs
dWRlL2FzbS14ODZfNjQvbXBzcGVjLmgKQEAgLTE2NSw2ICsxNjUsNyBAQCBleHRlcm4gaW50IG1w
X2J1c19pZF90b19wY2lfYnVzIFtNQVhfTVBfQlVTU0VTXTsKIGV4dGVybiB1bnNpZ25lZCBpbnQg
Ym9vdF9jcHVfcGh5c2ljYWxfYXBpY2lkOwogZXh0ZXJuIGludCBzbXBfZm91bmRfY29uZmlnOwog
ZXh0ZXJuIHZvaWQgZmluZF9zbXBfY29uZmlnICh2b2lkKTsKK2V4dGVybiBpbnQgYWRkX2lycV9l
bnRyeSAoaW50IHR5cGUsIGludCBpcnFmbGFnLCBpbnQgYnVzLCBpbnQgaXJxLCBpbnQgYXBpYywg
aW50IHBpbik7CiBleHRlcm4gdm9pZCBnZXRfc21wX2NvbmZpZyAodm9pZCk7CiBleHRlcm4gaW50
IG5yX2lvYXBpY3M7CiBleHRlcm4gdW5zaWduZWQgY2hhciBhcGljX3ZlcnNpb24gW01BWF9BUElD
U107Cg==
------=_Part_222306_28580659.1167805408731--
