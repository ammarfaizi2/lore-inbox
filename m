Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S310295AbSCWQXj>; Sat, 23 Mar 2002 11:23:39 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S310224AbSCWQXa>; Sat, 23 Mar 2002 11:23:30 -0500
Received: from zeus.kernel.org ([204.152.189.113]:36239 "EHLO zeus.kernel.org")
	by vger.kernel.org with ESMTP id <S310204AbSCWQXP>;
	Sat, 23 Mar 2002 11:23:15 -0500
Date: Sat, 23 Mar 2002 08:22:07 -0800
From: Bob Miller <rem@osdl.org>
To: Gregor.Fajdiga@guest.arnes.si
Cc: linux-kernel@vger.kernel.org
Subject: Re: Compile problems with 2.5.7
Message-ID: <20020323082207.A5636@doc.pdx.osdl.net>
In-Reply-To: <20020323125729.7d8fd3fd.Gregor.Fajdiga@telemach.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.23i
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Sat, Mar 23, 2002 at 12:57:29PM +0100, Grega Fajdiga wrote:
> Good day,
> 
> I get a compile error when trying to compile above mentioned kernel version.
> The message is:
> 
> acct.c:237: parse error before "do"
> acct.c:380: parse error before "do"
> acct.c:386: parse error before '&' token
> acct.c:388: warning: type defaults to `int' in declaration of `do_acct_process'
> acct.c:388: warning: parameter names (without types) in function declaration
> acct.c:388: conflicting types for `do_acct_process'
> acct.c:299: previous declaration of `do_acct_process'
> acct.c:388: warning: data definition has no type or storage class
> acct.c:389: warning: type defaults to `int' in declaration of `fput'
> acct.c:389: warning: parameter names (without types) in function declaration
> acct.c:389: conflicting types for `fput'
> /usr/src/linux-2.5.5/include/linux/file.h:36: previous declaration of `fput'
> acct.c:389: warning: data definition has no type or storage class
> acct.c:390: parse error before '}' token
> make[2]: *** [acct.o] Error 1
> make[1]: *** [first_rule] Error 2
> make: *** [_dir_kernel] Error 2
> 
> My config-file contents are as follows:
> 
> 
> #
> # Automatically generated by make menuconfig: don't edit
> #
> CONFIG_X86=y
> CONFIG_ISA=y
> # CONFIG_SBUS is not set
> CONFIG_UID16=y
> 
> #
> CONFIG_NET=y
> CONFIG_SYSVIPC=y
> # CONFIG_BSD_PROCESS_ACCT is not set
> CONFIG_SYSCTL=y
> 
> 

Grega,

Things are a little funny.  You have CONFIG_BSD_PROCESS_ACCT not set
but the compile errors you're getting are for code in acct.c that
will only compile if CONFIG_BSD_PROCESS_ACCT is SET.  I suspect that
something is not right with your view.

1. Patch to acct.c didn't work correctly (did you get 2.5.7 by patching
   or a clean tar?).

2. need to do a make mrproper/config/dep/clean/etc...

Could you double check things and let me know.

-- 
Bob Miller					Email: rem@osdl.org
Open Source Development Lab			Phone: 503.626.2455 Ext. 17
