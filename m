Return-Path: <linux-kernel-owner+w=401wt.eu-S933098AbWLaI3t@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S933098AbWLaI3t (ORCPT <rfc822;w@1wt.eu>);
	Sun, 31 Dec 2006 03:29:49 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S933097AbWLaI3t
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sun, 31 Dec 2006 03:29:49 -0500
Received: from nf-out-0910.google.com ([64.233.182.191]:16262 "EHLO
	nf-out-0910.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S933099AbWLaI3r (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Sun, 31 Dec 2006 03:29:47 -0500
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
        b=cuzNUzdII3s1hceEZ64a6zFwWIrNvWX3FHcyEiH33hbCrrqOisOjrYWTH9b9rdNoyBiCWv6BZSuzhsSO6/tQ0r5RSMfZ1ephMkGNKhrYe3O+dt2M7KnzoQawBtTowp1bs0hS2pffyfPbeD7ZPP9YSoRMj7LdaXAQPC6/uXM8V40=
Message-ID: <86802c440612310029l1bc73309h293172abda16817e@mail.gmail.com>
Date: Sun, 31 Dec 2006 00:29:45 -0800
From: "Yinghai Lu" <yinghai.lu@amd.com>
To: "Eric W. Biederman" <ebiederm@xmission.com>
Subject: Re: IO-APIC + timer doesn't work
Cc: "Tobias Diedrich" <ranma+kernel@tdiedrich.de>,
       "Linus Torvalds" <torvalds@osdl.org>,
       "Linux Kernel Mailing List" <linux-kernel@vger.kernel.org>,
       "Andi Kleen" <ak@suse.de>, "Andrew Morton" <akpm@osdl.org>
In-Reply-To: <m164c5nfid.fsf@ebiederm.dsl.xmission.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_186039_18508521.1167553785954"
References: <Pine.LNX.4.64.0612131744290.5718@woody.osdl.org>
	 <Pine.LNX.4.64.0612161518080.3479@woody.osdl.org>
	 <20061217145714.GA2987@melchior.yamamaya.is-a-geek.org>
	 <m1bqm1s5vv.fsf@ebiederm.dsl.xmission.com>
	 <20061218152333.GA2400@melchior.yamamaya.is-a-geek.org>
	 <m1tzztqkev.fsf@ebiederm.dsl.xmission.com>
	 <86802c440612190000k7eb5e68et9c0a776ef85b5177@mail.gmail.com>
	 <m1ac1kqg6b.fsf@ebiederm.dsl.xmission.com>
	 <86802c440612192250l50805d40h71baa7ce6f99a3e5@mail.gmail.com>
	 <m164c5nfid.fsf@ebiederm.dsl.xmission.com>
X-Google-Sender-Auth: 8b9c00cc8b7d248b
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

------=_Part_186039_18508521.1167553785954
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Please check the revised patch

YH

------=_Part_186039_18508521.1167553785954
Content-Type: text/x-patch; name=timers_12312006.diff; 
	charset=ANSI_X3.4-1968
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ewd7at3d
Content-Disposition: attachment; filename="timers_12312006.diff"

W1BBVENIXSB4ODZfNjQ6IGNoZWNrX3RpbWVyIHdpdGggaW8gYXBpYyBzZXR1cCBiZWZvcmUgdHJ5
X2FwaWNfcGluCgphZGQgaW8gYXBpYyBzZXR1cCBiZWZvcmUgdHJ5X2FwaWNfcGluIGZvciBjaGVj
a190aW1lcgoKYWxzbyBhZGQgcmVtb3ZlX2lycV90b19waW4gY2FsbCBpbiBpb19hcGljLmMKCmNj
OiBBbmRpIEtsZWVuIDxha0BzdXNlLmRlPgpjYzogRXJpYyBXLiBCaWVkZXJtYW4gPGViaWVkZXJt
QHhtaXNzaW9uLmNvbT4KU2lnbmVkLW9mZi1ieTogWWluZ2hhaSBMdSA8eWluZ2hhaS5sdUBhbWQu
Y29tPgoKZGlmZiAtLWdpdCBhL2luY2x1ZGUvYXNtLXg4Nl82NC9tcHNwZWMuaCBiL2luY2x1ZGUv
YXNtLXg4Nl82NC9tcHNwZWMuaAppbmRleCAwMTdmZGRiLi4xZGRmZDRkIDEwMDY0NAotLS0gYS9p
bmNsdWRlL2FzbS14ODZfNjQvbXBzcGVjLmgKKysrIGIvaW5jbHVkZS9hc20teDg2XzY0L21wc3Bl
Yy5oCkBAIC0xNjUsNiArMTY1LDcgQEAgZXh0ZXJuIGludCBtcF9idXNfaWRfdG9fcGNpX2J1cyBb
TUFYX01QX0JVU1NFU107CiBleHRlcm4gdW5zaWduZWQgaW50IGJvb3RfY3B1X3BoeXNpY2FsX2Fw
aWNpZDsKIGV4dGVybiBpbnQgc21wX2ZvdW5kX2NvbmZpZzsKIGV4dGVybiB2b2lkIGZpbmRfc21w
X2NvbmZpZyAodm9pZCk7CitleHRlcm4gaW50IGFkZF9pcnFfZW50cnkgKGludCB0eXBlLCBpbnQg
aXJxZmxhZywgaW50IGJ1cywgaW50IGlycSwgaW50IGFwaWMsIGludCBwaW4pOwogZXh0ZXJuIHZv
aWQgZ2V0X3NtcF9jb25maWcgKHZvaWQpOwogZXh0ZXJuIGludCBucl9pb2FwaWNzOwogZXh0ZXJu
IHVuc2lnbmVkIGNoYXIgYXBpY192ZXJzaW9uIFtNQVhfQVBJQ1NdOwpkaWZmIC0tZ2l0IGEvYXJj
aC94ODZfNjQva2VybmVsL21wcGFyc2UuYyBiL2FyY2gveDg2XzY0L2tlcm5lbC9tcHBhcnNlLmMK
aW5kZXggMDgwNzI1Ni4uYTA1NDc5OCAxMDA2NDQKLS0tIGEvYXJjaC94ODZfNjQva2VybmVsL21w
cGFyc2UuYworKysgYi9hcmNoL3g4Nl82NC9rZXJuZWwvbXBwYXJzZS5jCkBAIC0zMTQsNiArMzE0
LDM0IEBAIHN0YXRpYyBpbnQgX19pbml0IEVMQ1JfdHJpZ2dlcih1bnNpZ25lZCBpbnQgaXJxKQog
CXJldHVybiAoaW5iKHBvcnQpID4+IChpcnEgJiA3KSkgJiAxOwogfQogCitpbnQgYWRkX2lycV9l
bnRyeShpbnQgdHlwZSwgaW50IGlycWZsYWcsIGludCBidXMsIGludCBpcnEsIGludCBhcGljLCBp
bnQgcGluKQoreworICAgICAgICBzdHJ1Y3QgbXBjX2NvbmZpZ19pbnRzcmMgaW50c3JjOworCWlu
dCBpZHg7CisKKyAgICAgICAgaW50c3JjLm1wY190eXBlID0gTVBfSU5UU1JDOworICAgICAgICBp
bnRzcmMubXBjX2lycWZsYWcgPSBpcnFmbGFnOyAvKiBjb25mb3JtaW5nICovCisgICAgICAgIGlu
dHNyYy5tcGNfc3JjYnVzID0gYnVzOworICAgICAgICBpbnRzcmMubXBjX2RzdGFwaWMgPSAoYXBp
YyAhPSAtMSkgPyBtcF9pb2FwaWNzW2FwaWNdLm1wY19hcGljaWQ6IE1QX0FQSUNfQUxMOworCisg
ICAgICAgIGludHNyYy5tcGNfaXJxdHlwZSA9IHR5cGU7CisKKyAgICAgICAgaW50c3JjLm1wY19z
cmNidXNpcnEgPSBpcnE7CisgICAgICAgIGludHNyYy5tcGNfZHN0aXJxID0gcGluOworCisgICAg
ICAgIG1wX2lycXMgW21wX2lycV9lbnRyaWVzXSA9IGludHNyYzsKKyAgICAgICAgRHByaW50aygi
SW50OiB0eXBlICVkLCBwb2wgJWQsIHRyaWcgJWQsIGJ1cyAlZCwiCisgICAgICAgICAgICAgICAg
IiBJUlEgJTAyeCwgQVBJQyBJRCAleCwgQVBJQyBJTlQgJTAyeFxuIiwKKyAgICAgICAgICAgICAg
ICAgICAgICAgIGludHNyYy5tcGNfaXJxdHlwZSwgaW50c3JjLm1wY19pcnFmbGFnICYgMywKKyAg
ICAgICAgICAgICAgICAgICAgICAgIChpbnRzcmMubXBjX2lycWZsYWcgPj4gMikgJiAzLCBpbnRz
cmMubXBjX3NyY2J1cywKKyAgICAgICAgICAgICAgICAgICAgICAgIGludHNyYy5tcGNfc3JjYnVz
aXJxLCBpbnRzcmMubXBjX2RzdGFwaWMsIGludHNyYy5tcGNfZHN0aXJxKTsKKyAgICAgICAgaWR4
ID0gbXBfaXJxX2VudHJpZXM7CisJaWYgKCsrbXBfaXJxX2VudHJpZXMgPj0gTUFYX0lSUV9TT1VS
Q0VTKQorICAgICAgICAgICAgICAgIHBhbmljKCJNYXggIyBvZiBpcnEgc291cmNlcyBleGNlZWRl
ZCEhXG4iKTsKKwlyZXR1cm4gaWR4OworCit9CisKIHN0YXRpYyB2b2lkIF9faW5pdCBjb25zdHJ1
Y3RfZGVmYXVsdF9pb2lycV9tcHRhYmxlKGludCBtcGNfZGVmYXVsdF90eXBlKQogewogCXN0cnVj
dCBtcGNfY29uZmlnX2ludHNyYyBpbnRzcmM7CmRpZmYgLS1naXQgYS9hcmNoL3g4Nl82NC9rZXJu
ZWwvaW9fYXBpYy5jIGIvYXJjaC94ODZfNjQva2VybmVsL2lvX2FwaWMuYwppbmRleCAyYTFkY2Q1
Li5hZDFhMjhhIDEwMDY0NAotLS0gYS9hcmNoL3g4Nl82NC9rZXJuZWwvaW9fYXBpYy5jCisrKyBi
L2FyY2gveDg2XzY0L2tlcm5lbC9pb19hcGljLmMKQEAgLTI3MywxMCArMjczLDE3IEBAIHN0YXRp
YyB2b2lkIGFkZF9waW5fdG9faXJxKHVuc2lnbmVkIGludCBpcnEsIGludCBhcGljLCBpbnQgcGlu
KQogCXN0cnVjdCBpcnFfcGluX2xpc3QgKmVudHJ5ID0gaXJxXzJfcGluICsgaXJxOwogCiAJQlVH
X09OKGlycSA+PSBOUl9JUlFTKTsKLQl3aGlsZSAoZW50cnktPm5leHQpCisJd2hpbGUgKGVudHJ5
LT5uZXh0KSB7CisJCWlmIChlbnRyeS0+YXBpYyA9PSBhcGljICYmIGVudHJ5LT5waW4gPT0gcGlu
KSAKKwkJCXJldHVybjsKKwkJaWYgKGVudHJ5LT5waW4gPT0gLTEpIAorCQkJYnJlYWs7CiAJCWVu
dHJ5ID0gaXJxXzJfcGluICsgZW50cnktPm5leHQ7CisJfQogCiAJaWYgKGVudHJ5LT5waW4gIT0g
LTEpIHsKKwkJaWYgKGVudHJ5LT5hcGljID09IGFwaWMgJiYgZW50cnktPnBpbiA9PSBwaW4pIAor
CQkJcmV0dXJuOwogCQllbnRyeS0+bmV4dCA9IGZpcnN0X2ZyZWVfZW50cnk7CiAJCWVudHJ5ID0g
aXJxXzJfcGluICsgZW50cnktPm5leHQ7CiAJCWlmICgrK2ZpcnN0X2ZyZWVfZW50cnkgPj0gUElO
X01BUF9TSVpFKQpAQCAtMjg2LDYgKzI5MywzOSBAQCBzdGF0aWMgdm9pZCBhZGRfcGluX3RvX2ly
cSh1bnNpZ25lZCBpbnQgaXJxLCBpbnQgYXBpYywgaW50IHBpbikKIAllbnRyeS0+cGluID0gcGlu
OwogfQogCitzdGF0aWMgdm9pZCByZW1vdmVfcGluX3RvX2lycSh1bnNpZ25lZCBpbnQgaXJxLCBp
bnQgYXBpYywgaW50IHBpbikKK3sKKwlzdHJ1Y3QgaXJxX3Bpbl9saXN0ICplbnRyeSA9IGlycV8y
X3BpbiArIGlycTsKKwlzdHJ1Y3QgaXJxX3Bpbl9saXN0ICpwcmk7CisJc3RydWN0IGlycV9waW5f
bGlzdCAqbmV4dDsKKworCUJVR19PTihpcnEgPj0gTlJfSVJRUyk7CisKKwlmb3IgKDs7KSB7CisJ
CWlmIChlbnRyeS0+YXBpYyA9PSBhcGljICYmIGVudHJ5LT5waW4gPT0gcGluKSB7CisJCQlpZihl
bnRyeS0+bmV4dCkgeworCQkJCW5leHQgPSBpcnFfMl9waW4gKyBlbnRyeS0+bmV4dDsKKwkJCQll
bnRyeS0+YXBpYyA9IG5leHQtPmFwaWM7CisJCQkJZW50cnktPnBpbiA9IG5leHQtPnBpbjsKKwkJ
CQllbnRyeS0+bmV4dCA9IG5leHQtPm5leHQ7CisJCQkJbmV4dC0+YXBpYyA9IC0xOworCQkJCW5l
eHQtPnBpbiA9IC0xOworCQkJCW5leHQtPm5leHQgPSAwOworCQkJfSBlbHNlIHsKKwkJCQllbnRy
eS0+YXBpYyA9IC0xOworCQkJCWVudHJ5LT5waW4gPSAtMTsKKwkJCX0KKwkJCXJldHVybjsKKwkJ
fQorCQlwcmkgPSBlbnRyeTsKKwkJaWYgKHByaS0+bmV4dCkgCisJCQllbnRyeSA9IGlycV8yX3Bp
biArIHByaS0+bmV4dDsKKwkJZWxzZQorCQkJYnJlYWs7CisJfSAKKworfQorCiAKICNkZWZpbmUg
RE9fQUNUSU9OKG5hbWUsUixBQ1RJT04sIEZJTkFMKQkJCQkJXAogCQkJCQkJCQkJXApAQCAtMTU3
MCw2ICsxNjEwLDIyIEBAIHN0YXRpYyBpbmxpbmUgdm9pZCB1bmxvY2tfRXh0SU5UX2xvZ2ljKHZv
aWQpCiAgKiBmYW5hdGljYWxseSBvbiBoaXMgdHJ1bHkgYnVnZ3kgYm9hcmQuCiAgKi8KIAorc3Rh
dGljIHZvaWQgc2V0X3RyeV9hcGljX3BpbihpbnQgYXBpYywgaW50IHBpbiwgaW50IHR5cGUpCit7
CisJaW50IGlkeDsKKwlpbnQgaXJxID0gMDsKKwlpbnQgYnVzID0gMDsgLyogTVBfSVNBX0JVUyAq
LworCWludCBpcnFmbGFnID0gNTsgLyogTVBfSVJRX1RSSUdHRVJfRURHRXxNUF9JUlFfUE9MQVJJ
VFlfSElHSCAqLworCisJaWR4ID0gZmluZF9pcnFfZW50cnkoYXBpYyxwaW4sdHlwZSk7CisKKwlp
ZiAoaWR4ID09IC0xKSAKKwkJaWR4ID0gYWRkX2lycV9lbnRyeSh0eXBlLCBpcnFmbGFnLCBidXMs
IGlycSwgYXBpYywgcGluKTsKKworCWFkZF9waW5fdG9faXJxKGlycSwgYXBpYywgcGluKTsKKwlz
ZXR1cF9JT19BUElDX2lycShhcGljLCBwaW4sIGlkeCwgaXJxKTsKK30KKwogc3RhdGljIGludCB0
cnlfYXBpY19waW4oaW50IGFwaWMsIGludCBwaW4sIGNoYXIgKm1zZykKIHsKIAlhcGljX3ByaW50
ayhBUElDX1ZFUkJPU0UsIEtFUk5fSU5GTwpAQCAtMTU4OCw3ICsxNjQ0LDcgQEAgc3RhdGljIGlu
dCB0cnlfYXBpY19waW4oaW50IGFwaWMsIGludCBwaW4sIGNoYXIgKm1zZykKIAkJfQogCQlyZXR1
cm4gMTsKIAl9Ci0JY2xlYXJfSU9fQVBJQ19waW4oYXBpYywgcGluKTsKKwogCWFwaWNfcHJpbnRr
KEFQSUNfUVVJRVQsIEtFUk5fRVJSICIgLi4gZmFpbGVkXG4iKTsKIAlyZXR1cm4gMDsKIH0KQEAg
LTE1OTksNiArMTY1NSw3IEBAIHN0YXRpYyB2b2lkIGNoZWNrX3RpbWVyKHZvaWQpCiAJaW50IGFw
aWMxLCBwaW4xLCBhcGljMiwgcGluMjsKIAlpbnQgdmVjdG9yOwogCWNwdW1hc2tfdCBtYXNrOwor
CWludCBpOwogCiAJLyoKIAkgKiBnZXQvc2V0IHRoZSB0aW1lciBJUlEgdmVjdG9yOgpAQCAtMTYy
MSwzMyArMTY3OCw1MSBAQCBzdGF0aWMgdm9pZCBjaGVja190aW1lcih2b2lkKQogCXBpbjIgID0g
aW9hcGljX2k4MjU5LnBpbjsKIAlhcGljMiA9IGlvYXBpY19pODI1OS5hcGljOwogCi0JLyogRG8g
dGhpcyBmaXJzdCwgb3RoZXJ3aXNlIHdlIGdldCBkb3VibGUgaW50ZXJydXB0cyBvbiBBVEkgYm9h
cmRzICovCi0JaWYgKChwaW4xICE9IC0xKSAmJiB0cnlfYXBpY19waW4oYXBpYzEsIHBpbjEsIndp
dGggODI1OSBJUlEwIGRpc2FibGVkIikpCi0JCXJldHVybjsKKwlhcGljX3ByaW50ayhBUElDX1ZF
UkJPU0UsS0VSTl9JTkZPICIuLlRJTUVSOiB2ZWN0b3I9MHglMDJYIGFwaWMxPSVkIHBpbjE9JWQg
YXBpYzI9JWQgcGluMj0lZFxuIiwKKwkJdmVjdG9yLCBhcGljMSwgcGluMSwgYXBpYzIsIHBpbjIp
OwogCi0JLyogTm93IHRyeSBhZ2FpbiB3aXRoIElSUTAgODI1OUEgZW5hYmxlZC4KLQkgICBBc3N1
bWVzIHRpbWVyIGlzIG9uIElPLUFQSUMgMCA/IT8gKi8KLQllbmFibGVfODI1OUFfaXJxKDApOwot
CXVubWFza19JT19BUElDX2lycSgwKTsKLQlpZiAodHJ5X2FwaWNfcGluKGFwaWMxLCBwaW4xLCAi
d2l0aCA4MjU5IElSUTAgZW5hYmxlZCIpKQotCQlyZXR1cm47Ci0JZGlzYWJsZV84MjU5QV9pcnEo
MCk7CisJaWYgKHBpbjEgIT0gLTEpIHsKKwkJLyogRG8gdGhpcyBmaXJzdCwgb3RoZXJ3aXNlIHdl
IGdldCBkb3VibGUgaW50ZXJydXB0cyBvbiBBVEkgYm9hcmRzICovCisJCS8qIHNldF90cnlfYXBp
Y19waW4gd2lsbCBjYWxsIGRpc2FibGVfODI1OUFfaXJxICovCisJCXNldF90cnlfYXBpY19waW4o
YXBpYzEsIHBpbjEsIG1wX0lOVCk7CisJCXVubWFza19JT19BUElDX2lycSgwKTsKKwkJaWYgKHRy
eV9hcGljX3BpbihhcGljMSwgcGluMSwid2l0aCA4MjU5IElSUTAgZGlzYWJsZWQiKSkKKwkJCXJl
dHVybjsKIAotCS8qIEFsd2F5cyB0cnkgcGluMCBhbmQgcGluMiBvbiBBUElDIDAgdG8gaGFuZGxl
IGJ1Z2d5IHRpbWVyIG92ZXJyaWRlcwotCSAgIG9uIE52aWRpYSBib2FyZHMgKi8KLQlpZiAoIShh
cGljMSA9PSAwICYmIHBpbjEgPT0gMCkgJiYKLQkgICAgdHJ5X2FwaWNfcGluKDAsIDAsICJmYWxs
YmFjayB3aXRoIDgyNTkgSVJRMCBkaXNhYmxlZCIpKQotCQlyZXR1cm47Ci0JaWYgKCEoYXBpYzEg
PT0gMCAmJiBwaW4xID09IDIpICYmCi0JICAgIHRyeV9hcGljX3BpbigwLCAyLCAiZmFsbGJhY2sg
d2l0aCA4MjU5IElSUTAgZGlzYWJsZWQiKSkKLQkJcmV0dXJuOworCQkvKiBOb3cgdHJ5IGFnYWlu
IHdpdGggSVJRMCA4MjU5QSBlbmFibGVkLgorCQkgICBBc3N1bWVzIHRpbWVyIGlzIG9uIElPLUFQ
SUMgMCA/IT8gKi8KKwkJZW5hYmxlXzgyNTlBX2lycSgwKTsKKwkJaWYgKHRyeV9hcGljX3Bpbihh
cGljMSwgcGluMSwgIndpdGggODI1OSBJUlEwIGVuYWJsZWQiKSkKKwkJCXJldHVybjsKKwkJZGlz
YWJsZV84MjU5QV9pcnEoMCk7CisKKyAgICAJICAgICAgICBjbGVhcl9JT19BUElDX3BpbihhcGlj
MSwgcGluMSk7CisJCXJlbW92ZV9waW5fdG9faXJxKDAsIGFwaWMxLCBwaW4xKTsKKwl9CiAKIAkv
KiBUaGVuIHRyeSBwdXJlIDgyNTlBIHJvdXRpbmcgb24gdGhlIDgyNTkgYXMgcmVwb3J0ZWQgYnkg
QklPUyovCi0JZW5hYmxlXzgyNTlBX2lycSgwKTsKIAlpZiAocGluMiAhPSAtMSkgewogCQlzZXR1
cF9FeHRJTlRfSVJRMF9waW4oYXBpYzIsIHBpbjIsIHZlY3Rvcik7CisJCWFkZF9waW5fdG9faXJx
KDAsIGFwaWMyLCBwaW4yKTsKKwkJZW5hYmxlXzgyNTlBX2lycSgwKTsKIAkJaWYgKHRyeV9hcGlj
X3BpbihhcGljMixwaW4yLCI4MjU5QSBicm9hZGNhc3QgRXh0SU5UIGZyb20gQklPUyIpKQogCQkJ
cmV0dXJuOworCQljbGVhcl9JT19BUElDX3BpbihhcGljMiwgcGluMik7CisJCXJlbW92ZV9waW5f
dG9faXJxKDAsIGFwaWMyLCBwaW4yKTsKKwl9CisKKwkvKiBBbHdheXMgdHJ5IHBpbjAgYW5kIHBp
bjIgb24gQVBJQyAwIHRvIGhhbmRsZSBidWdneSB0aW1lciBvdmVycmlkZXMKKwkgICBvbiBOdmlk
aWEgYm9hcmRzICovCisJZm9yIChpID0gMDsgaSA8PSAyOyBpICs9IDIpIAorCWlmICghKGFwaWMx
ID09IDAgJiYgcGluMSA9PSBpKSkgeworCQkvKiBzZXRfdHJ5X2FwaWNfcGluIHdpbGwgY2FsbCBk
aXNhYmxlXzgyNTlBX2lycSAqLworCQlzZXRfdHJ5X2FwaWNfcGluKDAsIGksIG1wX0lOVCk7IAor
CQl1bm1hc2tfSU9fQVBJQ19pcnEoMCk7CisJCWlmICh0cnlfYXBpY19waW4oMCwgaSwgImZhbGxi
YWNrIHdpdGggODI1OSBJUlEwIGRpc2FibGVkIikpCisJCQlyZXR1cm47CisKKwkJY2xlYXJfSU9f
QVBJQ19waW4oMCwgaSk7CisJCXJlbW92ZV9waW5fdG9faXJxKDAsIDAsIGkpOwogCX0KIAogCS8q
IFRyaWVkIGFsbCBwb3NzaWJpbGl0aWVzIHRvIGdvIHRocm91Z2ggdGhlIElPLUFQSUMuIE5vdyBj
b21lIHRoZQo=
------=_Part_186039_18508521.1167553785954--
