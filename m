Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1161008AbWCCSLx@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1161008AbWCCSLx (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 3 Mar 2006 13:11:53 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751353AbWCCSLx
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 3 Mar 2006 13:11:53 -0500
Received: from mx1.suse.de ([195.135.220.2]:36068 "EHLO mx1.suse.de")
	by vger.kernel.org with ESMTP id S1751337AbWCCSLw (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 3 Mar 2006 13:11:52 -0500
Date: Fri, 03 Mar 2006 19:11:51 +0100
Message-ID: <s5h4q2fo0t4.wl%tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Otavio Salvador <otavio@debian.org>
Cc: linux-kernel@vger.kernel.org
Subject: Re: ALSA HDA Intel stoped to work in 2.6.16-*
In-Reply-To: <8764mxiny5.fsf@nurf.casa>
References: <87wtfhx7rm.fsf@nurf.casa>
	<s5hzmkcsv38.wl%tiwai@suse.de>
	<87slq3x3w1.fsf@nurf.casa>
	<s5hu0ajrbxv.wl%tiwai@suse.de>
	<87fym3w7m3.fsf@nurf.casa>
	<s5h3bi2a26o.wl%tiwai@suse.de>
	<8764mxiny5.fsf@nurf.casa>
User-Agent: Wanderlust/2.12.0 (Your Wildest Dreams) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.7 (=?ISO-8859-4?Q?Sanj=F2?=) APEL/10.6 MULE XEmacs/21.5 (beta21)
 (corn) (+CVS-20050720) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Wed, 01 Mar 2006 23:24:02 -0300,
Otavio Salvador wrote:
> 
> Takashi Iwai <tiwai@suse.de> writes:
> 
> >> > Didn't it worked?  Which module parameter did you use?
> >> 
> >> I tried model=hp, model=fujistsu and priority_fix={1,2}. Neither did
> >> it work.
> >
> > Try model=basic.  It's the old default.
> > (seems that it's missing in the documentation...)
> 
> Yes. Using model=basic it works fine.
> 
> I propose the following patch to solve it then:
> 
> Do you think it's ok?
> 
> diff --git a/sound/pci/hda/patch_realtek.c b/sound/pci/hda/patch_realtek.c
> index b767552..2be4a4c 100644
> --- a/sound/pci/hda/patch_realtek.c
> +++ b/sound/pci/hda/patch_realtek.c
> @@ -2946,8 +2946,8 @@ static int alc260_auto_init(struct hda_c
>   */
>  static struct hda_board_config alc260_cfg_tbl[] = {
>         { .modelname = "basic", .config = ALC260_BASIC },
> -       { .pci_subvendor = 0x104d, .pci_subdevice = 0x81bb,
> -         .config = ALC260_BASIC }, /* Sony VAIO */
> +       { .pci_subvendor = 0x104d, .pci_subdevice = 0x81bb, .config = ALC260_BASIC },
> +       { .pci_subvendor = 0x8086, .pci_subdevice = 0x2668, .config = ALC260_BASIC },

Are you sure that your device has PCI SUB-system id 8086:2668 ?


Takashi
