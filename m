Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S265896AbUBCG4Z (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 3 Feb 2004 01:56:25 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S265899AbUBCG4Z
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 3 Feb 2004 01:56:25 -0500
Received: from [212.5.174.154] ([212.5.174.154]:36274 "EHLO zelcom.ru")
	by vger.kernel.org with ESMTP id S265896AbUBCG4Y (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 3 Feb 2004 01:56:24 -0500
Date: Tue, 03 Feb 2004 09:55:11 +0300
Message-ID: <87smhsy7n4.wl@canopus.ns.zel.ru>
From: Samium Gromoff <deepfire@sic-elvis.zel.ru>
To: akpm@osdl.org
CC: linux-kernel@vger.kernel.org, philip@codematters.co.uk
Subject: Re: 2.6.1 slower than 2.4, smp/scsi/sw-raid/reiserfs
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-pc-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> > The machine is a dual P3 450MHz, 512MB, aic7xxx, 2 disk RAID-0 and                   
> >  ReiserFS.  It's a few years old and has always run Linux, most                      
> >  recently 2.4.24.  I decided to try 2.6.1 and the performance is                     
> >  disappointing.                                                                      
>                                                                                        
> 2.6 has a few performance problems under heavy pageout at present.  Nick               
> Piggin has some patches which largely fix it up.                                       

I`m sorry, but this is misguiding. 2.6 does not have a few performance
problems under heavy pageout.

It`s more like _systematical_ _performance_ _degradation_ increasing with
the pageout rate. The more the box pages out the more 2.6 lags behind 2.4.

What i`m trying to say is that even light paging is affected. And light
paging is warranted when you run, say, KDE on 128M ram.

Go measure the X desktop startup time on a 48M/64M boxen--even light paging
causes 2.6 to be just sloower. Also the vm thrashing point is much much earlier.

Ask Roger Luethi for details.

regards, Samium Gromoff


