Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S263122AbTIJNi1 (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 10 Sep 2003 09:38:27 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S263123AbTIJNi1
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 10 Sep 2003 09:38:27 -0400
Received: from ns.suse.de ([195.135.220.2]:23781 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S263122AbTIJNi0 (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Wed, 10 Sep 2003 09:38:26 -0400
Date: Wed, 10 Sep 2003 15:38:22 +0200
Message-ID: <s5hiso0vk4x.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Rusty Russell <rusty@rustcorp.com.au>
Cc: linux-kernel@vger.kernel.org
Subject: Re: [PATCH] More MODULE_ALIAS work, and documentation updates.
In-Reply-To: <20030910075240.E128A2C74F@lists.samba.org>
References: <20030910075240.E128A2C74F@lists.samba.org>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 13) (Rational FORTRAN) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,

At Wed, 10 Sep 2003 17:52:11 +1000,
Rusty Russell wrote:
> 
> Hi all,
> 
> 	I know this is something of a megapatch, but I'm trying to get
> all the module aliases people expect into the modules before 2.6.0.  I
> got most of these by reading the documentation: review appreciated.
> 
> 	If noone NAKs, I'll send to Linus in a couple of days.  I'm
> sure you can think of other aliases which should be added, too.

the ALSA part looks fine for me.
and it looks now much much cleaner.  thanks!

well, very subtle things:
for sound-service-?-1 and sound-service-?-8, only 0 is available,
and other numbers don't exist.
so, the definition in sound/core/seq/oss/seq_oss.c can be like

MODULE_ALIAS("sound-service-0-" __stringify(SNDRV_MINOR_OSS_SEQUENCER));
MODULE_ALIAS("sound-service-0-" __stringify(SNDRV_MINOR_OSS_MUSIC));

but it's harmless to use MODULE_ALIAS_SNDRV_MINOR() as you did... :)


--
Takashi Iwai <tiwai@suse.de>		SuSE Linux AG - www.suse.de
ALSA Developer				ALSA Project - www.alsa-project.org
