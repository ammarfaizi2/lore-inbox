Return-Path: <linux-kernel-owner+akpm=40zip.com.au@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S316634AbSE3MuZ>; Thu, 30 May 2002 08:50:25 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S316636AbSE3MuZ>; Thu, 30 May 2002 08:50:25 -0400
Received: from p508EA1BA.dip.t-dialin.net ([80.142.161.186]:31497 "EHLO
	wilmskamp.dyndns.org") by vger.kernel.org with ESMTP
	id <S316634AbSE3MuX> convert rfc822-to-8bit; Thu, 30 May 2002 08:50:23 -0400
Content-Type: text/plain;
  charset="iso-8859-15"
From: Oliver Wegner <oliver@wilmskamp.dyndns.org>
To: Alan Cox <alan@lxorguk.ukuu.org.uk>, linux-kernel@vger.kernel.org
Subject: Re: File corrupting bug in kernel 2.2.19 as well as 2.2.20 ?
Date: Thu, 30 May 2002 14:49:58 +0200
X-Mailer: KMail [version 1.4]
In-Reply-To: <200205301233.59618.oliver@wilmskamp.dyndns.org> <1022760321.9255.347.camel@irongate.swansea.linux.org.uk>
MIME-Version: 1.0
Content-Transfer-Encoding: 8BIT
Message-Id: <200205301449.58995.oliver@wilmskamp.dyndns.org>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

>
> 16 or 32 byte long chunks ?

much longer. see the excerpts of two example files below. the corrupted 
data chunks seem to be of a length of 4096 (0x1000). see excerpt of 
/var/lib/dpkg/status.

it seems that it not only are 0x00 bytes (as i stated before) but also 
other byte values. but the 0x00 bytes are dominating though.

looks like if some memory content found its way onto disk, although it 
should have stayed in RAM ;)


note concerning /var/lib/dpkg/status:
this excerpt is from somewhere in the middle of the file and the corruption 
seems to start with "tc/cron.sh/ddupcron.sh" and ends right before "us: 
purge. ok. not-installed.". the length of the corrupted chunk is 0x1000 
bytes.

note concerning /etc/apache/httpd.conf:
the corruption in this case starts right in the beginning of the file 
(which might be just the continuation of the corruption of a previous 
damaged file). and after 2000-something bytes the file continues with the 
normal content.

the excerpts of the files follow. if you need more example or the whole 
stuff in hex, please write me.

thanks :)

oliver


+++ excerpt of file /var/lib/dpkg/status+++
0000:0000 [... beginning of /var/lib/dpkg/status ...]..Package: gilt.Statu
0000:0040 s: purge ok not-installed.Priority: optional.Section: devel..Pac
0000:0080 kage: perfotc/cron.sh/ddupcron.sh wilmskamp.dyndns.org).........
0000:00c0 ................................................................
0000:0100 ................................................................
0000:0140 ................................................................
0000:0180 ................................................................
0000:01c0 ................................................................
0000:0200 ................................................................
0000:0240 ................................................................
0000:0280 ................................................................
0000:02c0 ................................................................
0000:0300 ................................................................
0000:0340 ................................................................
0000:0380 ................................................................
0000:03c0 ................................................................
0000:0400 ................................................................
0000:0440 ................................................................
0000:0480 ................................................................
0000:04c0 ................................................................
0000:0500 ................................................................
0000:0540 ................................................................
0000:0580 ................................................................
0000:05c0 ................................................................
0000:0600 ................................................................
0000:0640 ................................................................
0000:0680 ................................................................
0000:06c0 ................................................................
0000:0700 ................................................................
0000:0740 ................................................................
0000:0780 ................................................................
0000:07c0 ................................................................
0000:0800 ................................................................
0000:0840 ................................................................
0000:0880 ................................................................
0000:08c0 ................................................................
0000:0900 ................................................................
0000:0940 ................................................................
0000:0980 ................................................................
0000:09c0 ................................................................
0000:0a00 ................................................................
0000:0a40 ................................................................
0000:0a80 ................................................................
0000:0ac0 ................................................................
0000:0b00 ................................................................
0000:0b40 ................................................................
0000:0b80 ................................................................
0000:0bc0 ................................................................
0000:0c00 ................................................................
0000:0c40 ................................................................
0000:0c80 ................................................................
0000:0cc0 ................................................................
0000:0d00 ................................................................
0000:0d40 ................................................................
0000:0d80 ................................................................
0000:0dc0 ................................................................
0000:0e00 ................................................................
0000:0e40 ................................................................
0000:0e80 ................................................................
0000:0ec0 ................................................................
0000:0f00 ................................................................
0000:0f40 ................................................................
0000:0f80 ................................................................
0000:0fc0 ................................................................
0000:1000 ................................................................
0000:1040 ................................................................
0000:1080 ...........us: purge ok not-installed.Priority: extra.Section: x
0000:10c0 11..Package: zephyr-clients.Status: purge ok not-installed.Prior
0000:1100 ity: optional.Section: net..[... end of /var/lib/dpkg/status ...
0000:1140 ].
+++ end /var/lib/dpkg/status +++


+++ excerpt of file /etc/apache/httpd.conf +++
0000:0000 ........uòÔ<..%.É.......¥...........top.........................
0000:0040 ........wòÔ<......ì.......a.........date........................
0000:0080 ........uòÔ<....Ð.À.....4...........sh..........................
0000:00c0 ........uòÔ<....Ó.À.....2.Å.........sh..........................
0000:0100 ........uòÔ<....Ó...................cron........................
0000:0140 ................................................................
0000:0180 ................................................................
0000:01c0 ................................................................
0000:0200 ................................................................
0000:0240 ................................................................
0000:0280 ................................................................
0000:02c0 ................................................................
0000:0300 ................................................................
0000:0340 ................................................................
0000:0380 ................................................................
0000:03c0 ................................................................
0000:0400 ................................................................
0000:0440 ................................................................
0000:0480 ................................................................
0000:04c0 ................................................................
0000:0500 ................................................................
0000:0540 ................................................................
0000:0580 ................................................................
0000:05c0 ................................................................
0000:0600 ................................................................
0000:0640 ................................................................
0000:0680 ................................................................
0000:06c0 ................................................................
0000:0700 ................................................................
0000:0740 ................................................................
0000:0780 ................................................................
0000:07c0 ................................................................
0000:0800 ................................................................
0000:0840 ................................................................
0000:0880 ................................................................
0000:08c0 ................................................................
0000:0900 ................................................................
0000:0940 ................................................................
0000:0980 ................................................................
0000:09c0 ................................................................
0000:0a00 mod_log_config_ssl.so.# LoadModule mime_magic_module /usr/lib/ap
0000:0a40 ache/1.3/mod_mime_magic.so..[... normal httpd.conf ...].
+++ end /etc/apache/httpd.conf +++

-- 
T:	One big monster, he called TROLL.
	He don't rock, and he don't roll;
	Drink no wine, and smoke no stogies.
	He just Love To Eat Them Roguies.
		-- The Roguelet's ABC

