Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S310549AbSCLLIA>; Tue, 12 Mar 2002 06:08:00 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S310576AbSCLLHu>; Tue, 12 Mar 2002 06:07:50 -0500
Received: from fgwmail7.fujitsu.co.jp ([192.51.44.37]:34297 "EHLO
	fgwmail7.fujitsu.co.jp") by vger.kernel.org with ESMTP
	id <S310549AbSCLLHj>; Tue, 12 Mar 2002 06:07:39 -0500
Date: Tue, 12 Mar 2002 20:07:30 +0900
From: Tachino Nobuhiro <tachino@jp.fujitsu.com>
Subject: Re: [bkpatch] Multiple threads in core dumps (was: Re: Thread
In-Reply-To: <E16kkC8-0003QG-00@the-village.bc.nu>
To: Alan Cox <alan@lxorguk.ukuu.org.uk>
Cc: tachino@jp.fujitsu.com (Tachino Nobuhiro),
        dan@debian.org (Daniel Jacobowitz),
        vamsi_krishna@in.ibm.com (Vamsi Krishna S.), torvalds@transmeta.com,
        jefreyr@pacbell.net (Jeff Jenkins), linux-kernel@vger.kernel.org
Message-id: <it8211u5.wl@nisaaru.dvs.cs.fujitsu.co.jp>
MIME-version: 1.0 (generated by EMIKO 1.14.1 - "Choanoflagellata")
Content-type: text/plain; charset=US-ASCII
User-Agent: Wanderlust/2.9.7 (Unchained Melody) EMIKO/1.14.1 (Choanoflagellata)
 LIMIT/1.14.7 (Fujiidera) APEL/10.3 Emacs/21.2.50 (i686-pc-linux-gnu) MULE/5.0
 (SAKAKI)
In-Reply-To: <eliqqvfh.wl@nisaaru.dvs.cs.fujitsu.co.jp>
 <E16kkC8-0003QG-00@the-village.bc.nu>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


Hello,

At Tue, 12 Mar 2002 11:11:52 +0000 (GMT),
Alan Cox wrote:
> 
> > I am now trying to implement gcore system call on linux and have a 
> > great interest in your patch.
> 
> The old Berkeley gcore wasnt a system call nor did it need to be. Ptrace
> (and in their case grovelling around in /dev/mem) is more than sufficient

  IMHO, implementing gcore with ptrace has some problems, I think. If the process sleeps
  with TASK_UNINTERRUPTIBLE, almost ptrace() calls fails. If the process is already traced,
  you cannot use ptrace().
