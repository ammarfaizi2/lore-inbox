Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1754618AbWKHRl1@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1754618AbWKHRl1 (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 8 Nov 2006 12:41:27 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1754619AbWKHRl1
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 8 Nov 2006 12:41:27 -0500
Received: from extu-mxob-2.symantec.com ([216.10.194.135]:46225 "EHLO
	extu-mxob-2.symantec.com") by vger.kernel.org with ESMTP
	id S1754618AbWKHRl0 (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 8 Nov 2006 12:41:26 -0500
X-AuditID: d80ac287-a29f5bb0000022f9-17-455216c5fdcb 
Date: Wed, 8 Nov 2006 17:41:43 +0000 (GMT)
From: Hugh Dickins <hugh@veritas.com>
X-X-Sender: hugh@blonde.wat.veritas.com
To: Jan Beulich <jbeulich@novell.com>
cc: Jeremy Fitzhardinge <jeremy@goop.org>, linux-kernel@vger.kernel.org
Subject: Re: [PATCH] i386: make BUG() expansion look like instruction
In-Reply-To: <45521329.76E4.0078.0@novell.com>
Message-ID: <Pine.LNX.4.64.0611081733300.5025@blonde.wat.veritas.com>
References: <45521329.76E4.0078.0@novell.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-OriginalArrivalTime: 08 Nov 2006 17:41:25.0520 (UTC) FILETIME=[1CE8A900:01C7035D]
X-Brightmail-Tracker: AAAAAA==
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Wed, 8 Nov 2006, Jan Beulich wrote:
> This gets i386's handle_BUG() in sync with x86-64's, namely introducing
> a 'struct bug_frame' and arranging for the code generated by the BUG()
> macro to represent an instruction, so that disassembling code
> containing such constructs doesn't produce garbage anymore. The
> resulting increase of code size is marginal (1 byte per instance).

I thought we were heading towards merging Jeremy's generic-bug-*
(with file and line in another section), in -mm for a while now?

Hugh
