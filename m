Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S261310AbSKTSSf>; Wed, 20 Nov 2002 13:18:35 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S261318AbSKTSSe>; Wed, 20 Nov 2002 13:18:34 -0500
Received: from nwkea-mail-1.sun.com ([192.18.42.13]:18397 "EHLO
	nwkea-mail-1.sun.com") by vger.kernel.org with ESMTP
	id <S261310AbSKTSSe>; Wed, 20 Nov 2002 13:18:34 -0500
Message-Id: <200211201823.gAKINwqG113699@athyra.eng.sun.com>
To: Juan Gomez <juang@us.ibm.com>
cc: linux-kernel@vger.kernel.org, nfs@lists.sourceforge.net,
       trond.myklebust@fys.uio.no
Subject: Re: [NFS] Re: Non-blocking lock requests during the grace period 
In-Reply-To: Your message of "Tue, 19 Nov 2002 10:06:11 PST."
             <OFB5AB2A91.F36007C8-ON87256C76.00632179@us.ibm.com> 
Mime-Version: 1.0 (generated by tm-edit 1.8)
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 20 Nov 2002 10:23:58 -0800
From: Mike Kupfer <kupfer@athyra.eng.sun.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

>>>>> "Juan" == Juan Gomez <juang@us.ibm.com> writes:

    Juan> However, I feel it is odd to block a client for about one
    Juan> minutre when it issues "non-blocking" lock requests.

But if the server goes down, the call can end up blocking for
significantly longer than one minute anyway.

    Juan> I have seen that Solaris code does so but still feels odd
    Juan> and it may conflict with what most programmers expect

Perhaps, but there are other expectations to keep in mind.  In
particular, when using NFS, the expectation (at least with hard
mounts) is that when the server goes down, the application will simply
wait until the server comes back.  Your change would conflict with
that expectation.

Mike Kupfer				mike.kupfer@sun.com
Solaris File Sharing			Speaking for myself, not for Sun.
