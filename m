Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S262080AbSJIVlL>; Wed, 9 Oct 2002 17:41:11 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S262093AbSJIVlL>; Wed, 9 Oct 2002 17:41:11 -0400
Received: from shaku.sfc.wide.ad.jp ([203.178.143.49]:36008 "EHLO
	shaku.sfc.wide.ad.jp") by vger.kernel.org with ESMTP
	id <S262080AbSJIVlI>; Wed, 9 Oct 2002 17:41:08 -0400
Date: Thu, 10 Oct 2002 06:46:16 +0900
Message-ID: <uwuor9tg7.wl@sfc.wide.ad.jp>
From: Yuji Sekiya <sekiya@sfc.wide.ad.jp>
To: Derek Fawcus <dfawcus@cisco.com>, linux-kernel@vger.kernel.org,
       netdev@oss.sgi.com
Cc: usagi@linux-ipv6.org
Subject: Re: [PATCH] IPv6: Fix Prefix Length of Link-local Addresses
In-Reply-To: <20021009170018.H29133@edinburgh.cisco.com>
References: <20021008.000559.17528416.yoshfuji@linux-ipv6.org>
User-Agent: Wanderlust/2.8.1 (Something) SEMI/1.14.4 (Hosorogi) FLIM/1.14.4
 (=?ISO-8859-4?Q?Kashiharajing=FE-mae?=) APEL/10.3 Emacs/20.7
 (i386-*-nt5.1.2600) MULE/4.1 (AOI) Meadow/1.15pre1-IPv6 (SHOUBU:63)
Organization: Keio University
MIME-Version: 1.0 (generated by SEMI 1.14.4 - "Hosorogi")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Wed, 9 Oct 2002 17:00:18 +0100,
Derek Fawcus <dfawcus@cisco.com> wrote:

> Without reading the kernel routing table code a bit more,  I'm not certain
> what that change does,  but it looks as if it might be changing the
> connected route for a link local from fe80::/10 to fe80::/64.

Why do you want to use /10 prefix for link-local address ?
RFC2373 defines link-local address format as below.

   |   10     |
   |  bits    |        54 bits          |          64 bits           |
   +----------+-------------------------+----------------------------+
   |1111111010|           0             |       interface ID         |
   +----------+-------------------------+----------------------------+

> All link local's are currently supposed to have those top bits
> ('tween 10 and 64) zero'd,  however any address within the link local
> prefix _is_ on link / connected and should go to the interface.

If you wan to use /10 prefix for link-local address, you can add the
link-local address with /10 prefix to interfaces and routing table
manually at your own risk, but it should not  be a default behavior.

-- Yuji Sekiya
