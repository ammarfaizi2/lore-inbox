Return-Path: <linux-kernel-owner+akpm=40zip.com.au@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S313763AbSDZJ4e>; Fri, 26 Apr 2002 05:56:34 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S313764AbSDZJ4d>; Fri, 26 Apr 2002 05:56:33 -0400
Received: from ns.suse.de ([213.95.15.193]:24836 "HELO Cantor.suse.de")
	by vger.kernel.org with SMTP id <S313763AbSDZJ4c>;
	Fri, 26 Apr 2002 05:56:32 -0400
Date: Fri, 26 Apr 2002 11:56:31 +0200
Message-ID: <s5h4rhybx68.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Russell King <rmk@arm.linux.org.uk>
Cc: Jaroslav Kysela <perex@suse.cz>,
        Ivan Kokshaysky <ink@jurassic.park.msu.ru>,
        Jurriaan on Alpha <thunder7@xs4all.nl>,
        "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
Subject: Re: compiling cmipci in 2.5.10 on Alpha doesn't work
In-Reply-To: <20020426104017.B16265@flint.arm.linux.org.uk>
User-Agent: Wanderlust/2.6.1 (Upside Down) SEMI/1.14.3 (Ushinoya)
 FLIM/1.14.3 (=?ISO-8859-4?Q?Unebigory=F2mae?=) APEL/10.2 MULE XEmacs/21.4
 (patch 4) (Artificial Intelligence) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Fri, 26 Apr 2002 10:40:17 +0100,
Russell King wrote:
> 
> On Fri, Apr 26, 2002 at 11:17:23AM +0200, Jaroslav Kysela wrote:
> > The real fix is to add '#include <linux/pci.h>' line to all necessary 
> > source files (sound/pci/cmipci.c in this example). Not all source files 
> > need pci.h for compilation.
> 
> You'd also need to forward-declare struct pci_dev in sound/driver.h to
> stop the compiler complaining about 'struct pci_dev' in function
> prototypes.

struct pci_dev in sound/driver.h is used only for i386 and ppc, so
it's not problem.

but it's true for sound/core.h.  we use the struct there, too, for
general cases.


Takashi
