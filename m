Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261605AbTENJcR (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 14 May 2003 05:32:17 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261743AbTENJcR
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 14 May 2003 05:32:17 -0400
Received: from pub237.cambridge.redhat.com ([213.86.99.237]:58863 "EHLO
	warthog.warthog") by vger.kernel.org with ESMTP id S261605AbTENJcP
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 14 May 2003 05:32:15 -0400
To: Andrew Morton <akpm@digeo.com>
cc: Jeff Garzik <jgarzik@pobox.com>, dhowells@redhat.com,
       linux-kernel@vger.kernel.org
Subject: Re: [PATCH] PAG support only
In-Reply-To: <20030513175240.6313ea92.akpm@digeo.com>
User-Agent: EMH/1.14.1 SEMI/1.14.4 (Hosorogi) FLIM/1.14.4
 (=?ISO-8859-4?Q?Kashiharajing=FE-mae?=) APEL/10.4 Emacs/21.2
 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.4 - "Hosorogi")
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 14 May 2003 10:44:51 +0100
Message-ID: <18809.1052905491@warthog.warthog>
From: David Howells <dhowells@warthog.cambridge.redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> David, please stick with Linus-style.  That means commas
> after spaces and never, ever, ever:
>
> 	if (foo) bar

So you'd rather have:

	long sys_setpag(pag_t pag)
	{
		if (pag > 0)
			return vfs_join_pag(pag);
		else if (pag == 0)
			return vfs_leave_pag();
		else if (pag == -1)
			return vfs_new_pag();
		else
			return -EINVAL;
	}

Than:

	long sys_setpag(pag_t pag)
	{
		if (pag > 0)		return vfs_join_pag(pag);
		else if (pag == 0)	return vfs_leave_pag();
		else if (pag == -1)	return vfs_new_pag();
		else			return -EINVAL;
	}

When the former is _far_ less readable at a glance? And also consumes nearly
twice as many screen lines [see CodingStyle: "Thus, as the supply of new-lines
on your screen is not a renewable resource (think 25-line terminal screens
here), you have more empty lines to put comments on."].

> and syscalls should return long, not int.

Fair enough, but in arch/i386/kernel/process.c:

	asmlinkage int sys_fork(struct pt_regs regs)
	asmlinkage int sys_clone(struct pt_regs regs)
	asmlinkage int sys_vfork(struct pt_regs regs)
	asmlinkage int sys_execve(struct pt_regs regs)
	etc...

Should these be fixed too (the i386 arch is referred to quite a lot)?

David

