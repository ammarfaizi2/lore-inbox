Return-Path: <linux-kernel-owner+willy=40w.ods.org-S268197AbUJDP1o@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S268197AbUJDP1o (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 4 Oct 2004 11:27:44 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S268200AbUJDP0e
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 4 Oct 2004 11:26:34 -0400
Received: from cantor.suse.de ([195.135.220.2]:34745 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S268197AbUJDP00 (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Mon, 4 Oct 2004 11:26:26 -0400
Date: Mon, 04 Oct 2004 17:26:24 +0200
Message-ID: <s5hmzz2zeqn.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Lee Revell <rlrevell@joe-job.com>
Cc: Rui Nuno Capela <rncbc@rncbc.org>,
       linux-kernel <linux-kernel@vger.kernel.org>,
       Ingo Molnar <mingo@elte.hu>,
       alsa-devel <alsa-devel@lists.sourceforge.net>
Subject: Re: io_remap_page_range (was Re: [Alsa-devel] alsa-driver will not	compile with kernel  2.6.9-rc2-mm4-S7)
In-Reply-To: <1096678268.27818.84.camel@krustophenia.net>
References: <1096675930.27818.74.camel@krustophenia.net>
	<32868.192.168.1.8.1096677269.squirrel@192.168.1.8>
	<1096678268.27818.84.camel@krustophenia.net>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 15) (Security Through Obscurity) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Fri, 01 Oct 2004 20:51:08 -0400,
Lee Revell wrote:
> 
> On Fri, 2004-10-01 at 20:34, Rui Nuno Capela wrote:
> > Lee Revell wrote:
> > Good grief! I'm having this too, and I was desperate thinking I was the
> > only one, and ultimately offering the blame to gcc 3.4.1 which is what I'm
> > test-driving now on my laptop (Mdk 10.1c).
> > 
> > Now I remember that -mm4 has some issue about remap_page_range kernel
> > symbol being renamed to something else, which is breaking the build of
> > outsider modules (i.e. not the ones bundled under the kernel source tree).
> > Or so it seems.
> 
> Looking through my archives I cannot find a report of this exact issue,
> but you are probably right.  Looks like ALSA drivers need to be updated.

The alsa-kernel code there (pcm_native.c) is ok but the patch in
alsa-driver looks broken for the recent change of remap_pfn_range().

Also, there was another API brekage about pci_save/restore_state().

Fixed both on CVS now.


Takahsi
