Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S315275AbSHZPJq>; Mon, 26 Aug 2002 11:09:46 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S315370AbSHZPJq>; Mon, 26 Aug 2002 11:09:46 -0400
Received: from holly.csn.ul.ie ([136.201.105.4]:38412 "HELO holly.csn.ul.ie")
	by vger.kernel.org with SMTP id <S315275AbSHZPJn>;
	Mon, 26 Aug 2002 11:09:43 -0400
Date: Mon, 26 Aug 2002 16:13:54 +0100 (IST)
From: Mel Gorman <mel@csn.ul.ie>
X-X-Sender: mel@skynet
To: Daniel Phillips <phillips@arcor.de>
Cc: linux-mm@kvack.org, <linux-kernel@vger.kernel.org>
Subject: Re: 2.4.19 Vs 2.4.19-rmap14a with anonymous mmaped memory
In-Reply-To: <E17jIfu-0001hg-00@starship>
Message-ID: <Pine.LNX.4.44.0208261525570.31523-100000@skynet>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Mon, 26 Aug 2002, Daniel Phillips wrote:

> Could you please provide pseudocode, to specify these reference patterns
> more precisely?
>

Rather than providing pseudo code, here is a link to the actual function
that generates the smooth_sin references

http://www.csn.ul.ie/~mel/vmr/smooth_sin.html

It is really crude and written to generate any type of data until I
found the time to generate more realistic data which is a project in
itself. Anyone who wants to generate better data only has to edit the
References.pm file.

It takes there inputs

references - number of references to generate
range - the size in pages of the region to reference
output - the output filename

the function has three parts

part 1: Plot a sin wave so that the sum of all the integer values of each
	part of it would generate enough references to satisify at least
	half of the requessted number
part 2: Starting at the beginning of the range, reference each page in a
        linear pattern until all the required references are generated
part 3: Dump all references to disk

now that I think of it, it would have made more sense to begin with the
linear reference pattern and then generate the sin curve but seeing as
this pattern is nothing resembling real life, I didn't worry about it too
much. It is probably something I should change as it would illustrate
better what pages are kept in memory.

smooth_sin-random
http://www.csn.ul.ie/~mel/vmr/randomize_references.txt

This is a perl script for randomizing an input file. It takes an input
file generated by the smooth_sin function and outputs a randomized version
of it. It is pretty simple

1. For each input reference, output a random number between 0 and range
   followed by the input reference
2. Sort the file numerically with sort. This will efficively randomize the
   input
3. Reread the randomized input and strip away the generated random number

-- 
Mel Gorman
MSc Student, University of Limerick
http://www.csn.ul.ie/~mel



