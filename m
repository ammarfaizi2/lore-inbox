Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932386AbVKLOeP@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932386AbVKLOeP (ORCPT <rfc822;willy@w.ods.org>);
	Sat, 12 Nov 2005 09:34:15 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932387AbVKLOeP
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sat, 12 Nov 2005 09:34:15 -0500
Received: from wproxy.gmail.com ([64.233.184.205]:8679 "EHLO wproxy.gmail.com")
	by vger.kernel.org with ESMTP id S932386AbVKLOeO convert rfc822-to-8bit
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Sat, 12 Nov 2005 09:34:14 -0500
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Lkytxie0WK8bWTN82StauFbFJzpKC7WZmankangsm9FjWoXII+2DhkPhYhwBy1JWbjkIm0MgobQP2XAXKvutv7BvjfvR+5quGMLgkesAodFOI8rE6qndR5Plkmu233NSVy8McbKIVq/PTkzEBPj/F+rXvF3xn2V0BcrpuHBMiEE=
Message-ID: <9a8748490511120634h64a74359s59e4eab3ca8fdda2@mail.gmail.com>
Date: Sat, 12 Nov 2005 15:34:13 +0100
From: Jesper Juhl <jesper.juhl@gmail.com>
To: Neo Jia <cjia@cse.unl.edu>
Subject: Re: Modules are missed while compiling the same version of kernel
Cc: linux-kernel@vger.kernel.org
In-Reply-To: <43756131.5020702@cse.unl.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7BIT
Content-Disposition: inline
References: <43756131.5020702@cse.unl.edu>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On 11/12/05, Neo Jia <cjia@cse.unl.edu> wrote:
> hi,
>
> Today, I am going to recompile the kernel by adding the support of
> RTLinux. The current kernel version is 2..6.9-1.677smp (my processor is
> P4 with HT)  from Fedora Core 3. The target new kernel is also the 2.6.9
> from www.kernel.org after patching by RTLinux.

Fedora adds their own patches to the kernel, so your kernel source
from Fedora Core 3 and the one from kernel.org are not equivalent.


>Everything goes smoothly
> while building the kernel. But when I check the modules generated by
> this build, there are a lot of them missed comparing the number of I
> have from the original Fedora Core 3.
>
Did you copy in your original .config and run "make oldconfig" so the
two kernels are configured as closely as possible?

Have you chompared the .config from the old and new kernel to see if
you have the same amount of modules enabled?

Could it be that the Fedora kernels patches add or remove drivers
compared to what's in mainline (I don't use Fedora so I don't know
exactely what patches they add) ?

You are adding the -rt patchset, the changes in there could also
account for some of the difference although I must admit I don't know
exactely what changes the -rt patchset makes - I've never really
looked at it.


> Could you give me any hint about this?

You are using two different versions of the kernel source and have not
told us if they are even configured identically. Frankly I'd be
surprised if they did not have their differences.


--
Jesper Juhl <jesper.juhl@gmail.com>
Don't top-post  http://www.catb.org/~esr/jargon/html/T/top-post.html
Plain text mails only, please      http://www.expita.com/nomime.html
