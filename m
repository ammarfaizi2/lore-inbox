Return-Path: <linux-kernel-owner+willy=40w.ods.org-S262458AbUKWBFz@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262458AbUKWBFz (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 22 Nov 2004 20:05:55 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262434AbUKWBDB
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 22 Nov 2004 20:03:01 -0500
Received: from e33.co.us.ibm.com ([32.97.110.131]:60115 "EHLO
	e33.co.us.ibm.com") by vger.kernel.org with ESMTP id S261212AbUKWBBS
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Mon, 22 Nov 2004 20:01:18 -0500
Subject: Re: [PATCH] kdump: Fix for boot problems on SMP
From: Badari Pulavarty <pbadari@us.ibm.com>
To: Hariprasad Nellitheertha <hari@in.ibm.com>
Cc: Akinobu Mita <amgta@yacht.ocn.ne.jp>, Andrew Morton <akpm@osdl.org>,
       Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
       varap@us.ibm.com
In-Reply-To: <41A20DB5.2050302@in.ibm.com>
References: <419CACE2.7060408@in.ibm.com>
	 <20041119153052.21b387ca.akpm@osdl.org>
	 <1100912759.4987.207.camel@dyn318077bld.beaverton.ibm.com>
	 <200411201204.37750.amgta@yacht.ocn.ne.jp>  <41A20DB5.2050302@in.ibm.com>
Content-Type: text/plain
Organization: 
Message-Id: <1101170617.4987.268.camel@dyn318077bld.beaverton.ibm.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 22 Nov 2004 16:43:37 -0800
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

More info testing results...

gdb is not showing the stack info properly, on my saved vmcore.
I thought vmlinux is not matching the vmcore, so I verified that
vmcore and vmlinux matchup. But still no luck...

# gdb  ../linux-2.6.9/vmlinux vmcore.2
GNU gdb 5.2.1
Copyright 2002 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you
are
welcome to change it and/or distribute copies of it under certain
conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for
details.
This GDB was configured as "i586-suse-linux"...
Core was generated by `root=/dev/sda2 dump init 1 memmap=exactmap
memmap=640k@0
memmap=32M@16M console='.
#0  default_idle () at arch/i386/kernel/process.c:108
108     }
(gdb) bt
#0  default_idle () at arch/i386/kernel/process.c:108
#1  0xc04cdff8 in init_thread_union ()
#2  0xc0101b86 in cpu_idle () at arch/i386/kernel/process.c:196
#3  0xc04cea20 in start_kernel () at init/main.c:523
#4  0xc0100211 in L6 () at /tmp/cch2z2jk.s:2054
Cannot access memory at address 0x550007



Thanks,
Badari


