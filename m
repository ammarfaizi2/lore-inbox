Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S263074AbTC1RfT>; Fri, 28 Mar 2003 12:35:19 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S263075AbTC1RfT>; Fri, 28 Mar 2003 12:35:19 -0500
Received: from pop.gmx.de ([213.165.65.60]:3203 "HELO mail.gmx.net")
	by vger.kernel.org with SMTP id <S263074AbTC1RfO>;
	Fri, 28 Mar 2003 12:35:14 -0500
Message-Id: <5.2.0.9.2.20030328181731.01997810@pop.gmx.net>
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Fri, 28 Mar 2003 18:50:38 +0100
To: Michal Schmidt <schmidt@kn.vutbr.cz>
From: Mike Galbraith <efault@gmx.de>
Subject: Re: Reproducible terrible interactivity since 2.5.64bk2
Cc: Andrew Ebling <aebling@tao-group.com>, linux-kernel@vger.kernel.org
In-Reply-To: <3E81B63B.8080608@kn.vutbr.cz>
References: <1048687681.6345.13.camel@spinel.tao.co.uk>
 <3E81945C.4010102@kn.vutbr.cz>
 <1048687681.6345.13.camel@spinel.tao.co.uk>
Mime-Version: 1.0
Content-Type: multipart/mixed;
	boundary="=====================_53797640==_"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

--=====================_53797640==_
Content-Type: text/plain; charset="us-ascii"; format=flowed

At 03:16 PM 3/26/2003 +0100, Michal Schmidt wrote:
>Andrew Ebling wrote:
>>
>>I'm seeing similar on 2.5.66; xmms pauses when doing disk intensive
>>tasks.
>
>This may be a different problem. My test is not very disk intensive. It is 
>more CPU intensive (bzip2 compression). The disk is only slightly used 
>when running my testing script.

Greetings potential victims :)

Care to see if the attached cures your woes?

This is a mixture of Ingo's last posted plus the scheduler tuning knobs 
patch (/proc/sys/sched/*).  I added three new knobs to watch the effect on 
different loads.  max_accel_slices limits the amount of sleep_time you may 
add in one activation.  retard_prct_slices is a percentage of a slice to 
deduct from sleep_time each activation (negative feedback for heavy context 
switchers.. dang irman process_load).  force_switch is there because I'm 
playing :)  I didn't do much to the scheduler itself, only made it switch 
arrays in something closer to a square wave.  With the settings as in the 
patch, and running a kernel build, top and irman, irman reports worst case 
response times of 150ms for NULL load, 316ms for memory_load, 414 for 
io_load, and 504ms for process_load.

Anyway, it's attached if you want to play with it ;-)

         -Mike

Oh, it's against virgin 2.5.66. 
--=====================_53797640==_
Content-Type: application/octet-stream; name="twiddle.diff";
 x-mac-type="42494E41"; x-mac-creator="5843454C"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="twiddle.diff"

LS0tIGxpbnV4LTIuNS42Ni52aXJnaW4va2VybmVsL3NjaGVkLmMJVGh1IE1hciAyNyAxNDoyMzo1
OCAyMDAzCisrKyBsaW51eC0yLjUuNjYudHdpZGRsZS9rZXJuZWwvc2NoZWQuYwlGcmkgTWFyIDI4
IDE4OjM1OjI5IDIwMDMKQEAgLTYzLDE3ICs2Myw0MCBAQAogICogTWluaW11bSB0aW1lc2xpY2Ug
aXMgMTAgbXNlY3MsIGRlZmF1bHQgdGltZXNsaWNlIGlzIDEwMCBtc2VjcywKICAqIG1heGltdW0g
dGltZXNsaWNlIGlzIDIwMCBtc2Vjcy4gVGltZXNsaWNlcyBnZXQgcmVmaWxsZWQgYWZ0ZXIKICAq
IHRoZXkgZXhwaXJlLgorICoKKyAqIFRoZXkgYXJlIGNvbmZpZ3VyYWJsZSB2aWEgL3Byb2Mvc3lz
L3NjaGVkCiAgKi8KLSNkZWZpbmUgTUlOX1RJTUVTTElDRQkJKCAxMCAqIEhaIC8gMTAwMCkKLSNk
ZWZpbmUgTUFYX1RJTUVTTElDRQkJKDIwMCAqIEhaIC8gMTAwMCkKLSNkZWZpbmUgQ0hJTERfUEVO
QUxUWQkJNTAKLSNkZWZpbmUgUEFSRU5UX1BFTkFMVFkJCTEwMAotI2RlZmluZSBFWElUX1dFSUdI
VAkJMwotI2RlZmluZSBQUklPX0JPTlVTX1JBVElPCTI1Ci0jZGVmaW5lIElOVEVSQUNUSVZFX0RF
TFRBCTIKLSNkZWZpbmUgTUFYX1NMRUVQX0FWRwkJKDEwKkhaKQotI2RlZmluZSBTVEFSVkFUSU9O
X0xJTUlUCSgxMCpIWikKLSNkZWZpbmUgTk9ERV9USFJFU0hPTEQJCTEyNQorCitpbnQgbWluX3Rp
bWVzbGljZSA9ICg1ICogSFopIC8gMTAwMDsKK2ludCBtYXhfdGltZXNsaWNlID0gKDIwMCAqIEha
KSAvIDEwMDA7CitpbnQgY2hpbGRfcGVuYWx0eSA9IDUwOworaW50IHBhcmVudF9wZW5hbHR5ID0g
MTAwOworaW50IGV4aXRfd2VpZ2h0ID0gMzsKK2ludCBwcmlvX2JvbnVzX3JhdGlvID0gMjU7Citp
bnQgaW50ZXJhY3RpdmVfZGVsdGEgPSAyOworaW50IG1heF9zbGVlcF9hdmcgPSAxMCAqIEhaOwor
aW50IHN0YXJ2YXRpb25fbGltaXQgPSAxICogSFo7CitpbnQgbm9kZV90aHJlc2hvbGQgPSAxMjU7
CitpbnQgbWF4X2FjY2VsX3NsaWNlcyA9IDU7CQkvKiBNYXggYm9udXMgcGVyIGFjdGl2YXRpb24g
aW4gc2xpY2VzLiAqLworaW50IHJldGFyZF9wcmN0X3NsaWNlID0gMTA7CS8qIFBlcmNlbnQgb2Yg
YSBzbGljZSB0byBkZWR1Y3QuICovCitpbnQgZm9yY2Vfc3dpdGNoID0gMTsKKworI2RlZmluZSBN
SU5fVElNRVNMSUNFCQkobWluX3RpbWVzbGljZSkKKyNkZWZpbmUgTUFYX1RJTUVTTElDRQkJKG1h
eF90aW1lc2xpY2UpCisjZGVmaW5lIENISUxEX1BFTkFMVFkJCShjaGlsZF9wZW5hbHR5KQorI2Rl
ZmluZSBQQVJFTlRfUEVOQUxUWQkJKHBhcmVudF9wZW5hbHR5KQorI2RlZmluZSBFWElUX1dFSUdI
VAkJKGV4aXRfd2VpZ2h0KQorI2RlZmluZSBQUklPX0JPTlVTX1JBVElPCShwcmlvX2JvbnVzX3Jh
dGlvKQorI2RlZmluZSBJTlRFUkFDVElWRV9ERUxUQQkoaW50ZXJhY3RpdmVfZGVsdGEpCisjZGVm
aW5lIE1BWF9TTEVFUF9BVkcJCShtYXhfc2xlZXBfYXZnKQorI2RlZmluZSBTVEFSVkFUSU9OX0xJ
TUlUCShzdGFydmF0aW9uX2xpbWl0KQorI2RlZmluZSBOT0RFX1RIUkVTSE9MRAkJKG5vZGVfdGhy
ZXNob2xkKQorI2RlZmluZSBUSU1FU0xJQ0VfR1JBTlVMQVJJVFkJKEhaLzIwID86IDEpCisjZGVm
aW5lIE1BWF9BQ0NFTEVSQVRJT04oc2xpY2UpIFwKKwkobWF4X2FjY2VsX3NsaWNlcyA/IG1heF9h
Y2NlbF9zbGljZXMgKiAoc2xpY2UpIDogbWF4X3NsZWVwX2F2ZykKKyNkZWZpbmUgTkVHQVRJVkVf
RkVFREJBQ0soc2xpY2UpIFwKKwkocmV0YXJkX3ByY3Rfc2xpY2UgPyByZXRhcmRfcHJjdF9zbGlj
ZSAqIChzbGljZSkgLyAxMDAgOiAwKQorI2RlZmluZSBGT1JDRV9TV0lUQ0gJCShmb3JjZV9zd2l0
Y2gpCiAKIC8qCiAgKiBJZiBhIHRhc2sgaXMgJ2ludGVyYWN0aXZlJyB0aGVuIHdlIHJlaW5zZXJ0
IGl0IGluIHRoZSBhY3RpdmUKQEAgLTEyNCwxMiArMTQ3LDE3IEBACiAgKiB0YXNrX3RpbWVzbGlj
ZSgpIGlzIHRoZSBpbnRlcmZhY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBzY2hlZHVsZXIuCiAgKi8K
IAotI2RlZmluZSBCQVNFX1RJTUVTTElDRShwKSAoTUlOX1RJTUVTTElDRSArIFwKLQkoKE1BWF9U
SU1FU0xJQ0UgLSBNSU5fVElNRVNMSUNFKSAqIChNQVhfUFJJTy0xLShwKS0+c3RhdGljX3ByaW8p
LyhNQVhfVVNFUl9QUklPIC0gMSkpKQorI2RlZmluZSBCQVNFX1RJTUVTTElDRShwKSBcCisJKE1B
WF9USU1FU0xJQ0UgKiAoTUFYX1BSSU8tKHApLT5zdGF0aWNfcHJpbykvTUFYX1VTRVJfUFJJTykK
IAogc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQgdGFza190aW1lc2xpY2UodGFza190ICpwKQog
ewotCXJldHVybiBCQVNFX1RJTUVTTElDRShwKTsKKwl1bnNpZ25lZCBpbnQgdGltZV9zbGljZSA9
IEJBU0VfVElNRVNMSUNFKHApOworCisJaWYgKHRpbWVfc2xpY2UgPCBNSU5fVElNRVNMSUNFKQor
CQl0aW1lX3NsaWNlID0gTUlOX1RJTUVTTElDRTsKKworCXJldHVybiB0aW1lX3NsaWNlOwogfQog
CiAvKgpAQCAtMzQ3LDYgKzM3NSw3IEBACiAKIAlpZiAoc2xlZXBfdGltZSA+IDApIHsKIAkJaW50
IHNsZWVwX2F2ZzsKKwkJaW50IHNsaWNlID0gdGFza190aW1lc2xpY2UocCk7CiAKIAkJLyoKIAkJ
ICogVGhpcyBjb2RlIGdpdmVzIGEgYm9udXMgdG8gaW50ZXJhY3RpdmUgdGFza3MuCkBAIC0zNTUs
OCArMzg0LDE1IEBACiAJCSAqIHZhbHVlIGhlcmUsIGJhc2VkIG9uIC0+bGFzdF9ydW4uIFRoZSBt
b3JlIHRpbWUgYSB0YXNrCiAJCSAqIHNwZW5kcyBzbGVlcGluZywgdGhlIGhpZ2hlciB0aGUgYXZl
cmFnZSBnZXRzIC0gYW5kIHRoZQogCQkgKiBoaWdoZXIgdGhlIHByaW9yaXR5IGJvb3N0IGdldHMg
YXMgd2VsbC4KKwkJICoKKwkJICogUHJldmVudCB0YXNrcyB3aXRoIGFuIGV4dHJlbWVseSBoaWdo
IGNvbnRleHQgc3dpdGNoCisJCSAqIHJhdGUgZnJvbSBiZWNvbWluZyBDUFUgaG9ncyBieSBzdGVh
ZGlseSBpbmZsYXRpbmcgdGhlaXIKKwkJICogc2xlZXBfYXZnIHVudGlsIHRoZXkgc3RhcnZlIGxl
Z2l0aW1hdGUgc2xlZXBlcnMuCiAJCSAqLwotCQlzbGVlcF9hdmcgPSBwLT5zbGVlcF9hdmcgKyBz
bGVlcF90aW1lOworCQlpZiAocC0+c2xlZXBfYXZnID4gTUFYX1NMRUVQX0FWRyAvIDIpCisJCQlw
LT5zbGVlcF9hdmcgLT0gTkVHQVRJVkVfRkVFREJBQ0soc2xpY2UpOworCQlzbGVlcF90aW1lICU9
IE1BWF9BQ0NFTEVSQVRJT04oc2xpY2UpOworCQlzbGVlcF9hdmcgPSBzbGVlcF90aW1lICsgcC0+
c2xlZXBfYXZnOwogCiAJCS8qCiAJCSAqICdPdmVyZmxvdycgYm9udXMgdGlja3MgZ28gdG8gdGhl
IHdha2VyIGFzIHdlbGwsIHNvIHRoZQpAQCAtMTE3NiwxMCArMTIxMiw4IEBACiAgKiBsb2FkLWRl
cGVuZGVudCwgYXMgdGhlIGZyZXF1ZW5jeSBvZiBhcnJheSBzd2l0Y2hlZCBkZWNyZWFzZXMgd2l0
aAogICogaW5jcmVhc2luZyBudW1iZXIgb2YgcnVubmluZyB0YXNrczoKICAqLwotI2RlZmluZSBF
WFBJUkVEX1NUQVJWSU5HKHJxKSBcCi0JCShTVEFSVkFUSU9OX0xJTUlUICYmICgocnEpLT5leHBp
cmVkX3RpbWVzdGFtcCAmJiBcCi0JCShqaWZmaWVzIC0gKHJxKS0+ZXhwaXJlZF90aW1lc3RhbXAg
Pj0gXAotCQkJU1RBUlZBVElPTl9MSU1JVCAqICgocnEpLT5ucl9ydW5uaW5nKSArIDEpKSkKKyNk
ZWZpbmUgRVhQSVJFRF9TVEFSVklORyhycSkgKChycSktPmV4cGlyZWRfdGltZXN0YW1wICYmIFwK
KwkJdGltZV9hZnRlcl9lcShqaWZmaWVzLCAocnEpLT5leHBpcmVkX3RpbWVzdGFtcCtTVEFSVkFU
SU9OX0xJTUlUKSkKIAogLyoKICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBjYWxsZWQgYnkgdGhlIHRp
bWVyIGNvZGUsIHdpdGggSFogZnJlcXVlbmN5LgpAQCAtMTE5Myw2ICsxMjI3LDEwIEBACiAJaW50
IGNwdSA9IHNtcF9wcm9jZXNzb3JfaWQoKTsKIAlydW5xdWV1ZV90ICpycSA9IHRoaXNfcnEoKTsK
IAl0YXNrX3QgKnAgPSBjdXJyZW50OworCWludCBhcnJheV9zd2l0Y2ggPSBFWFBJUkVEX1NUQVJW
SU5HKHJxKTsKKworCWlmIChGT1JDRV9TV0lUQ0ggJiYgIXJxLT5leHBpcmVkX3RpbWVzdGFtcCkK
KwkJcnEtPmV4cGlyZWRfdGltZXN0YW1wID0gamlmZmllcyAtIChTVEFSVkFUSU9OX0xJTUlUIC8g
Mik7CiAKIAlpZiAocmN1X3BlbmRpbmcoY3B1KSkKIAkJcmN1X2NoZWNrX2NhbGxiYWNrcyhjcHUs
IHVzZXJfdGlja3MpOwpAQCAtMTI0MiwyMyArMTI4MCw1MiBAQAogCiAJCQkvKiBwdXQgaXQgYXQg
dGhlIGVuZCBvZiB0aGUgcXVldWU6ICovCiAJCQlkZXF1ZXVlX3Rhc2socCwgcnEtPmFjdGl2ZSk7
Ci0JCQllbnF1ZXVlX3Rhc2socCwgcnEtPmFjdGl2ZSk7CisJCQllbnF1ZXVlX3Rhc2socCwgYXJy
YXlfc3dpdGNoID8gcnEtPmV4cGlyZWQgOiBycS0+YWN0aXZlKTsKKwkJfSBlbHNlIGlmIChhcnJh
eV9zd2l0Y2gpIHsKKwkJCWlmICghcnEtPmV4cGlyZWRfdGltZXN0YW1wKQorCQkJCXJxLT5leHBp
cmVkX3RpbWVzdGFtcCA9IGppZmZpZXM7CisJCQlkZXF1ZXVlX3Rhc2socCwgcnEtPmFjdGl2ZSk7
CisJCQllbnF1ZXVlX3Rhc2socCwgcnEtPmV4cGlyZWQpOwogCQl9CiAJCWdvdG8gb3V0OwogCX0K
LQlpZiAoIS0tcC0+dGltZV9zbGljZSkgeworCWlmICh1bmxpa2VseSghLS1wLT50aW1lX3NsaWNl
KSkgewogCQlkZXF1ZXVlX3Rhc2socCwgcnEtPmFjdGl2ZSk7CiAJCXNldF90c2tfbmVlZF9yZXNj
aGVkKHApOwogCQlwLT5wcmlvID0gZWZmZWN0aXZlX3ByaW8ocCk7CiAJCXAtPnRpbWVfc2xpY2Ug
PSB0YXNrX3RpbWVzbGljZShwKTsKIAkJcC0+Zmlyc3RfdGltZV9zbGljZSA9IDA7CiAKLQkJaWYg
KCFUQVNLX0lOVEVSQUNUSVZFKHApIHx8IEVYUElSRURfU1RBUlZJTkcocnEpKSB7CisJCWlmICgh
VEFTS19JTlRFUkFDVElWRShwKSB8fCBhcnJheV9zd2l0Y2gpIHsKIAkJCWlmICghcnEtPmV4cGly
ZWRfdGltZXN0YW1wKQogCQkJCXJxLT5leHBpcmVkX3RpbWVzdGFtcCA9IGppZmZpZXM7CiAJCQll
bnF1ZXVlX3Rhc2socCwgcnEtPmV4cGlyZWQpOwogCQl9IGVsc2UKIAkJCWVucXVldWVfdGFzayhw
LCBycS0+YWN0aXZlKTsKKwkJZ290byBvdXQ7CisJfQorCS8qCisJICogUHJldmVudCBhIHRvbyBs
b25nIHRpbWVzbGljZSBhbGxvd2luZyBhIHRhc2sgdG8gbW9ub3BvbGl6ZQorCSAqIHRoZSBDUFUu
IFdlIGRvIHRoaXMgYnkgc3BsaXR0aW5nIHVwIHRoZSB0aW1lc2xpY2UgaW50bworCSAqIHNtYWxs
ZXIgcGllY2VzLgorCSAqCisJICogTm90ZTogdGhpcyBkb2VzIG5vdCBtZWFuIHRoZSB0YXNrJ3Mg
dGltZXNsaWNlcyBleHBpcmUgb3IKKwkgKiBnZXQgbG9zdCBpbiBhbnkgd2F5LCB0aGV5IGp1c3Qg
bWlnaHQgYmUgcHJlZW1wdGVkIGJ5CisJICogYW5vdGhlciB0YXNrIG9mIGVxdWFsIHByaW9yaXR5
LiAob25lIHdpdGggaGlnaGVyCisJICogcHJpb3JpdHkgd291bGQgaGF2ZSBwcmVlbXB0ZWQgdGhp
cyB0YXNrIGFscmVhZHkuKSBXZQorCSAqIHJlcXVldWUgdGhpcyB0YXNrIHRvIHRoZSBlbmQgb2Yg
dGhlIGxpc3Qgb24gdGhpcyBwcmlvcml0eQorCSAqIGxldmVsLCB3aGljaCBpcyBpbiBlc3NlbmNl
IGEgcm91bmQtcm9iaW4gb2YgdGFza3Mgd2l0aAorCSAqIGVxdWFsIHByaW9yaXR5LgorCSAqCisJ
ICogSWYgZXhwaXJlZCB0YXNrcyBhcmUgc3RhcnZpbmcsIHN3aXRjaCBhcnJheXMgQVNBUC4gIAor
CSAqLworCWlmICghKHAtPnRpbWVfc2xpY2UgJSBUSU1FU0xJQ0VfR1JBTlVMQVJJVFkpIHx8IGFy
cmF5X3N3aXRjaCkgeworCQlkZXF1ZXVlX3Rhc2socCwgcnEtPmFjdGl2ZSk7CisJCXNldF90c2tf
bmVlZF9yZXNjaGVkKHApOworCQlwLT5wcmlvID0gZWZmZWN0aXZlX3ByaW8ocCk7CisJCWVucXVl
dWVfdGFzayhwLCBhcnJheV9zd2l0Y2ggPyBycS0+ZXhwaXJlZCA6IHJxLT5hY3RpdmUpOworCQlp
ZiAoYXJyYXlfc3dpdGNoICYmICFycS0+ZXhwaXJlZF90aW1lc3RhbXApCisJCQlycS0+ZXhwaXJl
ZF90aW1lc3RhbXAgPSBqaWZmaWVzOwogCX0KIG91dDoKIAlzcGluX3VubG9jaygmcnEtPmxvY2sp
OwpAQCAtMTI5Nyw4ICsxMzY0LDEzIEBACiAJcnEgPSB0aGlzX3JxKCk7CiAKIAlyZWxlYXNlX2tl
cm5lbF9sb2NrKHByZXYpOworI2lmIDAgLy8gTUlLRURJRElUCiAJcHJldi0+bGFzdF9ydW4gPSBq
aWZmaWVzOworI2VuZGlmCiAJc3Bpbl9sb2NrX2lycSgmcnEtPmxvY2spOworI2lmIDEgLy8gTUlL
RURJRElUCisJcHJldi0+bGFzdF9ydW4gPSBqaWZmaWVzOworI2VuZGlmCiAKIAkvKgogCSAqIGlm
IGVudGVyaW5nIG9mZiBvZiBhIGtlcm5lbCBwcmVlbXB0aW9uIGdvIHN0cmFpZ2h0CkBAIC0xNjgw
LDcgKzE3NTIsNyBAQAogICovCiBpbnQgdGFza19wcmlvKHRhc2tfdCAqcCkKIHsKLQlyZXR1cm4g
cC0+cHJpbyAtIE1BWF9VU0VSX1JUX1BSSU87CisJcmV0dXJuIHAtPnByaW8gLSBNQVhfUlRfUFJJ
TzsKIH0KIAogLyoqCi0tLSBsaW51eC0yLjUuNjYudmlyZ2luL2tlcm5lbC9zeXNjdGwuYwlUaHUg
TWFyIDI3IDE0OjIzOjU4IDIwMDMKKysrIGxpbnV4LTIuNS42Ni50d2lkZGxlL2tlcm5lbC9zeXNj
dGwuYwlGcmkgTWFyIDI4IDEzOjUxOjMxIDIwMDMKQEAgLTU3LDYgKzU3LDE5IEBACiBleHRlcm4g
aW50IGNhZF9waWQ7CiBleHRlcm4gaW50IHBpZF9tYXg7CiBleHRlcm4gaW50IHN5c2N0bF9sb3dl
cl96b25lX3Byb3RlY3Rpb247CitleHRlcm4gaW50IG1pbl90aW1lc2xpY2U7CitleHRlcm4gaW50
IG1heF90aW1lc2xpY2U7CitleHRlcm4gaW50IGNoaWxkX3BlbmFsdHk7CitleHRlcm4gaW50IHBh
cmVudF9wZW5hbHR5OworZXh0ZXJuIGludCBleGl0X3dlaWdodDsKK2V4dGVybiBpbnQgcHJpb19i
b251c19yYXRpbzsKK2V4dGVybiBpbnQgaW50ZXJhY3RpdmVfZGVsdGE7CitleHRlcm4gaW50IG1h
eF9zbGVlcF9hdmc7CitleHRlcm4gaW50IHN0YXJ2YXRpb25fbGltaXQ7CitleHRlcm4gaW50IG5v
ZGVfdGhyZXNob2xkOworZXh0ZXJuIGludCBtYXhfYWNjZWxfc2xpY2VzOworZXh0ZXJuIGludCBy
ZXRhcmRfcHJjdF9zbGljZTsKK2V4dGVybiBpbnQgZm9yY2Vfc3dpdGNoOwogCiAvKiB0aGlzIGlz
IG5lZWRlZCBmb3IgdGhlIHByb2NfZG9pbnR2ZWNfbWlubWF4IGZvciBbZnNfXW92ZXJmbG93IFVJ
RCBhbmQgR0lEICovCiBzdGF0aWMgaW50IG1heG9sZHVpZCA9IDY1NTM1OwpAQCAtMTE0LDYgKzEy
Nyw3IEBACiAKIHN0YXRpYyBjdGxfdGFibGUga2Vybl90YWJsZVtdOwogc3RhdGljIGN0bF90YWJs
ZSB2bV90YWJsZVtdOworc3RhdGljIGN0bF90YWJsZSBzY2hlZF90YWJsZVtdOwogI2lmZGVmIENP
TkZJR19ORVQKIGV4dGVybiBjdGxfdGFibGUgbmV0X3RhYmxlW107CiAjZW5kaWYKQEAgLTE1OCw2
ICsxNzIsNyBAQAogCXtDVExfRlMsICJmcyIsIE5VTEwsIDAsIDA1NTUsIGZzX3RhYmxlfSwKIAl7
Q1RMX0RFQlVHLCAiZGVidWciLCBOVUxMLCAwLCAwNTU1LCBkZWJ1Z190YWJsZX0sCiAgICAgICAg
IHtDVExfREVWLCAiZGV2IiwgTlVMTCwgMCwgMDU1NSwgZGV2X3RhYmxlfSwKKwl7Q1RMX1NDSEVE
LCAic2NoZWQiLCBOVUxMLCAwLCAwNTU1LCBzY2hlZF90YWJsZX0sCiAJezB9CiB9OwogCkBAIC0z
NjAsNyArMzc1LDUwIEBACiAKIHN0YXRpYyBjdGxfdGFibGUgZGV2X3RhYmxlW10gPSB7CiAJezB9
Ci19OyAgCit9OworCitzdGF0aWMgY3RsX3RhYmxlIHNjaGVkX3RhYmxlW10gPSB7CisJe1NDSEVE
X01BWF9USU1FU0xJQ0UsICJtYXhfdGltZXNsaWNlIiwgJm1heF90aW1lc2xpY2UsCisJIHNpemVv
ZihpbnQpLCAwNjQ0LCBOVUxMLCAmcHJvY19kb2ludHZlY19taW5tYXgsCisJICZzeXNjdGxfaW50
dmVjLCBOVUxMLCAmb25lLCBOVUxMfSwKKwl7U0NIRURfTUlOX1RJTUVTTElDRSwgIm1pbl90aW1l
c2xpY2UiLCAmbWluX3RpbWVzbGljZSwKKwkgc2l6ZW9mKGludCksIDA2NDQsIE5VTEwsICZwcm9j
X2RvaW50dmVjX21pbm1heCwKKwkgJnN5c2N0bF9pbnR2ZWMsIE5VTEwsICZvbmUsIE5VTEx9LAor
CXtTQ0hFRF9DSElMRF9QRU5BTFRZLCAiY2hpbGRfcGVuYWx0eSIsICZjaGlsZF9wZW5hbHR5LAor
CSBzaXplb2YoaW50KSwgMDY0NCwgTlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlubWF4LAorCSAmc3lz
Y3RsX2ludHZlYywgTlVMTCwgJnplcm8sIE5VTEx9LAorCXtTQ0hFRF9QQVJFTlRfUEVOQUxUWSwg
InBhcmVudF9wZW5hbHR5IiwgJnBhcmVudF9wZW5hbHR5LAorCSBzaXplb2YoaW50KSwgMDY0NCwg
TlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlubWF4LAorCSAmc3lzY3RsX2ludHZlYywgTlVMTCwgJnpl
cm8sIE5VTEx9LAorCXtTQ0hFRF9FWElUX1dFSUdIVCwgImV4aXRfd2VpZ2h0IiwgJmV4aXRfd2Vp
Z2h0LAorCSBzaXplb2YoaW50KSwgMDY0NCwgTlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlubWF4LAor
CSAmc3lzY3RsX2ludHZlYywgTlVMTCwgJnplcm8sIE5VTEx9LAorCXtTQ0hFRF9QUklPX0JPTlVT
X1JBVElPLCAicHJpb19ib251c19yYXRpbyIsICZwcmlvX2JvbnVzX3JhdGlvLAorCSBzaXplb2Yo
aW50KSwgMDY0NCwgTlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlubWF4LAorCSAmc3lzY3RsX2ludHZl
YywgTlVMTCwgJnplcm8sIE5VTEx9LAorCXtTQ0hFRF9JTlRFUkFDVElWRV9ERUxUQSwgImludGVy
YWN0aXZlX2RlbHRhIiwgJmludGVyYWN0aXZlX2RlbHRhLAorCSBzaXplb2YoaW50KSwgMDY0NCwg
TlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlubWF4LAorCSAmc3lzY3RsX2ludHZlYywgTlVMTCwgJnpl
cm8sIE5VTEx9LAorCXtTQ0hFRF9NQVhfU0xFRVBfQVZHLCAibWF4X3NsZWVwX2F2ZyIsICZtYXhf
c2xlZXBfYXZnLAorCSBzaXplb2YoaW50KSwgMDY0NCwgTlVMTCwgJnByb2NfZG9pbnR2ZWNfbWlu
bWF4LAorCSAmc3lzY3RsX2ludHZlYywgTlVMTCwgJm9uZSwgTlVMTH0sCisJe1NDSEVEX1NUQVJW
QVRJT05fTElNSVQsICJzdGFydmF0aW9uX2xpbWl0IiwgJnN0YXJ2YXRpb25fbGltaXQsCisJIHNp
emVvZihpbnQpLCAwNjQ0LCBOVUxMLCAmcHJvY19kb2ludHZlY19taW5tYXgsCisJICZzeXNjdGxf
aW50dmVjLCBOVUxMLCAmemVybywgTlVMTH0sCisJe1NDSEVEX05PREVfVEhSRVNIT0xELCAibm9k
ZV90aHJlc2hvbGQiLCAmbm9kZV90aHJlc2hvbGQsCisJIHNpemVvZihpbnQpLCAwNjQ0LCBOVUxM
LCAmcHJvY19kb2ludHZlY19taW5tYXgsCisJICZzeXNjdGxfaW50dmVjLCBOVUxMLCAmb25lLCBO
VUxMfSwKKwl7U0NIRURfTUFYX0FDQ0VMRVJBVElPTiwgIm1heF9hY2NlbF9zbGljZXMiLCAmbWF4
X2FjY2VsX3NsaWNlcywKKwkgc2l6ZW9mKGludCksIDA2NDQsIE5VTEwsICZwcm9jX2RvaW50dmVj
X21pbm1heCwKKwkgJnN5c2N0bF9pbnR2ZWMsIE5VTEwsICZ6ZXJvLCBOVUxMfSwKKwl7U0NIRURf
TkVHX0ZFRURCQUNLLCAicmV0YXJkX3ByY3Rfc2xpY2UiLCAmcmV0YXJkX3ByY3Rfc2xpY2UsCisJ
IHNpemVvZihpbnQpLCAwNjQ0LCBOVUxMLCAmcHJvY19kb2ludHZlY19taW5tYXgsCisJICZzeXNj
dGxfaW50dmVjLCBOVUxMLCAmemVybywgJm9uZV9odW5kcmVkfSwKKwl7U0NIRURfRk9SQ0VfU1dJ
VENILCAiZm9yY2Vfc3dpdGNoIiwgJmZvcmNlX3N3aXRjaCwKKwkgc2l6ZW9mKGludCksIDA2NDQs
IE5VTEwsICZwcm9jX2RvaW50dmVjX21pbm1heCwKKwkgJnN5c2N0bF9pbnR2ZWMsIE5VTEwsICZ6
ZXJvLCAmb25lfSwKKwl7MH0KK307CiAKIGV4dGVybiB2b2lkIGluaXRfaXJxX3Byb2MgKHZvaWQp
OwogCi0tLSBsaW51eC0yLjUuNjYudmlyZ2luL2luY2x1ZGUvbGludXgvc3lzY3RsLmgJRnJpIE1h
ciAgNyAwNjowNzo0MCAyMDAzCisrKyBsaW51eC0yLjUuNjYudHdpZGRsZS9pbmNsdWRlL2xpbnV4
L3N5c2N0bC5oCUZyaSBNYXIgMjggMTM6NTM6NDcgMjAwMwpAQCAtNjYsNyArNjYsOCBAQAogCUNU
TF9ERVY9NywJCS8qIERldmljZXMgKi8KIAlDVExfQlVTPTgsCQkvKiBCdXNzZXMgKi8KIAlDVExf
QUJJPTksCQkvKiBCaW5hcnkgZW11bGF0aW9uICovCi0JQ1RMX0NQVT0xMAkJLyogQ1BVIHN0dWZm
IChzcGVlZCBzY2FsaW5nLCBldGMpICovCisJQ1RMX0NQVT0xMCwJCS8qIENQVSBzdHVmZiAoc3Bl
ZWQgc2NhbGluZywgZXRjKSAqLworCUNUTF9TQ0hFRD0xMSwJCS8qIHNjaGVkdWxlciB0dW5hYmxl
cyAqLwogfTsKIAogLyogQ1RMX0JVUyBuYW1lczogKi8KQEAgLTE1Nyw2ICsxNTgsMjIgQEAKIAlW
TV9MT1dFUl9aT05FX1BST1RFQ1RJT049MjAsLyogQW1vdW50IG9mIHByb3RlY3Rpb24gb2YgbG93
ZXIgem9uZXMgKi8KIH07CiAKKy8qIFR1bmFibGUgc2NoZWR1bGVyIHBhcmFtZXRlcnMgaW4gL3By
b2Mvc3lzL3NjaGVkLyAqLworZW51bSB7CisJU0NIRURfTUlOX1RJTUVTTElDRT0xLAkJLyogbWlu
aW11bSBwcm9jZXNzIHRpbWVzbGljZSAqLworCVNDSEVEX01BWF9USU1FU0xJQ0U9MiwJCS8qIG1h
eGltdW0gcHJvY2VzcyB0aW1lc2xpY2UgKi8KKwlTQ0hFRF9DSElMRF9QRU5BTFRZPTMsCQkvKiBw
ZW5hbHR5IG9uIGZvcmsgdG8gY2hpbGQgKi8KKwlTQ0hFRF9QQVJFTlRfUEVOQUxUWT00LAkJLyog
cGVuYWx0eSBvbiBmb3JrIHRvIHBhcmVudCAqLworCVNDSEVEX0VYSVRfV0VJR0hUPTUsCQkvKiBw
ZW5hbHR5IHRvIHBhcmVudCBvZiBDUFUgaG9nIGNoaWxkICovCisJU0NIRURfUFJJT19CT05VU19S
QVRJTz02LAkvKiBwZXJjZW50IG9mIG1heCBwcmlvIGdpdmVuIGFzIGJvbnVzICovCisJU0NIRURf
SU5URVJBQ1RJVkVfREVMVEE9NywJLyogZGVsdGEgdXNlZCB0byBzY2FsZSBpbnRlcmFjdGl2aXR5
ICovCisJU0NIRURfTUFYX1NMRUVQX0FWRz04LAkJLyogbWF4aW11bSBzbGVlcCBhdmcgYXR0YWlu
YWJsZSAqLworCVNDSEVEX1NUQVJWQVRJT05fTElNSVQ9OSwJLyogbm8gcmUtYWN0aXZlIGlmIGV4
cGlyZWQgaXMgc3RhcnZlZCAqLworCVNDSEVEX05PREVfVEhSRVNIT0xEPTEwLAkvKiBOVU1BIG5v
ZGUgcmViYWxhbmNlIHRocmVzaG9sZCAqLworCVNDSEVEX01BWF9BQ0NFTEVSQVRJT049MTEsCS8q
IG1heGltdW0gYm9udXMgc2xpY2VzIHBlciBhY3RpdmF0aW9uICovCisJU0NIRURfTkVHX0ZFRURC
QUNLPTEyLAkJLyogcGVyY2VudCBzbGljZSBvbnVzIHBlciBhY3RpdmF0aW9uICovCisJU0NIRURf
Rk9SQ0VfU1dJVENIPTEzLAkJLyogZm9yY2Ugc3dpdGNoIHRvIGV4cGlyZWQgYXJyYXkgKi8KK307
CiAKIC8qIENUTF9ORVQgbmFtZXM6ICovCiBlbnVtCg==
--=====================_53797640==_--

