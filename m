Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S264557AbTL0T6E (ORCPT <rfc822;willy@w.ods.org>);
	Sat, 27 Dec 2003 14:58:04 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S264563AbTL0T5u
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sat, 27 Dec 2003 14:57:50 -0500
Received: from out001pub.verizon.net ([206.46.170.140]:478 "EHLO
	out001.verizon.net") by vger.kernel.org with ESMTP id S264557AbTL0T5q
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Sat, 27 Dec 2003 14:57:46 -0500
Date: Sat, 27 Dec 2003 14:57:53 -0500
Mime-Version: 1.0 (Apple Message framework v553)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: 2.6-test11 kernel gives ppc build error
From: ima.sudonim@verizon.net
To: Linux Kernel <linux-kernel@vger.kernel.org>
Content-Transfer-Encoding: 7bit
Message-Id: <F5165F54-38A6-11D8-9D3A-00039398B344@verizon.net>
X-Mailer: Apple Mail (2.553)
X-Authentication-Info: Submitted using SMTP AUTH at out001.verizon.net from [141.156.231.12] at Sat, 27 Dec 2003 13:57:45 -0600
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,

I have been lurking on the list for about a month, and am obviously a 
newbie at this.

I have been running a 2.4.22 kernel for a while, but was hoping to move 
up to 2.6 for a variety of reasons. I have a minimal 2.6 kernel 
running, but when I try to add sound support for my apple g3 powerbook, 
I now get an error linking vmlinux

Right now I am getting an ld error
LD .tmp_vmlinux1
drivers/built-in.o(.text+0x2ff6c): In function 'start_request': 
undefined refrence to '__udivdi3'
drivers/built-in.o(.text+0x2ff6c): relocation truncated to fit: 
R_PPC_REL24 __udivdi3
drivers/built-in.o(.text+0x2ff84): In function 'start_request': 
undefined refrence to '__umoddi3'
drivers/built-in.o(.text+0x2ff84): relocation truncated to fit: 
R_PPC_REL24 __umoddi3

make: *** [.tmp_vmlinux1] Error 1

I am using benh's ppc source with yellowdog linux 3.01 on an apple G3 
powerbook (pismo)
Other than some 'defined but not used' warnings, the compile was pretty 
clean: for example,

CC [M] sound/oss/dmasound/tas3004.o
sound/oss/dmasound/tas3004.c:332:warning 'tas3004_read_register' 
defined but not used

I'm assuming that the 20 or so 'defined but not used' can be safely 
ignored as either old code no loonger used or new code not yet used, 
but what about the umoddi3, udivd3? Are they powerpc instructions or am 
I missing a C math library somewhere?

I'm supposing that I should not try to use any kernel generated by ld 
that resulted in errors... 8-(

Thanks for any help that you may give!

I will try to follow any discussion on the list, but do not subscribe. 
I will forward summaries of anything cc:ed to me to the list. Sorry for 
the trouble...

I.

