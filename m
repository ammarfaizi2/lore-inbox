Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1030198AbVJ1Oph@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1030198AbVJ1Oph (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 28 Oct 2005 10:45:37 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1030199AbVJ1Oph
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 28 Oct 2005 10:45:37 -0400
Received: from mx2.suse.de ([195.135.220.15]:45189 "EHLO mx2.suse.de")
	by vger.kernel.org with ESMTP id S1030198AbVJ1Opg (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 28 Oct 2005 10:45:36 -0400
Date: Fri, 28 Oct 2005 16:45:34 +0200
Message-ID: <s5hoe59bsz5.wl%tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Russell King <rmk+lkml@arm.linux.org.uk>
Cc: Greg K-H <greg@kroah.com>, linux-kernel@vger.kernel.org
Subject: Re: [PATCH] DRIVER MODEL: Get rid of the obsolete tri-level suspend/resume callbacks
In-Reply-To: <20051028111327.GK5044@flint.arm.linux.org.uk>
References: <11304810272893@kroah.com>
	<113048102730@kroah.com>
	<s5hmzku9cv8.wl%tiwai@suse.de>
	<20051028111327.GK5044@flint.arm.linux.org.uk>
User-Agent: Wanderlust/2.12.0 (Your Wildest Dreams) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.7 (=?ISO-8859-4?Q?Sanj=F2?=) APEL/10.6 MULE XEmacs/21.5 (beta18)
 (chestnut) (+CVS-20041021) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Fri, 28 Oct 2005 12:13:27 +0100,
Russell King wrote:
> 
> On Fri, Oct 28, 2005 at 12:04:11PM +0200, Takashi Iwai wrote:
> > At Thu, 27 Oct 2005 23:30:27 -0700,
> > Greg KH wrote:
> > > 
> > > --- a/Documentation/driver-model/driver.txt
> > > +++ b/Documentation/driver-model/driver.txt
> > > @@ -196,67 +196,11 @@ it into a supported low-power state.
> > >  
> > >  	int	(*suspend)	(struct device * dev, pm_message_t state, u32 level);
> > >  
> > 
> > Shouldn't this be also changed without level argument?
> > 
> > 
> > > +suspend is called to put the device in a low power state.
> > >  
> > >  	int	(*resume)	(struct device * dev, u32 level);
> > >  
> > 
> > Ditto.
> 
> Probably.  Please send a patch.

OK, here we go:


[PATCH] Fix documentation of driver suspend/resume callbacks

Signed-off-by: Takashi Iwai <tiwai@suse.de>
---
diff --git a/Documentation/driver-model/driver.txt b/Documentation/driver-model/driver.txt
--- a/Documentation/driver-model/driver.txt
+++ b/Documentation/driver-model/driver.txt
@@ -14,8 +14,8 @@ struct device_driver {
         int     (*probe)        (struct device * dev);
         int     (*remove)       (struct device * dev);
 
-        int     (*suspend)      (struct device * dev, pm_message_t state, u32 level);
-        int     (*resume)       (struct device * dev, u32 level);
+        int     (*suspend)      (struct device * dev, pm_message_t state);
+        int     (*resume)       (struct device * dev);
 };
 
 
@@ -194,11 +194,11 @@ device; i.e. anything in the device's dr
 If the device is still present, it should quiesce the device and place
 it into a supported low-power state.
 
-	int	(*suspend)	(struct device * dev, pm_message_t state, u32 level);
+	int	(*suspend)	(struct device * dev, pm_message_t state);
 
 suspend is called to put the device in a low power state.
 
-	int	(*resume)	(struct device * dev, u32 level);
+	int	(*resume)	(struct device * dev);
 
 Resume is used to bring a device back from a low power state.
 
