Return-Path: <linux-kernel-owner+w=401wt.eu-S932330AbWLPSfD@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932330AbWLPSfD (ORCPT <rfc822;w@1wt.eu>);
	Sat, 16 Dec 2006 13:35:03 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932504AbWLPSfB
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sat, 16 Dec 2006 13:35:01 -0500
Received: from tmailer.gwdg.de ([134.76.10.23]:45197 "EHLO tmailer.gwdg.de"
	rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
	id S932330AbWLPSfB (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Sat, 16 Dec 2006 13:35:01 -0500
Date: Sat, 16 Dec 2006 19:34:13 +0100 (MET)
From: Jan Engelhardt <jengelh@linux01.gwdg.de>
To: Pavel Machek <pavel@ucw.cz>
cc: James Lockie <bjlockie@lockie.ca>,
       Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: Re: [Fwd: escape key]
In-Reply-To: <20061216084542.GD4049@ucw.cz>
Message-ID: <Pine.LNX.4.61.0612161922530.30896@yvahk01.tjqt.qr>
References: <1166058290.2964.15.camel@monteirov> <20061213214140.df6111f5.randy.dunlap@oracle.com>
 <4580E985.2090208@lockie.ca> <20061216084542.GD4049@ucw.cz>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Report: Content analysis: 0.0 points, 6.0 required
	_SUMMARY_
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


On Dec 16 2006 08:45, Pavel Machek wrote:
>
>> Two escapes works now. :-)
>
>Actually could we fix our consoles, somehow, to make esc usable?
>Having important key like esc unusable on consoles is quite ugly.

It's something between a misdesign and a misconfiguration of the ESC key.

In other words, many unices make ESC generate ^[, the general
terminal escape character that is _also_ generated by keys like "up",
^[[A.

MS-DOS, or rather QBASIC's, Turbo BASIC's and other implementation of
keys, does not have this "bug": here ESC generates "\x1B" and "up"
generates "\x00H" IIRC. There is no key defined to generate "\x00".
=> All fits nicely.

So I see two steps:

 - making ESC generate something else than ^[, or making function
   keys do something else

 - fixing the terminfo description and the xterms

 - possibly creating a new termtype ("linux2" or "xterm2") so as to
   not tamper with compatibility

Then text-console graphic applications (ncurses, slang, etc.) would
not need to wait the defined one second for an escape sequence to
complete.

HOWEVER, unix people probably _had a reason_ to make ESC generate
part of what function keys do. Should my UP key go broke, I could
still - though probably tedious - reproduce it by hitting the three
keys ESC [ A. Problem, as pointed out, is that ESC has long been used
by the majority of people back then for something else than doing
terminal sequences by hand: DOS, apps, games, Windows GUIs, and,
I suppose, even X11.



	-`J'
-- 
