Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S291236AbSBSLHy>; Tue, 19 Feb 2002 06:07:54 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S291216AbSBSLHq>; Tue, 19 Feb 2002 06:07:46 -0500
Received: from ns.suse.de ([213.95.15.193]:5641 "HELO Cantor.suse.de")
	by vger.kernel.org with SMTP id <S291214AbSBSLGW>;
	Tue, 19 Feb 2002 06:06:22 -0500
Date: Tue, 19 Feb 2002 12:06:17 +0100
Message-ID: <s5hvgctbuja.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Miles Lane <miles@megapathdsl.net>
Cc: Jaroslav Kysela <perex@suse.cz>, linux-kernel@vger.kernel.org,
        Abramo Bagnara <abramo@alsa-project.org>
Subject: Re: Various problems using ALSA drivers in 2.5.5-pre1.
In-Reply-To: <3C6F2269.4050309@megapathdsl.net>
In-Reply-To: <3C6F2269.4050309@megapathdsl.net>
User-Agent: Wanderlust/2.6.1 (Upside Down) SEMI/1.14.3 (Ushinoya)
 FLIM/1.14.3 (=?ISO-8859-4?Q?Unebigory=F2mae?=) APEL/10.2 MULE XEmacs/21.4
 (patch 4) (Artificial Intelligence) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi Miles,

At Sat, 16 Feb 2002 19:24:25 -0800,
Miles Lane wrote:
> 
> Hello,
> 
> I have the linux hotplug scripts installed.  When I built
> the drivers as modules, they did not autoload, as they should
> have.  Are you working to make the drivers register themselves
> during the boot process so that they are autoloaded without
> having to hack the modules.conf file?
 
Please note that the complicated configuration of /etc/modules.conf is
mainly for auto-loading of modules and multiple cards.
That is, ALSA can work without hacking modules.conf if you use only
ALSA native applications.  Furthermore, if you load OSS emulation
modules manually you don't need hacking modules.conf for OSS devices,
too.  And both ALSA and OSS modules can coexistent at the same time
if you configure properly (of course for different cards, I mean).


> I have applied the patch the gets /proc/asound working.
> In my most recent attempt, I have compiled the ALSA drivers
> into the kernel.  I would like to use the native ALSA drivers,
> but am not sure how to configure my devices to make this
> happen.  I use esound on GNOME and play CDs.
 
IIRC, esound doesn't support ALSA yet officially..
So it will be anyway through OSS emulation.

> One question I have is how to go about getting the ALSA
> utilities and tools to build.  They require alsa-lib, which
> appears to require alsa-drivers.  This is a problem, because
> I don't want to install the out-of-kernel ALSA drivers in
> addition to the in-kernel ones.
 
No, you don't need extra alsa-driver source.
To build alsa-lib, the kernel source including alsa (more exactly,
header files) will be enough.
There is a configure option, --with-kernel and --with-soundbase,
to specify the place of alsa header files.  Please check
alsa-lib/INSTALL file.


> It seems to me that there is a need for several things to happen,
> now that ALSA is in the development kernel:
> 
> 1)  You need to update your web documentation to guide users
> in configuring ALSA who are testing the ALSA support in
> the development kernel.
 
yep.

> 2)  You need to include updated ALSA configuration and usage
> information into the linux/Documentation tree in the 2.5 kernel
> tree.
 
yes, that would be better..

> 3)  You need to update documentation in the utils and tools
> packages to include information about how to build and use
> there utilies when using the 2.5 kernel drivers.
 
it's already in INSTALL.

> 4)  You may need to overhaul your tools and utilities build
> processes so that alsa-drivers is not required.
 
already done.


ciao,

Takashi
