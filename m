Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S290592AbSAYHlp>; Fri, 25 Jan 2002 02:41:45 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S290591AbSAYHlT>; Fri, 25 Jan 2002 02:41:19 -0500
Received: from coruscant.franken.de ([193.174.159.226]:16330 "EHLO
	coruscant.gnumonks.org") by vger.kernel.org with ESMTP
	id <S290279AbSAYHlA>; Fri, 25 Jan 2002 02:41:00 -0500
Date: Fri, 25 Jan 2002 08:34:22 +0100
From: Harald Welte <laforge@gnumonks.org>
To: CaT <cat@zip.com.au>
Cc: lkml <linux-kernel@vger.kernel.org>,
        Netfilter Development Mailinglist 
	<netfilter-devel@lists.samba.org>,
        Netfilter Mailinglist <netfilter@lists.samba.org>
Subject: netfilter changes in 2.4.18-pre7 (was Re: Linux 2.4.18-pre7)
Message-ID: <20020125083422.Q11216@sunbeam.de.gnumonks.org>
Mail-Followup-To: Harald Welte <laforge@gnumonks.org>, CaT <cat@zip.com.au>,
	lkml <linux-kernel@vger.kernel.org>,
	Netfilter Development Mailinglist <netfilter-devel@lists.samba.org>,
	Netfilter Mailinglist <netfilter@lists.samba.org>
In-Reply-To: <Pine.LNX.4.21.0201231953410.4134-100000@freak.distro.conectiva> <20020123231943.GD664@zip.com.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.17i
In-Reply-To: <20020123231943.GD664@zip.com.au>; from cat@zip.com.au on Thu, Jan 24, 2002 at 10:19:43AM +1100
X-Operating-System: Linux sunbeam.de.gnumonks.org 2.4.17
X-Date: Today is Prickle-Prickle, the 24th day of Chaos in the YOLD 3168
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Thu, Jan 24, 2002 at 10:19:43AM +1100, CaT wrote:
> On Wed, Jan 23, 2002 at 07:55:46PM -0200, Marcelo Tosatti wrote:
> > - Netfilter update 				(Netfilter team)
> 
> This appears to include the fix for the crash bug I reported earlier
> involving ipchains compatability and redirects appears to be in this. :)

Yes. The netfilter changes as of 2.4.17-pre7 have been:

o have mangle teable attach to all five hooks
  (Brad Chapman & me)
o new match for SPI field in AH/ESP ipsec headers (broken1)
  (Yon Uriarte)
o new ULOG target for high performance userspace packet logging (broken1)
  (me)
o fix skb_headroom reallocation after destination change (your bug)
  (Rusty Russell, Marc Boucher & me)
o fix REDIRECT handling of artificial TCP RST's generated by REJECT
  (Marc Boucher)
o fix debugging code for ip_fw_compat.c
  (Rusty Russell)
o fix bug when using REDIRECT and no IP address is attached to
  an interface 
  (Lennert Buytenhek)
o add ip_queue (and QUEUE target) support for IPv6
  (Fernando Anton & James Morris)
o fix printing of inner ICMP packet (if icmp in icmp errmsg) in LOG target
  (Jozsef Kadlecsik)
o fix typo in errormessage of ipv6 MARK target
  (Dave Jones)
o increase module usage count as soon as there are rules in iptables
  (me)
o increase module usage count as soon as there are rules in ipchains
  (me)
o increase module usage count as soon as there are rules in ipfwadm (broken2)
  (Rusty Russell)


broken1: broken because the final kernel tree was strangely missing two
	 .c files which had been inside the patch 
         (davem and marcelo taking care of this)

broken2: broken because I was too lazy. Patch has appeared on lkml and is
         submitted for kernel inclusion.


> Woo. :)

-- 
Live long and prosper
- Harald Welte / laforge@gnumonks.org               http://www.gnumonks.org/
============================================================================
GCS/E/IT d- s-: a-- C+++ UL++++$ P+++ L++++$ E--- W- N++ o? K- w--- O- M- 
V-- PS+ PE-- Y+ PGP++ t++ 5-- !X !R tv-- b+++ DI? !D G+ e* h+ r% y+(*)
