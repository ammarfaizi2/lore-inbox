Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261198AbTENIFO (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 14 May 2003 04:05:14 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261185AbTENIFO
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 14 May 2003 04:05:14 -0400
Received: from pub237.cambridge.redhat.com ([213.86.99.237]:28909 "EHLO
	warthog.warthog") by vger.kernel.org with ESMTP id S261177AbTENIFK
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 14 May 2003 04:05:10 -0400
To: Christoph Hellwig <hch@infradead.org>
Cc: David Howells <dhowells@redhat.com>, torvalds@transmeta.com,
       linux-kernel@vger.kernel.org, linux-fsdevel@vger.kernel.org,
       openafs-devel@openafs.org
Subject: Re: [PATCH] PAG support only 
In-Reply-To: <20030513213759.A9244@infradead.org> 
User-Agent: EMH/1.14.1 SEMI/1.14.4 (Hosorogi) FLIM/1.14.4
 (=?ISO-8859-4?Q?Kashiharajing=FE-mae?=) APEL/10.4 Emacs/21.2
 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.4 - "Hosorogi")
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 14 May 2003 09:17:43 +0100
Message-ID: <13536.1052900263@warthog.warthog>
From: David Howells <dhowells@warthog.cambridge.redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


Christoph Hellwig wrote:

> Please split this into 2 lines as per Documentation/CodingStyle.  Even better
> make vfs_token_put handle a NULL argument.

Done the latter.

> Random whitespace change

Gone.

> - and even a wrong one..

I disagree, but no matter.

> > +static kmem_cache_t *vfs_token_cache;
> > +static kmem_cache_t *vfs_pag_cache;
> 
> How many of those will be around for a typical AFS client?  I have the vague
> feeling the slabs are overkill..

And then there's the people who said I shouldn't use kmalloc but should create
a slab instead...

> > +	if (pag>0) {
> > +		/* join existing PAG */
> > +		if (tsk->vfspag->pag &&
> > +		    tsk->vfspag->pag==pag)
> > +			return pag;
> 
> Please try to get your code in conformance with Documentation/CodingStyle.

You are suggesting what changes exactly?

David
