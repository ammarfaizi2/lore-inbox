Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S129835AbRBZUHf>; Mon, 26 Feb 2001 15:07:35 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S129876AbRBZUH0>; Mon, 26 Feb 2001 15:07:26 -0500
Received: from jalon.able.es ([212.97.163.2]:57994 "EHLO jalon.able.es")
	by vger.kernel.org with ESMTP id <S129835AbRBZUHK>;
	Mon, 26 Feb 2001 15:07:10 -0500
Date: Mon, 26 Feb 2001 21:07:00 +0100
From: "J . A . Magallon" <jamagallon@able.es>
To: Stephen Mollett <molletts@yahoo.com>
Cc: linux-kernel@vger.kernel.org
Subject: Re: "io mapaddr 0xXXXXX not valid" in smc-mca in 2.4.x
Message-ID: <20010226210700.C2354@werewolf.able.es>
In-Reply-To: <20010226154228.48338.qmail@web11205.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7BIT
In-Reply-To: <20010226154228.48338.qmail@web11205.mail.yahoo.com>; from molletts@yahoo.com on Mon, Feb 26, 2001 at 16:42:28 +0100
X-Mailer: Balsa 1.1.1
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


On 02.26 Stephen Mollett wrote:
> In kernel version 2.4.x (x from 0 to 2-ac3), the
> smc-mca driver gives many errors like the following on
> the console log:
> 
> io mapaddr 0xXXXXX not valid at smc-mca.c:YYY!
> 
> where XXXXX is an address within the shared-memory
> assigned to the adapter card, and YYY is 378, 398 or
> 408.
> 

AFAIK, it is a bug in the driver. That output is generated by
arch/i386/lib/iodebug.c, a routine to catch buggy drivers like that.
Look at 
include/asm-i386/io.h, line 112 or so:
/*
 * Temporary debugging check to catch old code using
 * unmapped ISA addresses. Will be removed in 2.4.
 */
#if CONFIG_DEBUG_IOVIRT
  extern void *__io_virt_debug(unsigned long x, const char *file, int line);
  extern unsigned long __io_phys_debug(unsigned long x, const char *file, int li
ne);
  #define __io_virt(x) __io_virt_debug((unsigned long)(x), __FILE__, __LINE__)
//#define __io_phys(x) __io_phys_debug((unsigned long)(x), __FILE__, __LINE__)
#else
  #define __io_virt(x) ((void *)(x))
//#define __io_phys(x) __pa(x)
#endif

So you should mail driver mantainer, if it is known....

-- 
J.A. Magallon                                                      $> cd pub
mailto:jamagallon@able.es                                          $> more beer

Linux werewolf 2.4.2-ac4 #2 SMP Mon Feb 26 00:21:23 CET 2001 i686

