Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S265512AbUATO2i (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 20 Jan 2004 09:28:38 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S265516AbUATO2i
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 20 Jan 2004 09:28:38 -0500
Received: from ns.suse.de ([195.135.220.2]:23778 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S265512AbUATO2g (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 20 Jan 2004 09:28:36 -0500
Date: Tue, 20 Jan 2004 15:28:35 +0100
Message-ID: <s5hy8s27kz0.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Markus =?ISO-8859-1?Q?H=E4stbacka?= <midian@ihme.org>
Cc: Kernel Mailinglist <linux-kernel@vger.kernel.org>
Subject: Re: ALSA vs. OSS
In-Reply-To: <1074608233.19614.3.camel@midux>
References: <1074532714.16759.4.camel@midux>
	<microsoft-free.87vfn7bzi1.fsf@eicq.dnsalias.org>
	<1074536486.5955.412.camel@castle.bigfiber.net>
	<200401201046.24172.hus@design-d.de>
	<400D2AB2.7030400@borgerding.net>
	<1074607389.19502.4.camel@midux>
	<s5hznci7lxg.wl@alsa2.suse.de>
	<1074608233.19614.3.camel@midux>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 13) (Rational FORTRAN) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Tue, 20 Jan 2004 16:17:13 +0200,
Markus Hästbacka wrote:
> 
> [1  <text/plain; iso-8859-15 (quoted-printable)>]
> On Tue, 2004-01-20 at 16:07, Takashi Iwai wrote:
> > <..snip..>
> > what kernel messages did you get?
> > 
> No messages anywhere, it just doesn't let me open two sound sources at
> the same time. (the second app freezes without any messages)

then it's a different problem.

sb live has a single capture (record) device although it can play
multiple streams at the same time.  when both apps try to open
fullduplex, the later one is blocked, because the capture device is
already occupied.
if it's the case, it is not a bug but the correct POSIX behavior.

as a workaround, try to add the following to /etc/modprobe.conf:

	alias snd-pcm-oss nonblock_open=1

this will set the OSS PCM devices as non-blocking.


ciao,

Takashi
