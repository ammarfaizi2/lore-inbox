Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S285417AbSBRU3B>; Mon, 18 Feb 2002 15:29:01 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S286893AbSBRU2v>; Mon, 18 Feb 2002 15:28:51 -0500
Received: from lightning.swansea.linux.org.uk ([194.168.151.1]:264 "EHLO
	the-village.bc.nu") by vger.kernel.org with ESMTP
	id <S285417AbSBRU2n>; Mon, 18 Feb 2002 15:28:43 -0500
Subject: Re: weird ip sequence number
To: xinwenfu@cs.tamu.edu (Xinwen - Fu)
Date: Mon, 18 Feb 2002 20:42:36 +0000 (GMT)
Cc: root@chaos.analogic.com (Richard B. Johnson), linux-kernel@vger.kernel.org
In-Reply-To: <Pine.SOL.4.10.10202181413160.8734-100000@dogbert> from "Xinwen - Fu" at Feb 18, 2002 02:24:50 PM
X-Mailer: ELM [version 2.5 PL6]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-Id: <E16cucO-0006kg-00@the-village.bc.nu>
From: Alan Cox <alan@lxorguk.ukuu.org.uk>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

> Although there are few chances that our randomly chosen ip_id collides
> with the other packet's ip_id generated by kernel, I don't want this
> possibility to happen.

So pick one at random. However its a pretty strange way to abuse IP.

> So is there any method to get a true ip_id from the kernel? 
> I want this ip_id to do my own fragmentation on a packet.

Linux does not generate ip idents on DF frames. You can't fragment a DF
frame anyway so the problem does not arrive. Frames without DF get assigned
ip ids
