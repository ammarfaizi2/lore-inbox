Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S291027AbSBSKWY>; Tue, 19 Feb 2002 05:22:24 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S291043AbSBSKWQ>; Tue, 19 Feb 2002 05:22:16 -0500
Received: from E0-IBE.r.miee.ru ([194.226.0.89]:48144 "EHLO ibe.miee.ru")
	by vger.kernel.org with ESMTP id <S291027AbSBSKWE>;
	Tue, 19 Feb 2002 05:22:04 -0500
From: Samium Gromoff <root@ibe.miee.ru>
Message-Id: <200202191307.g1JD7lP12020@ibe.miee.ru>
Subject: Sound clicking under disk IO load resolved
To: linux-kernel@vger.kernel.org
Date: Tue, 19 Feb 2002 16:07:47 +0300 (MSK)
X-Mailer: ELM [version 2.5 PL6]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

	Recently i`ve finally had enough info to shed some light to the
well known problem of sound clickage under disk IO load.

	Facts collected so far were the next:
		1. Sometimes heavy disk IO produces sound clicks
		2. Heavy IO load doesnt necessarily produces clicks
		3. Cpu load isnt the reason in no way.
		4. disk DMA is enabled.

	So the situation looked rather weird until recently.

	What i have suddenly found out is that sometimes disk IO produces
not the usual, and perfectly sane 100-200 interrupts/s, but mind-blowing
5000-8000 interrupts per sec, and i found some correlation of these with
the VM load, which effectively was the swap io.

	Comparing this value with 600irq/sec generated by isa SB, one
can suppose that the isa sound card experiences inetrrupt starvation.

	My further thinking was based on the assumption that no one sane
IDE single-spindle device (and in my case is was the IBM Deskstar 60GXP)
can not fulfill such request rate.

	Info: linux-2.4.17-rmap12e, IBM Deskstar 60GXP, SB16 Vibra ISA
p166, 40M ram, pIIx3 IDE

regards, Samium Gromoff
