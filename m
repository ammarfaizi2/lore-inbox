Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S263299AbTJKNRn (ORCPT <rfc822;willy@w.ods.org>);
	Sat, 11 Oct 2003 09:17:43 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S263300AbTJKNRn
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sat, 11 Oct 2003 09:17:43 -0400
Received: from smtp3.att.ne.jp ([165.76.15.139]:29428 "EHLO smtp3.att.ne.jp")
	by vger.kernel.org with ESMTP id S263299AbTJKNRl (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Sat, 11 Oct 2003 09:17:41 -0400
Message-ID: <26ca01c38ff9$f4762d00$5cee4ca5@DIAMONDLX60>
From: "Norman Diamond" <ndiamond@wta.att.ne.jp>
To: "Sam Ravnborg" <sam@ravnborg.org>
Cc: "Randy.Dunlap" <rddunlap@osdl.org>, <linux-kernel@vger.kernel.org>
References: <1f8801c38f11$da95c410$5cee4ca5@DIAMONDLX60> <20031010073750.001ad559.rddunlap@osdl.org> <242001c38fdf$fb165690$5cee4ca5@DIAMONDLX60> <20031011111328.GB932@mars.ravnborg.org>
Subject: Re: 2.6.0-test7 and HIDBP
Date: Sat, 11 Oct 2003 22:15:50 +0900
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Sam Ravnborg replied to me:

> If there are dofferences between what is shown in xconfig and gconfig,
> then there is a bug in one of the front-ends.
> They use the same back-end - and what they display is based on the same
> input files.

Or maybe there are bugs in both of these front-ends.  I finally thought of
looking at two .config files in text editors, one produced by make xconfig
and one produced by make gconfig.  Both are for kernel 2.6.0-test7 though
the machines and original distros are different.

In the .config generated by make xconfig, the following lines exist:

#
# USB Human Interface Devices (HID)
#
CONFIG_USB_HID=m
CONFIG_USB_HIDINPUT=y
# CONFIG_HID_FF is not set
# CONFIG_USB_HIDDEV is not set

#
# USB HID Boot Protocol drivers
#
# CONFIG_USB_KBD is not set
# CONFIG_USB_MOUSE is not set
# CONFIG_USB_AIPTEK is not set
# CONFIG_USB_WACOM is not set
[...]

OK, aside from making me wonder what HIDDEV refers to and why it isn't set,
and making it rather non-obvious which drivers are HID Boot Protocol and
which aren't, the settings look pretty reasonable to me.

In the .config generated by make gconfig, the following lines exist:

#
# USB Human Interface Devices (HID)
#
CONFIG_USB_HID=y
CONFIG_USB_HIDINPUT=y
# CONFIG_HID_FF is not set
CONFIG_USB_HIDDEV=y
# CONFIG_USB_AIPTEK is not set
# CONFIG_USB_WACOM is not set
[...]

With this file in a text editor, searching for string USB_KBD results in the
string not being found.

