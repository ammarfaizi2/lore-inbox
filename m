Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262192AbTIZNhK (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 26 Sep 2003 09:37:10 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262193AbTIZNhK
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 26 Sep 2003 09:37:10 -0400
Received: from ns.suse.de ([195.135.220.2]:16030 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S262192AbTIZNhH (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 26 Sep 2003 09:37:07 -0400
Date: Fri, 26 Sep 2003 15:37:06 +0200
Message-ID: <s5hhe2z7jst.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Nikola Knezevic <nikkne@gmx.ch>
Cc: linux-kernel@vger.kernel.org
Subject: Re: PROBLEM: ALSA requests module to early, before / is mounted
In-Reply-To: <1409343736.20030926151652@gmx.ch>
References: <1409343736.20030926151652@gmx.ch>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 13) (Rational FORTRAN) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Fri, 26 Sep 2003 15:16:52 +0200,
Nikola Knezevic wrote:
> 
> Hi, I'm really annoyed to see 'No soundcards found.' in logs:)

you didn't build in emu10k1 driver.  so, at that stage, there is
really no available card :)

> Not an expert, but according to logs, ALSA is modprobeing to early, so
> it doesn't load snd-emu10k.

yep, this should be avoided before root is mounted.

>  There is no call for modprobe snd-emu10k1 in
> rc.modules, so after booting I have to call it manually. Yes, I could
> put that call in rc.modules, but isn't it supposed to be called by ALSA?

yes, but only if you set up /etc/modprobe.conf correctly to load the
modules automatically.
at least, you have to specify which card is the first one
(snd-card-0).

i recommend you either to build all ALSA stuffs as modules or to build
them into the kernel.


ciao,

--
Takashi Iwai <tiwai dot suse.de>		ALSA Developer - www.alsa-project.org
