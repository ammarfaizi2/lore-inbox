Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S271433AbTGQLSJ (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 17 Jul 2003 07:18:09 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S271436AbTGQLSJ
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 17 Jul 2003 07:18:09 -0400
Received: from ns.suse.de ([213.95.15.193]:5896 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S271433AbTGQLSE (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Thu, 17 Jul 2003 07:18:04 -0400
Date: Thu, 17 Jul 2003 13:32:57 +0200
Message-ID: <s5hfzl5z8uu.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: ookhoi@humilis.net
Cc: Linux-Kernel <linux-kernel@vger.kernel.org>, eugene.teo@eugeneteo.net
Subject: Re: 2.6 sound drivers?
In-Reply-To: <20030717111958.GB30717@favonius>
References: <20030716225826.GP2412@rdlg.net>
	<20030716231029.GG1821@matchmail.com>
	<20030716233045.GR2412@rdlg.net>
	<1058426808.1164.1518.camel@workshop.saharacpt.lan>
	<20030717085704.GA1381@eugeneteo.net>
	<s5hu19lzevt.wl@alsa2.suse.de>
	<20030717111958.GB30717@favonius>
User-Agent: Wanderlust/2.6.1 (Upside Down) SEMI/1.14.4 (Hosorogi)
 FLIM/1.14.4 (=?ISO-8859-4?Q?Kashiharajing=FE-mae?=) APEL/10.2 MULE
 XEmacs/21.4 (patch 12) (Portable Code) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.4 - "Hosorogi")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Thu, 17 Jul 2003 13:19:58 +0200,
Ookhoi wrote:
> 
> Takashi Iwai wrote (ao):
> > At Thu, 17 Jul 2003 16:57:04 +0800,
> > Eugene Teo wrote:
> > > One thing I noticed abt this ALSA driver is that if I am playing
> > > say, xmms at the moment, any additional sound output will be delayed
> > > until I stop xmms. Is there any workaround? 
> > > 
> > > Using Intel(r) AC'97 Audio Controller - Sigmatel 9723 Codec
> > 
> > the intel chip supports only one stream for playback, so the
> > succeeding open is blocked since ALSA opens the device in the blocking
> > mode as default.  and it's so for OSS-emulation, too.
> > 
> > for the oss-emulation, you can change this behavior via the module
> > option nonblock_open of snd-pcm-oss module.  please check
> > Documentation/sound/alsa/OSS-Emulation.txt.
> 
> Wouldn't esd (the enlightment sound daemon) take care of this in
> userspace? I can have sound out of xmms, firebird, mpg321 and mplayer at
> the same time with esd.

of course, it does.
not only esd but arts can.

also, ALSA provides dmix plugin, which does the similar mixing but
without server process in very low latency.  unfortunately, using dmix
plugin for OSS apps is tricky.


Takashi
