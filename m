Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932087AbWJRFJo@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932087AbWJRFJo (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 18 Oct 2006 01:09:44 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751380AbWJRFJo
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 18 Oct 2006 01:09:44 -0400
Received: from bgerelbas02.asiapac.hp.net ([15.219.201.135]:29394 "EHLO
	bgerelbas02.asiapac.hp.net") by vger.kernel.org with ESMTP
	id S1751377AbWJRFJo (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 18 Oct 2006 01:09:44 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C6F273.8B296158"
Subject: FW: About the request queue of block device
Date: Wed, 18 Oct 2006 10:39:09 +0530
Message-ID: <B57F74065657FA4F85110272279E461B01512327@BGEEXC07.asiapacific.cpqcorp.net>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: About the request queue of block device
Thread-Index: AcbxrgZOziwWFGPQTx+L2hc3KBNF5AAxRt/AAAASjGA=
From: "Palakodeti, Srinivasa Rao (STSD)" <palakodetisrinivasa.rao@hp.com>
To: <linux-kernel@vger.kernel.org>
X-OriginalArrivalTime: 18 Oct 2006 05:09:09.0876 (UTC) FILETIME=[8B4B3340:01C6F273]
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

This is a multi-part message in MIME format.

------_=_NextPart_001_01C6F273.8B296158
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I am using the attached code for Layering floppy drivers.=20

It is not working. I am not able to write anything to floppy. Could you
help me in this? I have attached the file.


Regards,
Srinivas

------_=_NextPart_001_01C6F273.8B296158
Content-Type: application/octet-stream;
	name="InterFloppy.c"
Content-Transfer-Encoding: base64
Content-Description: InterFloppy.c
Content-Disposition: attachment;
	filename="InterFloppy.c"

I2RlZmluZSBNT0RVTEUNCiNkZWZpbmUgX19LRVJORUxfXyANCiNkZWZpbmUgX19OT19WRVJTSU9O
X18NCg0KICAgLy8gTmVlZGVkIGJ5IGFsbCBtb2R1bGVzDQojaW5jbHVkZSA8bGludXgva2VybmVs
Lmg+IA0KI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5oPiANCiNpbmNsdWRlIDxsaW51eC9ibGtkZXYu
aD4NCiAgLy8gTmVlZGVkIGZvciBLRVJOX0FMRVJUDQojaW5jbHVkZSA8bGludXgvc2NoZWQuaD4N
CiNpbmNsdWRlIDxsaW51eC9mcy5oPg0KDQovLyNkZWZpbmUgU0NIRURfWUlFTEQgMQ0Kc3Bpbmxv
Y2tfdCBpb19yZXF1ZXN0X2xvY2sgPSBTUElOX0xPQ0tfVU5MT0NLRUQ7DQovL3R5cGVkZWYgIHN0
cnVjdCBidWZmZXJfaGVhZCAqIHBteV9iX2VuZF9pbzsNCnR5cGVkZWYgdm9pZCAoKmJfZW5kX2lv
MSkoc3RydWN0IGJ1ZmZlcl9oZWFkICpiaCwgaW50IHVwdG9kYXRlKTsgLyogSS9PIGNvbXBsZXRp
b24gKi8NCg0KdHlwZWRlZiBzdHJ1Y3Qgew0Kc3RydWN0IGJ1ZmZlcl9oZWFkICpiaDsNCnZvaWQg
KCpiX2VuZF9pbykoc3RydWN0IGJ1ZmZlcl9oZWFkICpiaCwgaW50IHVwdG9kYXRlKTsgLyogSS9P
IGNvbXBsZXRpb24gKi8NCi8vYl9lbmRfaW8xIGJfZW5kX2lvOw0KDQp9bXlfYl9lbmRfaW8sICog
cG15X2JfZW5kX2lvOw0KDQoNCmFzbWxpbmthZ2Ugdm9pZCBrdGlfYl9lbmRfaW8oc3RydWN0IGJ1
ZmZlcl9oZWFkICpiaCwgaW50IHVwdG9kYXRlKQ0Kew0KaW50IGo7DQoNCnByaW50aygiSW4ga3Rp
X2JfZW5kX2lvIFxuICIpOw0KLy9zdHJ1Y3QgYnVmZmVyX2hlYWQgcHJpdmF0ZTsNCnBteV9iX2Vu
ZF9pbyBwcml2YXRlOw0KDQoNCnByaXZhdGUgPSBiaC0+Yl9wcml2YXRlOw0KYmgtPmJfcHJpdmF0
ZSA9IE5VTEw7DQpiaC0+Yl9lbmRfaW8gPSBwcml2YXRlLT5iX2VuZF9pbzsNCg0KDQppZih1cHRv
ZGF0ZSl7DQpmb3IoaiA9IDA7IGogPCBiaC0+Yl9zaXplOyBqICsrKQ0KYmgtPmJfZGF0YVtqXSBe
PSAweGFhOw0KfQ0KDQoNCmJoLT5iX2VuZF9pbyhiaCwgdXB0b2RhdGUpOw0KDQoNCmtmcmVlKHBy
aXZhdGUpOw0KfQ0KDQoNCmFzbWxpbmthZ2UgaW50ICgqb3JpZ2luYWxfbWFrZV9yZXF1ZXN0X2Zu
KShyZXF1ZXN0X3F1ZXVlX3QgKiBxLCBpbnQgcncsc3RydWN0IGJ1ZmZlcl9oZWFkICpiaCk7DQoN
Cg0KYXNtbGlua2FnZSBwbXlfYl9lbmRfaW8ga3RpX2dldF9wcml2YXRlKHZvaWQpDQp7DQoNCiNp
ZiAxDQpwbXlfYl9lbmRfaW8gcHRyID0gTlVMTDsNCndoaWxlICghcHRyKSB7DQpwdHIgPSAocG15
X2JfZW5kX2lvKWttYWxsb2Moc2l6ZW9mKG15X2JfZW5kX2lvKSwgR0ZQX05PSU8pOw0KaWYoIXB0
cikgew0KX19zZXRfY3VycmVudF9zdGF0ZShUQVNLX1JVTk5JTkcpOw0KY3VycmVudC0+cG9saWN5
IHw9IFNDSEVEX05PUk1BTDsNCnNjaGVkdWxlKCk7DQp9DQoNCn0NCiNlbmRpZiANCg0KcmV0dXJu
IHB0cjsNCn0NCg0KDQphc21saW5rYWdlIGludCBrdGlfbWFrZV9yZXF1ZXN0X2ZuKHJlcXVlc3Rf
cXVldWVfdCAqIHEsIGludCBydywNCnN0cnVjdCBidWZmZXJfaGVhZCAqYmgpDQp7DQppbnQgcmV0
Y29kZTsNCmludCBpOw0KcG15X2JfZW5kX2lvIHByaXZhdGU7DQoNCg0Kc3dpdGNoIChydykgew0K
Y2FzZSBSRUFEQToNCmNhc2UgUkVBRDoNCglwcmludGsoIkluIGt0aV9tYWtlX3JlcXVlc3RfZm4g
cmVhZFxuIik7DQpwcml2YXRlID0ga3RpX2dldF9wcml2YXRlKCk7DQpwcml2YXRlLT5iaCA9IGJo
Ow0KcHJpdmF0ZS0+Yl9lbmRfaW8gPSBiaC0+Yl9lbmRfaW87DQpiaC0+Yl9wcml2YXRlID0gcHJp
dmF0ZTsNCg0KDQpiaC0+Yl9lbmRfaW8gPSBrdGlfYl9lbmRfaW87DQoNCg0KYnJlYWs7DQoNCg0K
Y2FzZSBXUklURToNCi8qDQoJDQoJcHJpbnRrKCJJbiBrdGlfbWFrZV9yZXF1ZXN0X2ZuIHdyaXRl
XG4iKTsNCmZvcihpID0gMDsgaSA8IGJoLT5iX3NpemU7IGkgKyspDQpiaC0+Yl9kYXRhW2ldIF49
IDB4YWE7DQoqLw0KDQpicmVhazsNCn0NCg0KDQpyZXRjb2RlID0gb3JpZ2luYWxfbWFrZV9yZXF1
ZXN0X2ZuKHEsIHJ3LCBiaCk7DQpyZXR1cm4gcmV0Y29kZTsNCn0NCg0KDQppbnQgaW5pdF9tb2R1
bGUoKQ0Kew0KDQoNCnByaW50aygiSW4gSW50ZXJGbG9wcHkgbW9kdWxlIHN0YXJ0IFxuIik7DQpz
cGluX2xvY2tfaXJxKCZpb19yZXF1ZXN0X2xvY2spOw0Kb3JpZ2luYWxfbWFrZV9yZXF1ZXN0X2Zu
ID0gYmxrX2RldlsyXS5yZXF1ZXN0X3F1ZXVlLm1ha2VfcmVxdWVzdF9mbjsNCmJsa19kZXZbMl0u
cmVxdWVzdF9xdWV1ZS5tYWtlX3JlcXVlc3RfZm4gPSBrdGlfbWFrZV9yZXF1ZXN0X2ZuOw0Kc3Bp
bl91bmxvY2tfaXJxKCZpb19yZXF1ZXN0X2xvY2spOw0KcHJpbnRrKCJJbiBJbnRlckZsb3BweSBt
b2R1bGUgZW5kIFxuIik7DQoNCnJldHVybiAwOw0KfQ0KDQoNCnZvaWQgY2xlYW51cF9tb2R1bGUo
KQ0Kew0KcHJpbnRrKCJDbGVhbiBJbnRlckZsb3BweSBtb2R1bGUgc3RhcnQgXG4iKTsNCnNwaW5f
bG9ja19pcnEoJmlvX3JlcXVlc3RfbG9jayk7DQpibGtfZGV2WzJdLnJlcXVlc3RfcXVldWUubWFr
ZV9yZXF1ZXN0X2ZuID0gb3JpZ2luYWxfbWFrZV9yZXF1ZXN0X2ZuOw0Kc3Bpbl91bmxvY2tfaXJx
KCZpb19yZXF1ZXN0X2xvY2spOw0KcHJpbnRrKCJDbGVhbiBJbnRlckZsb3BweSBtb2R1bGUgZW5k
IFxuIik7DQp9DQoNCg==

------_=_NextPart_001_01C6F273.8B296158--
