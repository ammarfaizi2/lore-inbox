Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932876AbWAORyy@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932876AbWAORyy (ORCPT <rfc822;willy@w.ods.org>);
	Sun, 15 Jan 2006 12:54:54 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932878AbWAORyx
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Sun, 15 Jan 2006 12:54:53 -0500
Received: from smtp111.sbc.mail.re2.yahoo.com ([68.142.229.94]:5497 "HELO
	smtp111.sbc.mail.re2.yahoo.com") by vger.kernel.org with SMTP
	id S932876AbWAORyx (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Sun, 15 Jan 2006 12:54:53 -0500
From: Dmitry Torokhov <dtor_core@ameritech.net>
To: Philip Lawatsch <philip@lawatsch.at>
Subject: Re: generating keyboard events from userspace
Date: Sun, 15 Jan 2006 12:54:48 -0500
User-Agent: KMail/1.9.1
Cc: linux-kernel@vger.kernel.org
References: <43CA7F13.6000807@lawatsch.at>
In-Reply-To: <43CA7F13.6000807@lawatsch.at>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200601151254.49223.dtor_core@ameritech.net>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Sunday 15 January 2006 11:57, Philip Lawatsch wrote:
> Hi,
> 
> I'm currently writing an userspace application (with libusb) which 
> handles the LCD display on a logitech g15 keyboard.
> 
> This keyboard consists of two usb devices + a usb hub. One device is the 
> normal keyboard and the other device is the lcd + the special keys.
> Both devices get detected by the usb-hid driver.
> 
> Now the problem is that in order to access the lcd from userspace I have 
> to detach usb-hid driver from the interface so I can use it. (Or, I'd 
> have to write a driver for it which I'd like to avoid).
> 
> So, is there any way to "inject" events generated by pressing the keys 
> on the device I'm handling myself back into the whole system from userspace?
> 
> I'd really like to avoid writing a kernel mode driver for this.
> 
> Any help would be appreciated (even redirecting me to a more suitable 
> mailing list, I didn't find any)
> 

You need uinput driver (drivers/input/misc/uinput.c)

-- 
Dmitry
