Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S288921AbSBIXqf>; Sat, 9 Feb 2002 18:46:35 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S288897AbSBIXq1>; Sat, 9 Feb 2002 18:46:27 -0500
Received: from cpe-24-221-152-185.az.sprintbbd.net ([24.221.152.185]:42625
	"EHLO opus.bloom.county") by vger.kernel.org with ESMTP
	id <S288896AbSBIXqV>; Sat, 9 Feb 2002 18:46:21 -0500
Date: Sat, 9 Feb 2002 16:45:55 -0700
From: Tom Rini <trini@kernel.crashing.org>
To: Larry McVoy <lm@work.bitmover.com>, David Lang <dlang@diginsite.com>,
        Larry McVoy <lm@bitmover.com>, Patrick Mochel <mochel@osdl.org>,
        linux-kernel@vger.kernel.org
Subject: Re: [bk patch] Make cardbus compile in -pre4
Message-ID: <20020209234555.GG872@opus.bloom.county>
In-Reply-To: <20020209090527.B13735@work.bitmover.com> <Pine.LNX.4.44.0202091258110.25220-100000@dlang.diginsite.com> <20020209134132.J13735@work.bitmover.com> <20020209163603.B9826@lynx.turbolabs.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20020209163603.B9826@lynx.turbolabs.com>
User-Agent: Mutt/1.3.27i
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Sat, Feb 09, 2002 at 04:36:03PM -0700, Andreas Dilger wrote:
 
> One thing that I've noticed (got my first linux-2.5 clone last night) is
> that the kernel build process is somewhat broken by the fact that not
> everything that you need to build is checked out of the repository by
> make.
> 
> It appears to handle .c files ok, but it failed for all of the .h files.
> I take it this means that gcc doesn't know anything about SCCS, and it
> would also appear that make is not properly checking dependencies for
> these files, or it would have checked them out, right?

It's a 'feature' of the dependancy setup of the kernel.  bk -r get -q
will checkout all of the files everywhere, and the build _should_ work
(there's been times autogenerated files were in the kernel and thus
broke building from a bk repo).

> Also, things like "make menuconfig" and such also fail (because they are
> doing stuff within scripts that have no concept of SCCS or BK).  Will
> the new kernel build system take any of this into account?

I don't think they do now, but it wouldn't be too hard I'd think.  If of
course the files needed to build/run the tools get checked out :)

> I would prefer if we only checked out as much as we need (instead of
> doing something like 'bk -r edit' which will use up a lot of space in
> each clone for architectures and drivers which I don't need).

Don't -r edit, -r get.  You can go and selectively clean out some dirs,
but in short, no.

-- 
Tom Rini (TR1265)
http://gate.crashing.org/~trini/
