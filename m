Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S264546AbTLCL30 (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 3 Dec 2003 06:29:26 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S264549AbTLCL30
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 3 Dec 2003 06:29:26 -0500
Received: from ns.suse.de ([195.135.220.2]:38310 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S264546AbTLCL3C (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Wed, 3 Dec 2003 06:29:02 -0500
Date: Wed, 03 Dec 2003 12:29:01 +0100
Message-ID: <s5hd6b6cf7m.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: trelane@digitasaru.net
Cc: linux-kernel@vger.kernel.org
Subject: Re: vanilla 2.6.0-test11 and CS4236 card
In-Reply-To: <20031203031749.GB27034@digitasaru.net>
References: <20031202170637.GD5475@digitasaru.net>
	<s5hsmk3ceia.wl@alsa2.suse.de>
	<20031203031749.GB27034@digitasaru.net>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 13) (Rational FORTRAN) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi,

At Tue, 2 Dec 2003 21:17:51 -0600,
Joseph Pingenot wrote:
> 
> THE BAD NEWS:
> -------------
> 
> Both times (with your patch and with isapnp), I had the following problems:
>   a) xmms wouldn't talk straight to the card even after selecting the alsa
>        output plugin

what was the error exactly?

>   b) I started esd (the alsa version) and then told xmms to talk to esd.
>        It worked out well for a couple of seconds, but then it crashed
>        (both with your patch and with the manually activated (isapnp) one)
>        
>        It crashed HARD.

oh, that's bad.

>        It crashed so hard that it wiped out some files, like apt, I presume
>          when it was cleaning "orphans" in /; the net result is that my
> 	 box is semi-hosed, since things like tr and apt-get and route
> 	 are now full of '\0' characters instead of their actual contents.
> 
> Sound played for about a second, then the machine hung hard (I don't think
>   that the Magic SysRq keys even did anything), and the last couple of
>   tenths of a second of sound just repeated over and over and over until
>   I hit reset.  I don't have an oops; it was highly hosed.
> 
> When I can pull my system back together, I can try again.  Please help
>   me find this new bug, so that the cs4236 driver is safe for other
>   Dell P410 users!  :)

i'm puzzled because cs4236's pcm code is basically identical with
cs4231, and cs4232 seems working (at least the last time i tested).
anyway, please show the kernel config and check any other apps do
similar oops / crash.


--
Takashi Iwai <tiwai@suse.de>		ALSA Developer - www.alsa-project.org
