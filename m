Return-Path: <linux-kernel-owner+w=401wt.eu-S1751013AbXADTW3@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751013AbXADTW3 (ORCPT <rfc822;w@1wt.eu>);
	Thu, 4 Jan 2007 14:22:29 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751017AbXADTW3
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 4 Jan 2007 14:22:29 -0500
Received: from zeniv.linux.org.uk ([195.92.253.2]:56267 "EHLO
	ZenIV.linux.org.uk" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1751012AbXADTW1 (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Thu, 4 Jan 2007 14:22:27 -0500
Date: Thu, 4 Jan 2007 19:22:23 +0000
From: Al Viro <viro@ftp.linux.org.uk>
To: Linus Torvalds <torvalds@osdl.org>
Cc: Andrew Morton <akpm@osdl.org>, Eric Sandeen <sandeen@redhat.com>,
       Linux Kernel Mailing List <linux-kernel@vger.kernel.org>,
       Al Viro <viro@zeniv.linux.org.uk>
Subject: Re: [UPDATED PATCH] fix memory corruption from misinterpreted bad_inode_ops return values
Message-ID: <20070104192223.GX17561@ftp.linux.org.uk>
References: <459C4038.6020902@redhat.com> <20070103162643.5c479836.akpm@osdl.org> <459D3E8E.7000405@redhat.com> <20070104102659.8c61d510.akpm@osdl.org> <459D4897.4020408@redhat.com> <20070104105430.1de994a7.akpm@osdl.org> <Pine.LNX.4.64.0701041104021.3661@woody.osdl.org> <20070104191451.GW17561@ftp.linux.org.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20070104191451.GW17561@ftp.linux.org.uk>
User-Agent: Mutt/1.4.1i
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Thu, Jan 04, 2007 at 07:14:51PM +0000, Al Viro wrote:
> On Thu, Jan 04, 2007 at 11:09:31AM -0800, Linus Torvalds wrote:
>  
> > But I'd argue we should only do it if there is an actual 
> > honest-to-goodness reason to do so.
> 
> How about "makes call graph analysis easier"? ;-)  In principle, I have
> no problem with force-casting, but it'd better be cast to the right
> type...
> 
> (And yes, there's a bunch of sparse-based fun in making dealing with
> call graph analysis and sane annotations needed for that).

PS: what would be the sane strategy for timer series merge, BTW?  It
touches a whole lot of files in rather trivial ways (see below for current
stat), but it's gradually mergable and after the first 4 chunks the rest
can go in independently (per-driver, if we want to go for insane length,
but most of those will be absolutely trivial and I'd rather lump them
into bigger groups).  And those 4 chunks in the beginning of series are
safe to merge at any point - result in guaranteed to be identical code...

 arch/alpha/kernel/srmcons.c                    |    8 +--
 arch/arm/common/sharpsl_pm.c                   |   10 ++--
 arch/arm/mach-iop32x/n2100.c                   |    5 +-
 arch/arm/mach-pxa/lubbock.c                    |   12 ++---
 arch/i386/kernel/time.c                        |    6 +-
 arch/i386/kernel/tsc.c                         |    5 +-
 arch/i386/mach-voyager/voyager_thread.c        |    5 +-
 arch/ia64/kernel/mca.c                         |   12 ++---
 arch/ia64/kernel/salinfo.c                     |    5 +-
 arch/ia64/sn/kernel/bte.c                      |    7 +--
 arch/ia64/sn/kernel/bte_error.c                |   17 ++----
 arch/ia64/sn/kernel/huberror.c                 |    2 -
 arch/ia64/sn/kernel/mca.c                      |    5 +-
 arch/ia64/sn/kernel/xpc_channel.c              |    4 --
 arch/ia64/sn/kernel/xpc_main.c                 |   18 ++-----
 arch/mips/lasat/picvue_proc.c                  |    5 +-
 arch/mips/sgi-ip22/ip22-reset.c                |   20 +++-----
 arch/mips/sgi-ip32/ip32-reset.c                |   10 ++--
 arch/powerpc/oprofile/op_model_cell.c          |    6 +-
 arch/powerpc/platforms/chrp/chrp.h             |    2 -
 arch/powerpc/platforms/chrp/setup.c            |    4 +-
 arch/powerpc/platforms/powermac/low_i2c.c      |    7 +--
 arch/ppc/syslib/m8xx_wdt.c                     |   10 ++--
 arch/s390/mm/cmm.c                             |   23 +++------
 arch/sh/drivers/push-switch.c                  |    9 +--
 arch/um/drivers/net_kern.c                     |    7 +--
 arch/x86_64/kernel/pci-calgary.c               |    7 +--
 arch/xtensa/platform-iss/console.c             |   10 +---
 arch/xtensa/platform-iss/network.c             |   13 ++---
 block/as-iosched.c                             |    7 +--
 block/cfq-iosched.c                            |   15 ++----
 block/ll_rw_blk.c                              |    9 +--
 drivers/acpi/sbs.c                             |    7 +--
 drivers/acpi/thermal.c                         |   26 +++-------
 drivers/atm/ambassador.c                       |   10 +---
 drivers/atm/firestream.c                       |   10 +---
 drivers/atm/horizon.c                          |   11 +---
 drivers/atm/idt77252.c                         |   14 ++---
 drivers/atm/lanai.c                            |    7 +--
 drivers/atm/nicstar.c                          |    8 +--
 drivers/atm/suni.c                             |    8 +--
 drivers/base/firmware_class.c                  |   11 ----
 drivers/block/DAC960.c                         |    8 +--
 drivers/block/DAC960.h                         |    2 -
 drivers/block/cpqarray.c                       |   10 +---
 drivers/block/swim3.c                          |   43 +++++-----------
 drivers/block/ub.c                             |   22 ++------
 drivers/block/umem.c                           |    5 +-
 drivers/block/xd.c                             |    4 +-
 drivers/block/xd.h                             |    2 -
 drivers/bluetooth/bluecard_cs.c                |    7 +--
 drivers/bluetooth/hci_bcsp.c                   |    7 +--
 drivers/cdrom/aztcd.c                          |   10 ++--
 drivers/cdrom/cdu31a.c                         |    5 +-
 drivers/cdrom/cm206.c                          |   11 ++--
 drivers/char/drm/via_dmablit.c                 |    7 +--
 drivers/char/dtlk.c                            |    7 +--
 drivers/char/epca.c                            |    7 +--
 drivers/char/genrtc.c                          |    7 +--
 drivers/char/ip2/i2ellis.c                     |    8 +--
 drivers/char/ip2/i2lib.c                       |    9 +--
 drivers/char/ipmi/ipmi_msghandler.c            |    4 +-
 drivers/char/ipmi/ipmi_si_intf.c               |    5 +-
 drivers/char/moxa.c                            |   21 +++-----
 drivers/char/mspec.c                           |    2 -
 drivers/char/n_r3964.c                         |    9 +--
 drivers/char/nwbutton.c                        |   12 ++---
 drivers/char/pcmcia/cm4000_cs.c                |    7 +--
 drivers/char/pcmcia/cm4040_cs.c                |    7 +--
 drivers/char/pcmcia/synclink_cs.c              |    9 +--
 drivers/char/rocket.c                          |    5 +-
 drivers/char/rtc.c                             |    7 +--
 drivers/char/scan_keyb.c                       |   12 +----
 drivers/char/specialix.c                       |   18 ++-----
 drivers/char/sx.c                              |    6 +-
 drivers/char/synclink.c                        |    9 +--
 drivers/char/synclink_gt.c                     |   19 ++-----
 drivers/char/synclinkmp.c                      |   24 +++------
 drivers/char/tpm/tpm.c                         |    8 +--
 drivers/char/vt.c                              |    7 +--
 drivers/char/watchdog/alim7101_wdt.c           |    8 +--
 drivers/char/watchdog/cpu5wdt.c                |    6 +-
 drivers/char/watchdog/ep93xx_wdt.c             |    4 +-
 drivers/char/watchdog/machzwd.c                |    6 +-
 drivers/char/watchdog/mixcomwd.c               |    6 +-
 drivers/char/watchdog/pcwd.c                   |    6 +-
 drivers/char/watchdog/sbc60xxwdt.c             |    8 +--
 drivers/char/watchdog/sc520_wdt.c              |    8 +--
 drivers/char/watchdog/shwdt.c                  |    6 +-
 drivers/char/watchdog/softdog.c                |    7 +--
 drivers/char/watchdog/w83877f_wdt.c            |    8 +--
 drivers/fc4/fc.c                               |   21 ++------
 drivers/hwmon/hdaps.c                          |    5 +-
 drivers/i2c/busses/i2c-pnx.c                   |    7 +--
 drivers/ide/ide-io.c                           |    3 -
 drivers/ide/ide-probe.c                        |    4 --
 drivers/ide/legacy/hd.c                        |    5 +-
 drivers/ieee1394/hosts.c                       |    4 --
 drivers/ieee1394/ieee1394_core.c               |    3 -
 drivers/ieee1394/ieee1394_core.h               |    2 -
 drivers/infiniband/hw/ehca/ehca_iverbs.h       |    2 -
 drivers/infiniband/hw/ehca/ehca_main.c         |    5 +-
 drivers/infiniband/hw/ipath/ipath_init_chip.c  |    4 --
 drivers/infiniband/hw/ipath/ipath_kernel.h     |    2 -
 drivers/infiniband/hw/ipath/ipath_stats.c      |    3 -
 drivers/infiniband/hw/ipath/ipath_verbs.c      |    8 +--
 drivers/infiniband/hw/mthca/mthca_catas.c      |    7 +--
 drivers/input/ff-memless.c                     |    5 +-
 drivers/input/gameport/gameport.c              |    8 +--
 drivers/input/joystick/db9.c                   |    7 +--
 drivers/input/joystick/gamecon.c               |    8 +--
 drivers/input/joystick/turbografx.c            |    7 +--
 drivers/input/keyboard/corgikbd.c              |   20 +-------
 drivers/input/keyboard/locomokbd.c             |   13 -----
 drivers/input/keyboard/omap-keypad.c           |    5 +-
 drivers/input/keyboard/spitzkbd.c              |   21 +-------
 drivers/input/serio/hil_mlc.c                  |    6 +-
 drivers/input/serio/hp_sdc.c                   |    6 +-
 drivers/input/touchscreen/ads7846.c            |    7 +--
 drivers/input/touchscreen/corgi_ts.c           |    8 +--
 drivers/isdn/act2000/module.c                  |    7 +--
 drivers/isdn/capi/capidrv.c                    |    7 +--
 drivers/isdn/divert/isdn_divert.c              |   11 +---
 drivers/isdn/gigaset/bas-gigaset.c             |   18 ++-----
 drivers/isdn/gigaset/common.c                  |    5 +-
 drivers/isdn/hardware/eicon/divasi.c           |   10 +---
 drivers/isdn/hisax/amd7930_fn.c                |    4 --
 drivers/isdn/hisax/arcofi.c                    |    4 --
 drivers/isdn/hisax/diva.c                      |    4 --
 drivers/isdn/hisax/elsa.c                      |    4 --
 drivers/isdn/hisax/fsm.c                       |    4 --
 drivers/isdn/hisax/hfc4s8s_l1.c                |    4 --
 drivers/isdn/hisax/hfc_2bds0.c                 |    4 --
 drivers/isdn/hisax/hfc_pci.c                   |    8 +--
 drivers/isdn/hisax/hfc_sx.c                    |    8 +--
 drivers/isdn/hisax/hfc_usb.c                   |    8 +--
 drivers/isdn/hisax/hfcscard.c                  |    4 --
 drivers/isdn/hisax/icc.c                       |    4 --
 drivers/isdn/hisax/ipacx.c                     |    4 --
 drivers/isdn/hisax/isac.c                      |    4 --
 drivers/isdn/hisax/isar.c                      |    8 +--
 drivers/isdn/hisax/isdnl3.c                    |    4 --
 drivers/isdn/hisax/saphir.c                    |    4 --
 drivers/isdn/hisax/teleint.c                   |    4 --
 drivers/isdn/hisax/w6692.c                     |    4 --
 drivers/isdn/i4l/isdn_common.c                 |    6 +-
 drivers/isdn/i4l/isdn_net.c                    |    7 +--
 drivers/isdn/i4l/isdn_ppp.c                    |   11 +---
 drivers/isdn/i4l/isdn_tty.c                    |    7 +--
 drivers/isdn/isdnloop/isdnloop.c               |   28 +++--------
 drivers/isdn/pcbit/drv.c                       |   11 +---
 drivers/isdn/pcbit/layer2.c                    |   15 ++----
 drivers/isdn/sc/command.c                      |    6 +-
 drivers/isdn/sc/interrupt.c                    |    6 +-
 drivers/isdn/sc/timer.c                        |   64 ++++++++++++------------
 drivers/leds/ledtrig-heartbeat.c               |    8 +--
 drivers/leds/ledtrig-timer.c                   |    7 +--
 drivers/macintosh/smu.c                        |   10 ++--
 drivers/md/md.c                                |   18 +++----
 drivers/media/common/saa7146_fops.c            |    3 -
 drivers/media/common/saa7146_vbi.c             |   11 +---
 drivers/media/common/saa7146_video.c           |    4 --
 drivers/media/dvb/dvb-core/dmxdev.c            |    8 +--
 drivers/media/radio/radio-cadet.c              |    9 +--
 drivers/media/video/bt8xx/bttv-driver.c        |    7 +--
 drivers/media/video/bt8xx/bttv-input.c         |   23 ++-------
 drivers/media/video/cx88/cx88-input.c          |    8 +--
 drivers/media/video/cx88/cx88-mpeg.c           |    8 +--
 drivers/media/video/cx88/cx88-vbi.c            |    3 -
 drivers/media/video/cx88/cx88-video.c          |   11 +---
 drivers/media/video/cx88/cx88.h                |    2 -
 drivers/media/video/ir-kbd-i2c.c               |    7 +--
 drivers/media/video/pvrusb2/pvrusb2-hdw.c      |    7 +--
 drivers/media/video/saa6588.c                  |    8 +--
 drivers/media/video/saa7134/saa7134-core.c     |    3 -
 drivers/media/video/saa7134/saa7134-input.c    |    7 +--
 drivers/media/video/saa7134/saa7134-ts.c       |    4 --
 drivers/media/video/saa7134/saa7134-vbi.c      |    4 --
 drivers/media/video/saa7134/saa7134-video.c    |    4 --
 drivers/media/video/saa7134/saa7134.h          |    2 -
 drivers/media/video/tvaudio.c                  |    7 +--
 drivers/media/video/usbvision/usbvision-core.c |   10 +---
 drivers/media/video/vivi.c                     |    7 +--
 drivers/message/fusion/mptbase.c               |   14 ++---
 drivers/message/fusion/mptfc.c                 |    4 --
 drivers/message/fusion/mptsas.c                |    4 --
 drivers/message/fusion/mptscsih.c              |    4 --
 drivers/message/fusion/mptscsih.h              |    2 -
 drivers/message/fusion/mptspi.c                |    4 --
 drivers/mmc/au1xmmc.c                          |    8 +--
 drivers/mmc/imxmmc.c                           |    9 +--
 drivers/mmc/mmci.c                             |    7 +--
 drivers/mmc/omap.c                             |   16 ++----
 drivers/mmc/sdhci.c                            |    7 +--
 drivers/mmc/wbsd.c                             |    8 +--
 drivers/net/3c515.c                            |   10 +---
 drivers/net/3c59x.c                            |   18 ++-----
 drivers/net/a2065.c                            |    5 --
 drivers/net/amd8111e.c                         |    4 --
 drivers/net/appletalk/cops.c                   |   10 +---
 drivers/net/appletalk/ltpc.c                   |    8 +--
 drivers/net/arm/am79c961a.c                    |    7 +--
 drivers/net/arm/at91_ether.c                   |   10 +---
 drivers/net/arm/ether3.c                       |    7 +--
 drivers/net/atp.c                              |    9 +--
 drivers/net/b44.c                              |    8 +--
 drivers/net/bmac.c                             |    9 +--
 drivers/net/bnx2.c                             |    7 +--
 drivers/net/bonding/bond_main.c                |   23 ++++-----
 drivers/net/bonding/bond_sysfs.c               |   24 +++------
 drivers/net/cassini.c                          |    7 +--
 drivers/net/chelsio/sge.c                      |   23 ++++-----
 drivers/net/cris/eth_v10.c                     |   34 +++++--------
 drivers/net/declance.c                         |   11 ----
 drivers/net/dl2k.c                             |    9 +--
 drivers/net/dm9000.c                           |    9 +--
 drivers/net/e100.c                             |   14 ++---
 drivers/net/e1000/e1000_ethtool.c              |   14 ++---
 drivers/net/e1000/e1000_main.c                 |   29 +++--------
 drivers/net/eepro100.c                         |    9 +--
 drivers/net/epic100.c                          |    9 +--
 drivers/net/eql.c                              |    7 +--
 drivers/net/fealnx.c                           |   20 ++------
 drivers/net/fec_8xx/fec_mii.c                  |   14 ++---
 drivers/net/forcedeth.c                        |   34 +++----------
 drivers/net/hamachi.c                          |   12 ++---
 drivers/net/hamradio/6pack.c                   |   40 ++++-----------
 drivers/net/hamradio/scc.c                     |   61 +++++++++--------------
 drivers/net/hamradio/yam.c                     |   14 ++---
 drivers/net/ibm_emac/ibm_emac_core.c           |    7 +--
 drivers/net/ioc3-eth.c                         |    8 +--
 drivers/net/irda/irda-usb.c                    |    8 +--
 drivers/net/iseries_veth.c                     |   19 ++-----
 drivers/net/ixgb/ixgb_ethtool.c                |   14 ++---
 drivers/net/ixgb/ixgb_main.c                   |    9 +--
 drivers/net/ixp2000/enp2611.c                  |    5 +-
 drivers/net/mace.c                             |   20 ++------
 drivers/net/mv643xx_eth.c                      |   19 -------
 drivers/net/myri10ge/myri10ge.c                |    9 +--
 drivers/net/natsemi.c                          |    9 +--
 drivers/net/netxen/netxen_nic_main.c           |   11 +---
 drivers/net/ns83820.c                          |    7 +--
 drivers/net/pci-skeleton.c                     |    9 +--
 drivers/net/pcmcia/3c574_cs.c                  |    9 +--
 drivers/net/pcmcia/3c589_cs.c                  |    9 +--
 drivers/net/pcmcia/axnet_cs.c                  |    9 +--
 drivers/net/pcmcia/pcnet_cs.c                  |    9 +--
 drivers/net/pcmcia/smc91c92_cs.c               |    9 +--
 drivers/net/pcnet32.c                          |   11 +---
 drivers/net/phy/phy.c                          |    9 +--
 drivers/net/qla3xxx.c                          |    8 +--
 drivers/net/r8169.c                            |    7 +--
 drivers/net/rrunner.c                          |    7 +--
 drivers/net/s2io.c                             |   18 ++-----
 drivers/net/s2io.h                             |    2 -
 drivers/net/sb1250-mac.c                       |    9 +--
 drivers/net/shaper.c                           |    8 +--
 drivers/net/sis190.c                           |    7 +--
 drivers/net/sis900.c                           |    9 +--
 drivers/net/sk98lin/skethtool.c                |    3 -
 drivers/net/sk98lin/skge.c                     |    6 +-
 drivers/net/sky2.c                             |    5 +-
 drivers/net/slip.c                             |   20 ++------
 drivers/net/spider_net.c                       |    5 --
 drivers/net/sunbmac.c                          |    8 +--
 drivers/net/sundance.c                         |    9 +--
 drivers/net/sungem.c                           |    7 +--
 drivers/net/sunhme.c                           |    9 +--
 drivers/net/sunlance.c                         |   11 ----
 drivers/net/tg3.c                              |    8 +--
 drivers/net/tokenring/ibmtr.c                  |   22 +++-----
 drivers/net/tokenring/tms380tr.c               |   19 +++----
 drivers/net/tsi108_eth.c                       |    7 +--
 drivers/net/tulip/de2104x.c                    |   16 ++----
 drivers/net/tulip/de4x5.c                      |   16 ++----
 drivers/net/tulip/dmfe.c                       |    9 +--
 drivers/net/tulip/interrupt.c                  |    3 -
 drivers/net/tulip/pnic.c                       |    3 -
 drivers/net/tulip/pnic2.c                      |    3 -
 drivers/net/tulip/timer.c                      |    6 +-
 drivers/net/tulip/tulip.h                      |   12 ++---
 drivers/net/tulip/tulip_core.c                 |   15 ++----
 drivers/net/tulip/uli526x.c                    |    9 +--
 drivers/net/tulip/winbond-840.c                |    9 +--
 drivers/net/ucc_geth.c                         |   14 ++---
 drivers/net/ucc_geth_phy.c                     |    7 +--
 drivers/net/wan/cycx_x25.c                     |   11 ++--
 drivers/net/wan/dscc4.c                        |    8 +--
 drivers/net/wan/hdlc_cisco.c                   |    9 +--
 drivers/net/wan/hdlc_fr.c                      |    9 +--
 drivers/net/wan/lmc/lmc_main.c                 |    8 +--
 drivers/net/wan/sbni.c                         |   11 +---
 drivers/net/wan/sdla.c                         |   12 +----
 drivers/net/wan/syncppp.c                      |   15 ++----
 drivers/net/wireless/arlan-main.c              |    7 +--
 drivers/net/wireless/atmel.c                   |    9 +--
 drivers/net/wireless/bcm43xx/bcm43xx_leds.c    |    5 +-
 drivers/net/wireless/hostap/hostap_ap.c        |    7 +--
 drivers/net/wireless/hostap/hostap_hw.c        |   24 +++------
 drivers/net/wireless/ray_cs.c                  |   56 ++++++++-------------
 drivers/net/wireless/strip.c                   |    8 +--
 drivers/net/yellowfin.c                        |    9 +--
 drivers/parport/ieee1284.c                     |   15 +-----
 drivers/pci/hotplug/cpqphp.h                   |    2 -
 drivers/pci/hotplug/cpqphp_core.c              |    3 -
 drivers/pci/hotplug/cpqphp_ctrl.c              |   18 +++----
 drivers/pci/hotplug/pciehp_ctrl.c              |   27 +++++-----
 drivers/pci/hotplug/pciehp_hpc.c               |   10 +---
 drivers/pci/hotplug/shpchp_hpc.c               |   14 ++---
 drivers/pcmcia/au1000_generic.c                |   10 +---
 drivers/pcmcia/i82365.c                        |    6 +-
 drivers/pcmcia/m32r_cfc.c                      |   10 +---
 drivers/pcmcia/m32r_pcc.c                      |   10 +---
 drivers/pcmcia/omap_cf.c                       |   11 ++--
 drivers/pcmcia/pd6729.c                        |   10 +---
 drivers/pcmcia/soc_common.c                    |   10 +---
 drivers/pcmcia/tcic.c                          |    8 +--
 drivers/pcmcia/yenta_socket.c                  |   10 +---
 drivers/rtc/rtc-dev.c                          |    5 +-
 drivers/s390/block/dasd.c                      |   27 +++-------
 drivers/s390/char/con3215.c                    |    7 +--
 drivers/s390/char/con3270.c                    |   18 ++-----
 drivers/s390/char/sclp.c                       |   29 ++++++-----
 drivers/s390/char/sclp_con.c                   |    7 +--
 drivers/s390/char/sclp_tty.c                   |    7 +--
 drivers/s390/char/sclp_vt220.c                 |    6 +-
 drivers/s390/char/tape_std.c                   |    8 +--
 drivers/s390/char/tty3270.c                    |    9 +--
 drivers/s390/cio/device_fsm.c                  |    8 +--
 drivers/s390/crypto/ap_bus.c                   |    6 +-
 drivers/s390/net/claw.c                        |   10 +---
 drivers/s390/net/fsm.c                         |   12 +----
 drivers/s390/net/lcs.c                         |    9 +--
 drivers/s390/net/qeth_main.c                   |    9 +--
 drivers/s390/scsi/zfcp_erp.c                   |   23 +++------
 drivers/sbus/char/cpwatchdog.c                 |   19 ++-----
 drivers/scsi/aha152x.c                         |    7 +--
 drivers/scsi/aic94xx/aic94xx_hwi.c             |    3 -
 drivers/scsi/aic94xx/aic94xx_hwi.h             |    2 -
 drivers/scsi/aic94xx/aic94xx_scb.c             |    3 -
 drivers/scsi/aic94xx/aic94xx_tmf.c             |   20 +++-----
 drivers/scsi/arm/fas216.c                      |    8 +--
 drivers/scsi/dc395x.c                          |   18 ++-----
 drivers/scsi/gdth.c                            |    6 +-
 drivers/scsi/gdth_proc.c                       |   13 +----
 drivers/scsi/ipr.c                             |   11 ++--
 drivers/scsi/libiscsi.c                        |    6 +-
 drivers/scsi/lpfc/lpfc_crtn.h                  |   12 ++---
 drivers/scsi/lpfc/lpfc_ct.c                    |    3 -
 drivers/scsi/lpfc/lpfc_els.c                   |   10 +---
 drivers/scsi/lpfc/lpfc_hbadisc.c               |    7 +--
 drivers/scsi/lpfc/lpfc_init.c                  |   29 +++--------
 drivers/scsi/lpfc/lpfc_scsi.c                  |    3 -
 drivers/scsi/lpfc/lpfc_sli.c                   |    4 --
 drivers/scsi/megaraid/megaraid_mbox.c          |    7 +--
 drivers/scsi/megaraid/megaraid_mm.c            |   12 +----
 drivers/scsi/ncr53c8xx.c                       |    7 +--
 drivers/scsi/pluto.c                           |    4 +-
 drivers/scsi/qla1280.c                         |   14 ++---
 drivers/scsi/qla2xxx/qla_mbx.c                 |    8 +--
 drivers/scsi/qla2xxx/qla_os.c                  |    8 +--
 drivers/scsi/qla4xxx/ql4_os.c                  |    7 +--
 drivers/scsi/scsi.c                            |    4 +-
 drivers/scsi/scsi_debug.c                      |   15 +-----
 drivers/scsi/scsi_error.c                      |   46 +----------------
 drivers/scsi/scsi_priv.h                       |    2 -
 drivers/scsi/sym53c8xx_2/sym_glue.c            |    7 +--
 drivers/serial/8250.c                          |    7 +--
 drivers/serial/crisv10.c                       |    5 +-
 drivers/serial/imx.c                           |    7 +--
 drivers/serial/m32r_sio.c                      |    7 +--
 drivers/serial/mcfserial.c                     |    6 +-
 drivers/serial/mux.c                           |    5 +-
 drivers/serial/sa1100.c                        |   18 +++----
 drivers/serial/sh-sci.c                        |   29 +++++------
 drivers/serial/sn_console.c                    |    7 +--
 drivers/telephony/ixj.c                        |   12 ++---
 drivers/usb/atm/cxacru.c                       |    8 +--
 drivers/usb/atm/usbatm.c                       |    8 +--
 drivers/usb/core/hcd.c                         |    8 +--
 drivers/usb/gadget/dummy_hcd.c                 |    7 +--
 drivers/usb/gadget/omap_udc.c                  |    7 +--
 drivers/usb/gadget/pxa2xx_udc.c                |    8 +--
 drivers/usb/gadget/zero.c                      |    7 +--
 drivers/usb/host/ehci-hcd.c                    |    7 +--
 drivers/usb/host/hc_crisv10.c                  |   20 +++-----
 drivers/usb/host/sl811-hcd.c                   |    8 +--
 drivers/usb/host/uhci-hcd.c                    |    3 -
 drivers/usb/host/uhci-q.c                      |    3 -
 drivers/usb/input/hid-core.c                   |    5 +-
 drivers/usb/net/catc.c                         |    7 +--
 drivers/usb/net/usbnet.c                       |    9 +--
 drivers/usb/serial/garmin_gps.c                |    8 +--
 drivers/video/aty/radeon_base.c                |    8 +--
 drivers/video/console/fbcon.c                  |    7 +--
 drivers/video/pmag-aa-fb.c                     |    7 +--
 drivers/video/sun3fb.c                         |    8 +--
 fs/aio.c                                       |    8 +--
 fs/dlm/recover.c                               |    7 +--
 fs/jbd/journal.c                               |    7 +--
 fs/jbd2/journal.c                              |    6 +-
 fs/ncpfs/inode.c                               |    5 +-
 fs/ncpfs/sock.c                                |    4 --
 fs/ocfs2/cluster/tcp.c                         |    9 +--
 include/asm-alpha/atomic.h                     |    4 +-
 include/asm-ia64/atomic.h                      |    4 +-
 include/asm-ia64/sn/bte.h                      |    3 +
 include/linux/ide.h                            |    2 -
 include/linux/ncp_fs_sb.h                      |    2 -
 include/linux/timer.h                          |   41 ++++++++++++---
 include/media/saa7146_vv.h                     |    2 -
 include/net/ieee80211_crypt.h                  |    2 -
 include/net/inet_connection_sock.h             |    6 +-
 include/net/llc_c_ac.h                         |    8 ++-
 include/net/sctp/sm.h                          |    6 +-
 kernel/acct.c                                  |    5 +-
 kernel/timer.c                                 |    7 ++-
 kernel/workqueue.c                             |   12 ++---
 mm/page-writeback.c                            |   12 ++---
 mm/slob.c                                      |    7 +--
 net/802/tr.c                                   |   10 ++--
 net/appletalk/aarp.c                           |    6 +-
 net/appletalk/ddp.c                            |    8 +--
 net/atm/clip.c                                 |    4 +-
 net/atm/lec.c                                  |   21 +++-----
 net/ax25/af_ax25.c                             |   11 +---
 net/ax25/ax25_ds_timer.c                       |    8 +--
 net/ax25/ax25_timer.c                          |   44 ++++++-----------
 net/bluetooth/hci_conn.c                       |   15 ++----
 net/bluetooth/hidp/core.c                      |    9 +--
 net/bluetooth/l2cap.c                          |    8 +--
 net/bluetooth/rfcomm/core.c                    |    8 +--
 net/bluetooth/sco.c                            |    8 +--
 net/bridge/br_fdb.c                            |    3 -
 net/bridge/br_private.h                        |    2 -
 net/bridge/br_stp_timer.c                      |   47 +++++-------------
 net/core/flow.c                                |    5 +-
 net/core/neighbour.c                           |   23 +++------
 net/dccp/ccids/ccid2.c                         |    7 +--
 net/dccp/ccids/ccid3.c                         |   10 +---
 net/dccp/output.c                              |    8 +--
 net/dccp/timer.c                               |   14 ++---
 net/decnet/dn_dev.c                            |   11 +---
 net/decnet/dn_route.c                          |    5 +-
 net/decnet/dn_timer.c                          |    8 +--
 net/econet/af_econet.c                         |   12 ++---
 net/ieee80211/ieee80211_crypt.c                |    3 -
 net/ieee80211/ieee80211_module.c               |    5 +-
 net/ipv4/igmp.c                                |   23 ++-------
 net/ipv4/inet_connection_sock.c                |   20 ++------
 net/ipv4/ip_fragment.c                         |   13 ++---
 net/ipv4/ipmr.c                                |    5 +-
 net/ipv4/ipvs/ip_vs_conn.c                     |    8 +--
 net/ipv4/ipvs/ip_vs_est.c                      |    5 +-
 net/ipv4/ipvs/ip_vs_lblc.c                     |    9 +--
 net/ipv4/ipvs/ip_vs_lblcr.c                    |    9 +--
 net/ipv4/netfilter/ip_conntrack_core.c         |   18 ++-----
 net/ipv4/netfilter/ipt_ULOG.c                  |   25 +++++----
 net/ipv4/route.c                               |   17 +++---
 net/ipv4/tcp_timer.c                           |   19 +++----
 net/ipv6/addrconf.c                            |   26 ++++------
 net/ipv6/mcast.c                               |   30 +++--------
 net/ipv6/netfilter/nf_conntrack_reasm.c        |   13 ++---
 net/ipv6/reassembly.c                          |   12 ++---
 net/irda/af_irda.c                             |   10 +---
 net/irda/irttp.c                               |   10 +---
 net/lapb/lapb_timer.c                          |   18 ++-----
 net/llc/llc_c_ac.c                             |   19 +++----
 net/llc/llc_conn.c                             |   16 ++----
 net/llc/llc_station.c                          |    6 +-
 net/netfilter/nf_conntrack_core.c              |   12 ++---
 net/netfilter/nf_conntrack_expect.c            |    8 +--
 net/netfilter/nfnetlink_log.c                  |   10 +---
 net/netfilter/xt_hashlimit.c                   |   10 +---
 net/netrom/af_netrom.c                         |    5 +-
 net/netrom/nr_timer.c                          |   48 ++++++------------
 net/rose/af_rose.c                             |   17 ------
 net/rose/rose_link.c                           |   16 ++----
 net/rose/rose_loopback.c                       |    7 +--
 net/rose/rose_timer.c                          |   34 +++++--------
 net/rxrpc/call.c                               |   25 ++-------
 net/sched/sch_api.c                            |   11 ++--
 net/sched/sch_cbq.c                            |   15 ++----
 net/sched/sch_generic.c                        |    8 +--
 net/sched/sch_hfsc.c                           |    8 +--
 net/sched/sch_htb.c                            |   14 ++---
 net/sched/sch_netem.c                          |    8 +--
 net/sched/sch_sfq.c                            |    7 +--
 net/sched/sch_tbf.c                            |    8 +--
 net/sctp/associola.c                           |    7 +--
 net/sctp/sm_sideeffect.c                       |   27 +++-------
 net/sctp/transport.c                           |    8 +--
 net/sunrpc/sched.c                             |    4 --
 net/sunrpc/svcsock.c                           |    5 +-
 net/sunrpc/xprt.c                              |    8 +--
 net/wanrouter/af_wanpipe.c                     |   27 +++-------
 net/x25/af_x25.c                               |   16 ------
 net/x25/x25_link.c                             |   10 +---
 net/x25/x25_timer.c                            |   19 ++-----
 net/xfrm/xfrm_policy.c                         |    7 +--
 net/xfrm/xfrm_state.c                          |   17 ++----
 sound/core/pcm.c                               |   10 ----
 sound/core/timer.c                             |    7 +--
 sound/drivers/dummy.c                          |    7 +--
 sound/drivers/mpu401/mpu401_uart.c             |    7 +--
 sound/drivers/mtpav.c                          |    7 +--
 sound/drivers/opl3/opl3_midi.c                 |    3 -
 sound/drivers/opl3/opl3_seq.c                  |    4 --
 sound/drivers/opl3/opl3_voice.h                |    2 -
 sound/drivers/serial-u16550.c                  |    9 +--
 sound/i2c/other/ak4117.c                       |   10 +---
 sound/isa/sb/emu8000_pcm.c                     |    7 +--
 sound/isa/sb/sb8_midi.c                        |    8 +--
 sound/isa/wavefront/wavefront_midi.c           |    9 ++-
 sound/oss/trident.c                            |    6 +-
 sound/oss/waveartist.c                         |   11 ++--
 sound/pci/echoaudio/midi.c                     |    9 +--
 sound/pci/korg1212/korg1212.c                  |    7 +--
 sound/pci/rme9652/hdsp.c                       |    7 +--
 sound/pci/rme9652/hdspm.c                      |    7 +--
 sound/synth/emux/emux.c                        |    4 --
 sound/synth/emux/emux_synth.c                  |    3 -
 sound/synth/emux/emux_voice.h                  |    2 -
 sound/usb/usbmidi.c                            |    7 +--
 524 files changed, 1700 insertions(+), 3605 deletions(-)
