Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S286311AbSBRUZL>; Mon, 18 Feb 2002 15:25:11 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S285424AbSBRUZD>; Mon, 18 Feb 2002 15:25:03 -0500
Received: from mailhost.cs.tamu.edu ([128.194.130.106]:31878 "EHLO cs.tamu.edu")
	by vger.kernel.org with ESMTP id <S286311AbSBRUYx>;
	Mon, 18 Feb 2002 15:24:53 -0500
Date: Mon, 18 Feb 2002 14:24:50 -0600 (CST)
From: Xinwen - Fu <xinwenfu@cs.tamu.edu>
To: "Richard B. Johnson" <root@chaos.analogic.com>
cc: linux-kernel@vger.kernel.org
Subject: Re: weird ip sequence number
In-Reply-To: <Pine.LNX.3.95.1020218150225.21701B-100000@chaos.analogic.com>
Message-ID: <Pine.SOL.4.10.10202181413160.8734-100000@dogbert>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Richard,
	
> 
> The sequence numbers for 'ping' come from ping. They are not generated
> by the kernel.
> 
> `strace` [snipped]
> sendto(3, "\10\0\335\360\360T\0\0@^q<\202\34\v\0\10\t\n\v\f\r\16\17"...,
>                               |________ sequence NR
> 
> sendto(3, "\10\0\237\v\360T\1\0A^q<\277\1\v\0\10\t\n\v\f\r\16\17\20"...,
>                             |___________ sequence NR

I want a true ip_id from the kernel and this id will not be used by
any other packet.

Although there are few chances that our randomly chosen ip_id collides
with the other packet's ip_id generated by kernel, I don't want this
possibility to happen.

So is there any method to get a true ip_id from the kernel? 

I want this ip_id to do my own fragmentation on a packet.

Thanks!

Xinwen

