Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S261331AbSJPSEZ>; Wed, 16 Oct 2002 14:04:25 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S261333AbSJPSEZ>; Wed, 16 Oct 2002 14:04:25 -0400
Received: from dell-paw-3.cambridge.redhat.com ([195.224.55.237]:21497 "EHLO
	executor.cambridge.redhat.com") by vger.kernel.org with ESMTP
	id <S261331AbSJPSDC>; Wed, 16 Oct 2002 14:03:02 -0400
To: Andrew Morton <akpm@digeo.com>
Cc: David Howells <dhowells@cambridge.redhat.com>,
       Rik van Riel <riel@conectiva.com.br>, torvalds@transmeta.com,
       linux-kernel@vger.kernel.org
Subject: Re: [PATCH] do_generic_file_read / readahead adjustments 
In-Reply-To: Message from Andrew Morton <akpm@digeo.com> 
   of "Wed, 16 Oct 2002 11:03:38 PDT." <3DADA9FA.1D578A27@digeo.com> 
User-Agent: EMH/1.14.1 SEMI/1.14.3 (Ushinoya) FLIM/1.14.3
 (=?ISO-8859-4?Q?Unebigory=F2mae?=) APEL/10.3 Emacs/21.2 (i686-pc-linux-gnu)
 MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 16 Oct 2002 19:08:59 +0100
Message-ID: <30966.1034791739@warthog.cambridge.redhat.com>
From: David Howells <dhowells@cambridge.redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> David Howells wrote:
> > 
> > This patch is the alternative: make a function (do_generic_mapping_read())
> > that I can pass an inode or an address_space to, and make
> > do_generic_file_read() call that. This allows me to make use of readahead
> > semantics without having to reinvent them for myself.
> > 
> 
> OK.  The current readahead and mpage code is really designed just
> for ext2-style filesystems.  It was always expected that it would 
> have to grow as more sophisticated filesytems put demands upon it.
> 
> Your change is a perfectly sensible generalisation.  The reiserfs
> team have been making noises about lower-level readahead hooks as well,
> and I think your patch largely addresses those.  I shall ping them.

I'd just finished sending the patch to Linus. If you want to divert or stall
it, can you tell him.

David
