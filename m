Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261852AbVADTh7@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261852AbVADTh7 (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 4 Jan 2005 14:37:59 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261851AbVADTfx
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 4 Jan 2005 14:35:53 -0500
Received: from cantor.suse.de ([195.135.220.2]:60333 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S261844AbVADTQq (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 4 Jan 2005 14:16:46 -0500
Date: Tue, 04 Jan 2005 20:16:44 +0100
Message-ID: <s5hoeg5f1ib.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Adrian Bunk <bunk@stusta.de>
Cc: Mark_H_Johnson@raytheon.com, Andrew Morton <akpm@osdl.org>,
       lkml <linux-kernel@vger.kernel.org>, perex@suse.cz,
       alsa-devel@alsa-project.org
Subject: Re: 2.6.10-mm1: ALSA ac97 compile error with CONFIG_PM=n
In-Reply-To: <20050104001130.GT2980@stusta.de>
References: <OF0551C40F.E8032010-ON86256F7E.007EFEBA-86256F7E.007EFF1F@raytheon.com>
	<20050104001130.GT2980@stusta.de>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 15) (Security Through Obscurity) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Tue, 4 Jan 2005 01:11:30 +0100,
Adrian Bunk wrote:
> 
> On Mon, Jan 03, 2005 at 05:07:08PM -0600, Mark_H_Johnson@raytheon.com wrote:
> > I was looking to compare RT latency between this kernel and the latest from
> > Ingo and I had the following warnings / errors building 2.6.10-mm1:
> > 
> > [no apparent compile / link errors]
> > *** Warning: "snd_ac97_restore_iec958" [sound/pci/ac97/snd-ac97-codec.ko]
> > undefined!
> > *** Warning: "snd_ac97_restore_status" [sound/pci/ac97/snd-ac97-codec.ko]
> > undefined!
> >...
> > To fix this, should I just add the EXPORT_SYMBOL lines for these symbols
> >   snd_ac97_restore_status  snd_ac97_restore_iec958
> > or is something more needed?
> 
> That's not the problem, since function and definition are in the same 
> module.
> 
> You didn't send your .config, but looking at the code it seems 
> CONFIG_PM=n was the culprit.

Yes, it's because of lack of #ifdef CONFIG_PM in ac97_patch.c.
It was already fixed in the linux-sound bk tree.


Takashi
