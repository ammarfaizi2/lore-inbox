Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S317024AbSFWODx>; Sun, 23 Jun 2002 10:03:53 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S317025AbSFWODw>; Sun, 23 Jun 2002 10:03:52 -0400
Received: from mail.science.uva.nl ([146.50.4.51]:58005 "EHLO
	mail.science.uva.nl") by vger.kernel.org with ESMTP
	id <S317024AbSFWODw>; Sun, 23 Jun 2002 10:03:52 -0400
Message-Id: <200206231355.g5NDtoO13300@mail.science.uva.nl>
X-Organisation: Faculty of Science, University of Amsterdam, The Netherlands
X-URL: http://www.science.uva.nl/
Content-Type: text/plain; charset=US-ASCII
From: Rudmer van Dijk <rvandijk@science.uva.nl>
Reply-To: rvandijk@science.uva.nl
Organization: UvA
To: Andries Brouwer <aebr@win.tue.nl>
Subject: Re: build failure for 2.5.24-dj1
Date: Sun, 23 Jun 2002 15:59:03 +0200
X-Mailer: KMail [version 1.3.2]
Cc: Kai Germaschewski <kai@tp1.ruhr-uni-bochum.de>, Dave Jones <davej@suse.de>,
       linux-kernel@vger.kernel.org
References: <5.1.0.14.0.20020623120538.00a01160@mail.science.uva.nl> <20020623123755.GA18520@win.tue.nl>
In-Reply-To: <20020623123755.GA18520@win.tue.nl>
MIME-Version: 1.0
Content-Transfer-Encoding: 7BIT
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Sunday 23 June 2002 14:37, Andries Brouwer wrote:
> On Sun, Jun 23, 2002 at 01:43:32PM +0200, Rudmer van Dijk wrote:
> > upon inspection I found that with 'make mrproper'
> > drivers/char/defkeymap.c is removed which it did not do in earlier
> > kernels.
> > on my system 'loadkeys' is not installed because i did not have the kdb
> > package installed (I did not need it). looking in Documentation/Changes
> > of 2.5.24-dj1 I could not find any reference to kdb so I think it should
> > be added in the list of neccesary software since it is now!
> >
> > 	Rudmer
> >
> > +o  kdb                    1.06                    # loadkeys --version
>
> (i) It is a bug to regard drivers/char/defkeymap.c as a generated file.
> Every now and then something is changed (sticky keys were added, etc)
> and a new table can only be generated by a new loadkeys.
>
> So, the person who makes the change changes the kernel headers in his
> own tree, recompiles loadkeys against these new headers, generates
> the new defkeymap.c. This new defkeymap.c is distributed as part of
> the kernel source.
>
> It will take a long time before the whole world has a new loadkeys,
> so it is unreasonable to expect that everybody can generate defkeymap.c
> when there have been changes.

then it is a bug that defkeymap.c is removed and must be (re)generated to get 
the kernel compiled.

the removal of defkeymap.c is added in 2.5.24
in toplevel Makefile to CLEAN_FILES and the file itself is also removed by 
applying the patch.

	Rudmer
