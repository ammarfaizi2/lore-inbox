Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S263447AbTI2OcA (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 29 Sep 2003 10:32:00 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S263448AbTI2OcA
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 29 Sep 2003 10:32:00 -0400
Received: from ns.suse.de ([195.135.220.2]:51610 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S263447AbTI2Ob4 (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Mon, 29 Sep 2003 10:31:56 -0400
Date: Mon, 29 Sep 2003 16:30:06 +0200
Message-ID: <s5hvfrbbrbl.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Jaroslav Kysela <perex@suse.cz>
Cc: Muli Ben-Yehuda <mulix@mulix.org>, Florin Iucha <florin@iucha.net>,
       Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: Re: Linux 2.6.0-test6
In-Reply-To: <Pine.LNX.4.53.0309291558550.1362@pnote.perex-int.cz>
References: <Pine.LNX.4.44.0309271822450.6141-100000@home.osdl.org>
	<20030929132355.GA1206@iucha.net>
	<20030929135540.GO29313@actcom.co.il>
	<Pine.LNX.4.53.0309291558550.1362@pnote.perex-int.cz>
User-Agent: Wanderlust/2.10.1 (Watching The Wheels) SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 MULE XEmacs/21.4 (patch 13) (Rational FORTRAN) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Mon, 29 Sep 2003 16:01:09 +0200 (CEST),
Jaroslav wrote:
> 
> On Mon, 29 Sep 2003, Muli Ben-Yehuda wrote:
> 
> > On Mon, Sep 29, 2003 at 08:23:55AM -0500, Florin Iucha wrote:
> >
> > > I can no longer select my soundcard: In test5 it was configured by
> > > CONFIG_SND_CS46XX! This option is no longer available in test6 (make
> > > menuconfig does not offer me the opportunity).
> >
> > You need to enable CONFIG_GAMEPORT, or apply this patch. Jaroslav, is
> > there a master plan for the CONFIG_SOUND_GAMEPORT -> CONFIG_GAMEPORT
> > conversion or is it a bug? this patch reverts it.
> 
> CONFIG_SOUND_GAMEPORT define is ugly. It's better to remove all gameport
> dependencies from the ALSA's configuration files and let drivers to
> detect the gameport presence at "compile" time.

well, as Muli pointed out in another thread, the problem is when
ALSA=y but GAMEPORT=m.  and, in such a case, there is a difference
between with and without CONFIG_SOUND_GAMEPORT condition.

if CONFIG_SOUND_GAMEPORT is used, the ALSA module will be forced to be
m, so that the gameport is supported.
if we drop this condition check, the ALSA will be kept as y, and the
gameport support will be simply dropped, too.

i think it would be better if we can show warnings about this
confliction instead of dropping the functionality silently.
but if there is no way.... hmm, difficult to say which is better
behavior.


--
Takashi Iwai <tiwai dot suse.de>		ALSA Developer - www.alsa-project.org
