Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1161319AbWASFDC@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1161319AbWASFDC (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 19 Jan 2006 00:03:02 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1161321AbWASFDB
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 19 Jan 2006 00:03:01 -0500
Received: from bigip-smtp1.dyxnet.com ([202.66.146.141]:19410 "EHLO
	bigip-smtp1.dyxnet.com") by vger.kernel.org with ESMTP
	id S1161319AbWASFDA (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 19 Jan 2006 00:03:00 -0500
Message-ID: <43CF1D1B.7030600@thizgroup.com>
Date: Thu, 19 Jan 2006 13:01:15 +0800
From: Zhang Le <robert@thizgroup.com>
User-Agent: Mail/News 1.5 (X11/20060113)
MIME-Version: 1.0
To: kai@germaschewski.name
CC: linux-kernel@vger.kernel.org
Subject: [PATCH] add ENTRY() declared label in .S files to tags
X-Enigmail-Version: 0.94.0.0
Content-Type: text/plain; charset=GB18030
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Tags file generated by new Makefile may allow you to search labels like:
"swapper_pg_dir", "empty_zero_page" and so on

Signed-off-by: Zhang Le <robert@thizgroup.com>

- --- linux-2.6.16-rc1-mm1/Makefile.orig  2006-01-19 12:41:42.000000000
+0800
+++ linux-2.6.16-rc1-mm1/Makefile   2006-01-19 12:55:02.000000000 +0800
@@ -1273,7 +1273,8 @@ define cmd_tags
    CTAGSF=`ctags --version | grep -i exuberant >/dev/null &&     \
                 echo "-I __initdata,__exitdata,__acquires,__releases  \
                       -I EXPORT_SYMBOL,EXPORT_SYMBOL_GPL              \
- -                      --extra=+f --c-kinds=+px"`;                     \
+                      --extra=+f --c-kinds=+px                        \
+                      --regex-asm=/ENTRY\(([^)]*)\).*/\1/"`;          \
                 $(all-sources) | xargs ctags $$CTAGSF -a
 endef

- --
Zhang Le, Robert
Linux Engineer/Trainer

Institute of Thiz Technology Limited
Address: Unit 1004, 10/F, Tower B,
Hunghom Commercial Centre, 37 Ma Tau Wai Road,
To Kwa Wan, Kowloon, Hong Kong
Telephone: (852) 2735 2725
Mobile:(852) 9845 4336
Fax: (852) 2111 0702
URL: http://www.thizgroup.com
Public key: gpg --keyserver pgp.mit.edu --recv-keys 1E4E2973

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFDzx0bvFHICB5OKXMRAu5jAJ0RsbxWe63tvXroMg5phIfjO+c1tQCfex5U
OwA0WlIUNesUULx+QPc5/Mg=
=QtuW
-----END PGP SIGNATURE-----

