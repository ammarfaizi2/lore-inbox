Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S317014AbSFWMh4>; Sun, 23 Jun 2002 08:37:56 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S317016AbSFWMhz>; Sun, 23 Jun 2002 08:37:55 -0400
Received: from mailhost.tue.nl ([131.155.2.5]:37288 "EHLO mailhost.tue.nl")
	by vger.kernel.org with ESMTP id <S317014AbSFWMhy>;
	Sun, 23 Jun 2002 08:37:54 -0400
Date: Sun, 23 Jun 2002 14:37:55 +0200
From: Andries Brouwer <aebr@win.tue.nl>
To: Rudmer van Dijk <rudmer@legolas.dynup.net>
Cc: Kai Germaschewski <kai@tp1.ruhr-uni-bochum.de>, Dave Jones <davej@suse.de>,
       linux-kernel@vger.kernel.org
Subject: Re: build failure for 2.5.24-dj1
Message-ID: <20020623123755.GA18520@win.tue.nl>
References: <5.1.0.14.0.20020623120538.00a01160@mail.science.uva.nl>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <5.1.0.14.0.20020623120538.00a01160@mail.science.uva.nl>
User-Agent: Mutt/1.3.25i
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Sun, Jun 23, 2002 at 01:43:32PM +0200, Rudmer van Dijk wrote:

> upon inspection I found that with 'make mrproper' drivers/char/defkeymap.c 
> is removed which it did not do in earlier kernels.
> on my system 'loadkeys' is not installed because i did not have the kdb 
> package installed (I did not need it). looking in Documentation/Changes of 
> 2.5.24-dj1 I could not find any reference to kdb so I think it should be 
> added in the list of neccesary software since it is now!
> 
> 	Rudmer
> 
> +o  kdb                    1.06                    # loadkeys --version

(i) It is a bug to regard drivers/char/defkeymap.c as a generated file.
Every now and then something is changed (sticky keys were added, etc)
and a new table can only be generated by a new loadkeys.

So, the person who makes the change changes the kernel headers in his
own tree, recompiles loadkeys against these new headers, generates
the new defkeymap.c. This new defkeymap.c is distributed as part of
the kernel source.

It will take a long time before the whole world has a new loadkeys,
so it is unreasonable to expect that everybody can generate defkeymap.c
when there have been changes.

(ii) kdb: kernel debugger; kbd: keyboard utilities.

Andries

