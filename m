Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S264126AbUAUU2T (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 21 Jan 2004 15:28:19 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S264132AbUAUU2T
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 21 Jan 2004 15:28:19 -0500
Received: from intra.cyclades.com ([64.186.161.6]:60819 "EHLO
	intra.cyclades.com") by vger.kernel.org with ESMTP id S264126AbUAUU2M
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Wed, 21 Jan 2004 15:28:12 -0500
Date: Wed, 21 Jan 2004 18:12:06 -0200 (BRST)
From: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
X-X-Sender: marcelo@logos.cnet
To: Lukasz Trabinski <lukasz@trabinski.net>
Cc: David Woodhouse <dwmw2@infradead.org>,
       Marcelo Tosatti <marcelo.tosatti@cyclades.com>,
       linux-kernel@vger.kernel.org, riel@redhat.com
Subject: Re: Linux 2.4.25-pre6
In-Reply-To: <Pine.LNX.4.58LT.0401211702100.23288@oceanic.wsisiz.edu.pl>
Message-ID: <Pine.LNX.4.58L.0401211809220.5874@logos.cnet>
References: <200401202125.i0KLPOgh007806@lt.wsisiz.edu.pl> 
 <Pine.LNX.4.58L.0401201940470.29729@logos.cnet> 
 <Pine.LNX.4.58LT.0401210746350.2482@lt.wsisiz.edu.pl> 
 <Pine.LNX.4.58L.0401210852490.5072@logos.cnet> 
 <Pine.LNX.4.58LT.0401211225560.31684@oceanic.wsisiz.edu.pl>
 <1074686081.16045.141.camel@imladris.demon.co.uk>
 <Pine.LNX.4.58LT.0401211702100.23288@oceanic.wsisiz.edu.pl>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323328-1625780315-1074715926=:5874"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--8323328-1625780315-1074715926=:5874
Content-Type: TEXT/PLAIN; charset=US-ASCII



On Wed, 21 Jan 2004, Lukasz Trabinski wrote:

> On Wed, 21 Jan 2004, David Woodhouse wrote:
>
> > Neither do I understand why i_list.prev is corrupt. Not seeing the oops
> > and knowing what it actually was doesn't help. Rik?
>
> I have logs from this host on different machine - no ooops.
>
> Emergency Sync and Emergency Remount R/O didn't work.
>
> SysRq : HELP : loglevel0-8 reBoot tErm kIll saK showMem showPc unRaw Sync
> showTa
> sks Unmount
> SysRq : Emergency Sync
> SysRq : Emergency Remount R/O

Lukasz,

Lets try the clueless approach and remove the inode reclaim highmem fixes
from Rik.

Please revert the attached patch (againts -pre6).

Thank you for yours efforts helping track the problem down :)
--8323328-1625780315-1074715926=:5874
Content-Type: TEXT/PLAIN; charset=US-ASCII; name=nohighmem
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.LNX.4.58L.0401211812060.5874@logos.cnet>
Content-Description: 
Content-Disposition: attachment; filename=nohighmem

ZGlmZiAtTmF1ciAtcCAtWCAvaG9tZS9tYXJjZWxvL2xpYi9kb250ZGlmZiBs
aW51eC0yLjQuMjQvZnMvaW5vZGUuYyBsaW51eC0yLjQuMjUtcHJlNi9mcy9p
bm9kZS5jDQotLS0gbGludXgtMi40LjI0L2ZzL2lub2RlLmMJMjAwNC0wMS0y
MSAxOTozMzozMy4wMDAwMDAwMDAgKzAwMDANCisrKyBsaW51eC0yLjQuMjUt
cHJlNi9mcy9pbm9kZS5jCTIwMDQtMDEtMjEgMTk6MjY6MjYuMDAwMDAwMDAw
ICswMDAwDQpAQCAtNDksOCArNDksNyBAQCBzdGF0aWMgdW5zaWduZWQgaW50
IGlfaGFzaF9zaGlmdDsNCiAgKiBvdGhlciBsaW5rZWQgbGlzdCBpcyB0aGUg
InR5cGUiIGxpc3Q6DQogICogICJpbl91c2UiIC0gdmFsaWQgaW5vZGUsIGlf
Y291bnQgPiAwLCBpX25saW5rID4gMA0KICAqICAiZGlydHkiICAtIGFzICJp
bl91c2UiIGJ1dCBhbHNvIGRpcnR5DQotICogICJ1bnVzZWQiIC0gdmFsaWQg
aW5vZGUsIGlfY291bnQgPSAwLCBubyBwYWdlcyBpbiB0aGUgcGFnZWNhY2hl
DQotICogICJ1bnVzZWRfcGFnZWNhY2hlIiAtIHZhbGlkIGlub2RlLCBpX2Nv
dW50ID0gMCwgZGF0YSBpbiB0aGUgcGFnZWNhY2hlDQorICogICJ1bnVzZWQi
IC0gdmFsaWQgaW5vZGUsIGlfY291bnQgPSAwDQogICoNCiAgKiBBICJkaXJ0
eSIgbGlzdCBpcyBtYWludGFpbmVkIGZvciBlYWNoIHN1cGVyIGJsb2NrLA0K
ICAqIGFsbG93aW5nIGZvciBsb3ctb3ZlcmhlYWQgaW5vZGUgc3luYygpIG9w
ZXJhdGlvbnMuDQpAQCAtNTgsNyArNTcsNiBAQCBzdGF0aWMgdW5zaWduZWQg
aW50IGlfaGFzaF9zaGlmdDsNCiANCiBzdGF0aWMgTElTVF9IRUFEKGlub2Rl
X2luX3VzZSk7DQogc3RhdGljIExJU1RfSEVBRChpbm9kZV91bnVzZWQpOw0K
LXN0YXRpYyBMSVNUX0hFQUQoaW5vZGVfdW51c2VkX3BhZ2VjYWNoZSk7DQog
c3RhdGljIHN0cnVjdCBsaXN0X2hlYWQgKmlub2RlX2hhc2h0YWJsZTsNCiBz
dGF0aWMgTElTVF9IRUFEKGFub25faGFzaF9jaGFpbik7IC8qIGZvciBpbm9k
ZXMgd2l0aCBOVUxMIGlfc2IgKi8NCiANCkBAIC0xMjcsMTAgKzEyNSwxMCBA
QCBzdGF0aWMgdm9pZCBkZXN0cm95X2lub2RlKHN0cnVjdCBpbm9kZSAqDQog
ew0KIAlpZiAoaW5vZGVfaGFzX2J1ZmZlcnMoaW5vZGUpKQ0KIAkJQlVHKCk7
DQotCS8qIFJlaW5pdGlhbGlzZSB0aGUgd2FpdHF1ZXVlIGhlYWQgYmVjYXVz
ZSBfX3dhaXRfb25fZnJlZWluZ19pbm9kZSgpDQotCSAgIG1heSBoYXZlIGxl
ZnQgc3RhbGUgZW50cmllcyBvbiBpdCB3aGljaCBpdCBjYW4ndCByZW1vdmUg
KHNpbmNlDQotCSAgIGl0IGtub3dzIHdlJ3JlIGZyZWVpbmcgdGhlIGlub2Rl
IHJpZ2h0IG5vdyAqLw0KLQlpbml0X3dhaXRxdWV1ZV9oZWFkKCZpbm9kZS0+
aV93YWl0KTsNCisgICAgICAgLyogUmVpbml0aWFsaXNlIHRoZSB3YWl0cXVl
dWUgaGVhZCBiZWNhdXNlIF9fd2FpdF9vbl9mcmVlaW5nX2lub2RlKCkNCisg
ICAgICAgICAgbWF5IGhhdmUgbGVmdCBzdGFsZSBlbnRyaWVzIG9uIGl0IHdo
aWNoIGl0IGNhbid0IHJlbW92ZSAoc2luY2UNCisgICAgICAgICAgaXQga25v
d3Mgd2UncmUgZnJlZWluZyB0aGUgaW5vZGUgcmlnaHQgbm93ICovDQorICAg
ICAgICBpbml0X3dhaXRxdWV1ZV9oZWFkKCZpbm9kZS0+aV93YWl0KTsNCiAJ
aWYgKGlub2RlLT5pX3NiLT5zX29wLT5kZXN0cm95X2lub2RlKQ0KIAkJaW5v
ZGUtPmlfc2ItPnNfb3AtPmRlc3Ryb3lfaW5vZGUoaW5vZGUpOw0KIAllbHNl
DQpAQCAtMjU0LDEwICsyNTIsOSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgd2Fp
dF9vbl9pbm9kZShzdHJ1Y3QgDQogICogLT5yZWFkX2lub2RlLCBhbmQgd2Ug
d2FudCB0byBiZSBzdXJlIHRoYXQgZXZpZGVuY2Ugb2YgdGhlIGRlbGV0aW9u
IGlzIGZvdW5kDQogICogYnkgLT5yZWFkX2lub2RlLg0KICAqDQotICogVW5s
aWtlIHRoZSAyLjYgdmVyc2lvbiwgdGhpcyBjYWxsIGNhbGwgY2Fubm90IHJl
dHVybiBlYXJseSwgc2luY2UgaW5vZGVzDQotICogZG8gbm90IHNoYXJlIHdh
aXQgcXVldWUuIFRoZXJlZm9yZSwgd2UgZG9uJ3QgY2FsbCByZW1vdmVfd2Fp
dF9xdWV1ZSgpOyBpdA0KLSAqIHdvdWxkIGJlIGRhbmdlcm91cyB0byBkbyBz
byBzaW5jZSB0aGUgaW5vZGUgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGZyZWVk
LCANCi0gKiBhbmQgaXQncyB1bm5lY2Vzc2FyeSwgc2luY2UgdGhlIGlub2Rl
IGlzIGRlZmluaXRlbHkgZ29pbmcgdG8gZ2V0IGZyZWVkLg0KKyAqIFRoaXMg
Y2FsbCBtaWdodCByZXR1cm4gZWFybHkgaWYgYW4gaW5vZGUgd2hpY2ggc2hh
cmVzIHRoZSB3YWl0cSBpcyB3b2tlbiB1cC4NCisgKiBUaGlzIGlzIG1vc3Qg
ZWFzaWx5IGhhbmRsZWQgYnkgdGhlIGNhbGxlciB3aGljaCB3aWxsIGxvb3Ag
YXJvdW5kIGFnYWluDQorICogbG9va2luZyBmb3IgdGhlIGlub2RlLg0KICAq
DQogICogVGhpcyBpcyBjYWxsZWQgd2l0aCBpbm9kZV9sb2NrIGhlbGQuDQog
ICovDQpAQCAtMjkzLDM2ICsyOTAsNiBAQCBzdGF0aWMgaW5saW5lIHZvaWQg
X19pZ2V0KHN0cnVjdCBpbm9kZSAqDQogCWlub2Rlc19zdGF0Lm5yX3VudXNl
ZC0tOw0KIH0NCiANCi1zdGF0aWMgaW5saW5lIHZvaWQgX19yZWZpbGVfaW5v
ZGUoc3RydWN0IGlub2RlICppbm9kZSkNCi17DQotCXN0cnVjdCBsaXN0X2hl
YWQgKnRvOw0KLQ0KLQlpZiAoaW5vZGUtPmlfc3RhdGUgJiBJX0ZSRUVJTkcp
DQotCQlyZXR1cm47DQotCWlmIChsaXN0X2VtcHR5KCZpbm9kZS0+aV9oYXNo
KSkNCi0JCXJldHVybjsNCi0NCi0JaWYgKGlub2RlLT5pX3N0YXRlICYgSV9E
SVJUWSkNCi0JCXRvID0gJmlub2RlLT5pX3NiLT5zX2RpcnR5Ow0KLQllbHNl
IGlmIChhdG9taWNfcmVhZCgmaW5vZGUtPmlfY291bnQpKQ0KLQkJdG8gPSAm
aW5vZGVfaW5fdXNlOw0KLQllbHNlIGlmIChpbm9kZS0+aV9kYXRhLm5ycGFn
ZXMpDQotCQl0byA9ICZpbm9kZV91bnVzZWRfcGFnZWNhY2hlOw0KLQllbHNl
DQotCQl0byA9ICZpbm9kZV91bnVzZWQ7DQotCWxpc3RfZGVsKCZpbm9kZS0+
aV9saXN0KTsNCi0JbGlzdF9hZGQoJmlub2RlLT5pX2xpc3QsIHRvKTsNCi19
DQotDQotdm9pZCByZWZpbGVfaW5vZGUoc3RydWN0IGlub2RlICppbm9kZSkN
Ci17DQotCWlmICghaW5vZGUpDQotCQlyZXR1cm47DQotCXNwaW5fbG9jaygm
aW5vZGVfbG9jayk7DQotCV9fcmVmaWxlX2lub2RlKGlub2RlKTsNCi0Jc3Bp
bl91bmxvY2soJmlub2RlX2xvY2spOw0KLX0NCi0NCiBzdGF0aWMgaW5saW5l
IHZvaWQgX19zeW5jX29uZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBpbnQgc3lu
YykNCiB7DQogCXVuc2lnbmVkIGRpcnR5Ow0KQEAgLTM0OSw3ICszMTYsMTcg
QEAgc3RhdGljIGlubGluZSB2b2lkIF9fc3luY19vbmUoc3RydWN0IGlubw0K
IA0KIAlzcGluX2xvY2soJmlub2RlX2xvY2spOw0KIAlpbm9kZS0+aV9zdGF0
ZSAmPSB+SV9MT0NLOw0KLQlfX3JlZmlsZV9pbm9kZShpbm9kZSk7DQorCWlm
ICghKGlub2RlLT5pX3N0YXRlICYgSV9GUkVFSU5HKSkgew0KKwkJc3RydWN0
IGxpc3RfaGVhZCAqdG87DQorCQlpZiAoaW5vZGUtPmlfc3RhdGUgJiBJX0RJ
UlRZKQ0KKwkJCXRvID0gJmlub2RlLT5pX3NiLT5zX2RpcnR5Ow0KKwkJZWxz
ZSBpZiAoYXRvbWljX3JlYWQoJmlub2RlLT5pX2NvdW50KSkNCisJCQl0byA9
ICZpbm9kZV9pbl91c2U7DQorCQllbHNlDQorCQkJdG8gPSAmaW5vZGVfdW51
c2VkOw0KKwkJbGlzdF9kZWwoJmlub2RlLT5pX2xpc3QpOw0KKwkJbGlzdF9h
ZGQoJmlub2RlLT5pX2xpc3QsIHRvKTsNCisJfQ0KIAl3YWtlX3VwKCZpbm9k
ZS0+aV93YWl0KTsNCiB9DQogDQpAQCAtNzI2LDcgKzcwMyw2IEBAIGludCBp
bnZhbGlkYXRlX2lub2RlcyhzdHJ1Y3Qgc3VwZXJfYmxvY2sNCiAJc3Bpbl9s
b2NrKCZpbm9kZV9sb2NrKTsNCiAJYnVzeSA9IGludmFsaWRhdGVfbGlzdCgm
aW5vZGVfaW5fdXNlLCBzYiwgJnRocm93X2F3YXkpOw0KIAlidXN5IHw9IGlu
dmFsaWRhdGVfbGlzdCgmaW5vZGVfdW51c2VkLCBzYiwgJnRocm93X2F3YXkp
Ow0KLQlidXN5IHw9IGludmFsaWRhdGVfbGlzdCgmaW5vZGVfdW51c2VkX3Bh
Z2VjYWNoZSwgc2IsICZ0aHJvd19hd2F5KTsNCiAJYnVzeSB8PSBpbnZhbGlk
YXRlX2xpc3QoJnNiLT5zX2RpcnR5LCBzYiwgJnRocm93X2F3YXkpOw0KIAli
dXN5IHw9IGludmFsaWRhdGVfbGlzdCgmc2ItPnNfbG9ja2VkX2lub2Rlcywg
c2IsICZ0aHJvd19hd2F5KTsNCiAJc3Bpbl91bmxvY2soJmlub2RlX2xvY2sp
Ow0KQEAgLTc5MCw3ICs3NjYsNyBAQCB2b2lkIHBydW5lX2ljYWNoZShpbnQg
Z29hbCkNCiB7DQogCUxJU1RfSEVBRChsaXN0KTsNCiAJc3RydWN0IGxpc3Rf
aGVhZCAqZW50cnksICpmcmVlYWJsZSA9ICZsaXN0Ow0KLQlpbnQgY291bnQs
IGF2Z19wYWdlczsNCisJaW50IGNvdW50Ow0KIAlzdHJ1Y3QgaW5vZGUgKiBp
bm9kZTsNCiANCiAJc3Bpbl9sb2NrKCZpbm9kZV9sb2NrKTsNCkBAIC04MTMs
NyArNzg5LDcgQEAgdm9pZCBwcnVuZV9pY2FjaGUoaW50IGdvYWwpDQogCQls
aXN0X2FkZCh0bXAsIGZyZWVhYmxlKTsNCiAJCWlub2RlLT5pX3N0YXRlIHw9
IElfRlJFRUlORzsNCiAJCWNvdW50Kys7DQotCQlpZiAoLS1nb2FsIDw9IDAp
DQorCQlpZiAoIS0tZ29hbCkNCiAJCQlicmVhazsNCiAJfQ0KIAlpbm9kZXNf
c3RhdC5ucl91bnVzZWQgLT0gY291bnQ7DQpAQCAtODI3LDcxICs4MDMsOCBA
QCB2b2lkIHBydW5lX2ljYWNoZShpbnQgZ29hbCkNCiAJICogZnJvbSBoZXJl
IG9yIHdlJ3JlIGVpdGhlciBzeW5jaHJvbm91c2x5IGRvZ3Nsb3cNCiAJICog
b3Igd2UgZGVhZGxvY2sgd2l0aCBvb20uDQogCSAqLw0KLQlpZiAoZ29hbCA+
IDApDQorCWlmIChnb2FsKQ0KIAkJc2NoZWR1bGVfdGFzaygmdW51c2VkX2lu
b2Rlc19mbHVzaF90YXNrKTsNCi0NCi0jaWZkZWYgQ09ORklHX0hJR0hNRU0N
Ci0JLyoNCi0JICogT24gaGlnaG1lbSBtYWNoaW5lcyBpdCBpcyBwb3NzaWJs
ZSB0byBoYXZlIGxvdyBtZW1vcnkNCi0JICogZmlsbGVkIHdpdGggaW5vZGVz
IHRoYXQgY2Fubm90IGJlIHJlY2xhaW1lZCBiZWNhdXNlIHRoZXkNCi0JICog
aGF2ZSBwYWdlIGNhY2hlIHBhZ2VzIGluIGhpZ2htZW0gYXR0YWNoZWQgdG8g
dGhlbS4NCi0JICogVGhpcyBjb3VsZCBkZWFkbG9jayB0aGUgc3lzdGVtIGlm
IHRoZSBtZW1vcnkgdXNlZCBieQ0KLQkgKiBpbm9kZXMgaXMgc2lnbmlmaWNh
bnQgY29tcGFyZWQgdG8gdGhlIGFtb3VudCBvZiBmcmVlYWJsZQ0KLQkgKiBs
b3cgbWVtb3J5LiAgSW4gdGhhdCBjYXNlIHdlIGZvcmNlZnVsbHkgcmVtb3Zl
IHRoZSBwYWdlDQotCSAqIGNhY2hlIHBhZ2VzIGZyb20gdGhlIGlub2RlcyB3
ZSB3YW50IHRvIHJlY2xhaW0uDQotCSAqDQotCSAqIE5vdGUgdGhhdCB0aGlz
IGxvb3AgZG9lc24ndCBhY3R1YWxseSByZWNsYWltIHRoZSBpbm9kZXM7DQot
CSAqIG9uY2UgdGhlIGxhc3QgcGFnZWNhY2hlIHBhZ2VzIGJlbG9uZ2luZyB0
byB0aGUgaW5vZGUgaXMNCi0JICogZ29uZSBpdCB3aWxsIGJlIHBsYWNlZCBv
biB0aGUgaW5vZGVfdW51c2VkIGxpc3QgYW5kIHRoZQ0KLQkgKiBsb29wIGFi
b3ZlIHdpbGwgcHJ1bmUgaXQgdGhlIG5leHQgdGltZSBwcnVuZV9pY2FjaGUo
KSBpcw0KLQkgKiBjYWxsZWQuDQotCSAqLw0KLQlpZiAoZ29hbCA8PSAwKQ0K
LQkJcmV0dXJuOw0KLQlpZiAoaW5vZGVzX3N0YXQubnJfdW51c2VkICogc2l6
ZW9mKHN0cnVjdCBpbm9kZSkgKiAxMCA8DQotCQkJCWZyZWVhYmxlX2xvd21l
bSgpICogUEFHRV9TSVpFKQ0KLQkJcmV0dXJuOw0KLQ0KLQl3YWtldXBfYmRm
bHVzaCgpOw0KLQ0KLQlhdmdfcGFnZXMgPSBwYWdlX2NhY2hlX3NpemU7DQot
CWF2Z19wYWdlcyAtPSBhdG9taWNfcmVhZCgmYnVmZmVybWVtX3BhZ2VzKSAr
IHN3YXBwZXJfc3BhY2UubnJwYWdlczsNCi0JYXZnX3BhZ2VzID0gYXZnX3Bh
Z2VzIC8gKGlub2Rlc19zdGF0Lm5yX2lub2RlcyArIDEpOw0KLQlzcGluX2xv
Y2soJmlub2RlX2xvY2spOw0KLQl3aGlsZSAoZ29hbC0tID4gMCkgew0KLQkJ
aWYgKGxpc3RfZW1wdHkoJmlub2RlX3VudXNlZF9wYWdlY2FjaGUpKQ0KLQkJ
CWJyZWFrOw0KLQkJZW50cnkgPSBpbm9kZV91bnVzZWRfcGFnZWNhY2hlLnBy
ZXY7DQotCQlsaXN0X2RlbChlbnRyeSk7DQotCQlsaXN0X2FkZChlbnRyeSwg
Jmlub2RlX3VudXNlZF9wYWdlY2FjaGUpOw0KLQ0KLQkJaW5vZGUgPSBJTk9E
RShlbnRyeSk7DQotCQkvKiBEb24ndCBudWtlIGlub2RlcyB3aXRoIGxvdHMg
b2YgcGFnZSBjYWNoZSBhdHRhY2hlZC4gKi8NCi0JCWlmIChpbm9kZS0+aV9t
YXBwaW5nLT5ucnBhZ2VzID4gNSAqIGF2Z19wYWdlcykNCi0JCQljb250aW51
ZTsNCi0JCS8qIEJlY2F1c2Ugb2YgbG9ja2luZyB3ZSBncmFiIHRoZSBpbm9k
ZSBhbmQgdW5sb2NrIHRoZSBsaXN0IC4qLw0KLQkJaWYgKGlub2RlLT5pX3N0
YXRlICYgSV9MT0NLKQ0KLQkJCWNvbnRpbnVlOw0KLQkJaW5vZGUtPmlfc3Rh
dGUgfD0gSV9MT0NLOw0KLQkJc3Bpbl91bmxvY2soJmlub2RlX2xvY2spOw0K
LQ0KLQkJLyoNCi0JCSAqIElmIHRoZSBpbm9kZSBoYXMgY2xlYW4gcGFnZXMg
b25seSwgd2UgY2FuIGZyZWUgYWxsIGl0cw0KLQkJICogcGFnZWNhY2hlIG1l
bW9yeTsgdGhlIGlub2RlIHdpbGwgYXV0b21hZ2ljYWxseSBiZSByZWZpbGVk
DQotCQkgKiBvbnRvIHRoZSB1bnVzZWRfbGlzdC4gIFRoZSB3YWtldXBfYmRm
bHVzaCBhYm92ZSBtYWtlcw0KLQkJICogc3VyZSB0aGF0IGFsbCBpbm9kZXMg
YmVjb21lIGNsZWFuIGV2ZW50dWFsbHkuDQotCQkgKi8NCi0JCWlmIChsaXN0
X2VtcHR5KCZpbm9kZS0+aV9tYXBwaW5nLT5kaXJ0eV9wYWdlcykgJiYNCi0J
CQkJIWlub2RlX2hhc19idWZmZXJzKGlub2RlKSkNCi0JCQlpbnZhbGlkYXRl
X2lub2RlX3BhZ2VzKGlub2RlKTsNCi0NCi0JCS8qIFJlbGVhc2UgdGhlIGlu
b2RlIGFnYWluLiAqLw0KLQkJc3Bpbl9sb2NrKCZpbm9kZV9sb2NrKTsNCi0J
CWlub2RlLT5pX3N0YXRlICY9IH5JX0xPQ0s7DQotCQl3YWtlX3VwKCZpbm9k
ZS0+aV93YWl0KTsNCi0JfQ0KLQlzcGluX3VubG9jaygmaW5vZGVfbG9jayk7
DQotI2VuZGlmIC8qIENPTkZJR19ISUdITUVNICovDQogfQ0KIA0KIGludCBz
aHJpbmtfaWNhY2hlX21lbW9yeShpbnQgcHJpb3JpdHksIGludCBnZnBfbWFz
aykNCmRpZmYgLU5hdXIgLXAgLVggL2hvbWUvbWFyY2Vsby9saWIvZG9udGRp
ZmYgbGludXgtMi40LjI0L2luY2x1ZGUvbGludXgvZnMuaCBsaW51eC0yLjQu
MjUtcHJlNi9pbmNsdWRlL2xpbnV4L2ZzLmgNCi0tLSBsaW51eC0yLjQuMjQv
aW5jbHVkZS9saW51eC9mcy5oCTIwMDQtMDEtMjEgMTk6MzM6NDguMDAwMDAw
MDAwICswMDAwDQorKysgbGludXgtMi40LjI1LXByZTYvaW5jbHVkZS9saW51
eC9mcy5oCTIwMDQtMDEtMjEgMTg6NTc6MTMuMDAwMDAwMDAwICswMDAwDQpA
QCAtMTM5OSw3ICsxMzk5LDYgQEAgZXh0ZXJuIHN0cnVjdCBkZW50cnkgKiBs
b29rdXBfaGFzaChzdHJ1Yw0KIGV4dGVybiB2b2lkIGlub2RlX2luaXRfb25j
ZShzdHJ1Y3QgaW5vZGUgKik7DQogZXh0ZXJuIHZvaWQgX19pbm9kZV9pbml0
X29uY2Uoc3RydWN0IGlub2RlICopOw0KIGV4dGVybiB2b2lkIGlwdXQoc3Ry
dWN0IGlub2RlICopOw0KLWV4dGVybiB2b2lkIHJlZmlsZV9pbm9kZShzdHJ1
Y3QgaW5vZGUgKmlub2RlKTsNCiBleHRlcm4gdm9pZCBmb3JjZV9kZWxldGUo
c3RydWN0IGlub2RlICopOw0KIGV4dGVybiBzdHJ1Y3QgaW5vZGUgKiBpZ3Jh
YihzdHJ1Y3QgaW5vZGUgKik7DQogZXh0ZXJuIHN0cnVjdCBpbm9kZSAqIGls
b29rdXAoc3RydWN0IHN1cGVyX2Jsb2NrICosIHVuc2lnbmVkIGxvbmcpOw0K
ZGlmZiAtTmF1ciAtcCAtWCAvaG9tZS9tYXJjZWxvL2xpYi9kb250ZGlmZiBs
aW51eC0yLjQuMjQvaW5jbHVkZS9saW51eC9zd2FwLmggbGludXgtMi40LjI1
LXByZTYvaW5jbHVkZS9saW51eC9zd2FwLmgNCi0tLSBsaW51eC0yLjQuMjQv
aW5jbHVkZS9saW51eC9zd2FwLmgJMjAwNC0wMS0yMSAxOTozMzo0OS4wMDAw
MDAwMDAgKzAwMDANCisrKyBsaW51eC0yLjQuMjUtcHJlNi9pbmNsdWRlL2xp
bnV4L3N3YXAuaAkyMDA0LTAxLTIxIDE4OjU3OjEzLjAwMDAwMDAwMCArMDAw
MA0KQEAgLTg1LDcgKzg1LDYgQEAgZXh0ZXJuIGludCBucl9zd2FwX3BhZ2Vz
Ow0KIA0KIGV4dGVybiB1bnNpZ25lZCBpbnQgbnJfZnJlZV9wYWdlcyh2b2lk
KTsNCiBleHRlcm4gdW5zaWduZWQgaW50IG5yX2ZyZWVfYnVmZmVyX3BhZ2Vz
KHZvaWQpOw0KLWV4dGVybiB1bnNpZ25lZCBpbnQgZnJlZWFibGVfbG93bWVt
KHZvaWQpOw0KIGV4dGVybiBpbnQgbnJfYWN0aXZlX3BhZ2VzOw0KIGV4dGVy
biBpbnQgbnJfaW5hY3RpdmVfcGFnZXM7DQogZXh0ZXJuIHVuc2lnbmVkIGxv
bmcgcGFnZV9jYWNoZV9zaXplOw0KZGlmZiAtTmF1ciAtcCAtWCAvaG9tZS9t
YXJjZWxvL2xpYi9kb250ZGlmZiBsaW51eC0yLjQuMjQvbW0vZmlsZW1hcC5j
IGxpbnV4LTIuNC4yNS1wcmU2L21tL2ZpbGVtYXAuYw0KLS0tIGxpbnV4LTIu
NC4yNC9tbS9maWxlbWFwLmMJMjAwNC0wMS0yMSAxOTozMzo1MC4wMDAwMDAw
MDAgKzAwMDANCisrKyBsaW51eC0yLjQuMjUtcHJlNi9tbS9maWxlbWFwLmMJ
MjAwNC0wMS0yMSAxODo1NzoxMy4wMDAwMDAwMDAgKzAwMDANCkBAIC0xMDIs
OCArMTAyLDYgQEAgc3RhdGljIGlubGluZSB2b2lkIHJlbW92ZV9wYWdlX2Zy
b21faW5vZA0KIAlwYWdlLT5tYXBwaW5nID0gTlVMTDsNCiAJd21iKCk7DQog
CW1hcHBpbmctPm5ycGFnZXMtLTsNCi0JaWYgKCFtYXBwaW5nLT5ucnBhZ2Vz
KQ0KLQkJcmVmaWxlX2lub2RlKG1hcHBpbmctPmhvc3QpOw0KIH0NCiANCiBz
dGF0aWMgaW5saW5lIHZvaWQgcmVtb3ZlX3BhZ2VfZnJvbV9oYXNoX3F1ZXVl
KHN0cnVjdCBwYWdlICogcGFnZSkNCmRpZmYgLU5hdXIgLXAgLVggL2hvbWUv
bWFyY2Vsby9saWIvZG9udGRpZmYgbGludXgtMi40LjI0L21tL3BhZ2VfYWxs
b2MuYyBsaW51eC0yLjQuMjUtcHJlNi9tbS9wYWdlX2FsbG9jLmMNCi0tLSBs
aW51eC0yLjQuMjQvbW0vcGFnZV9hbGxvYy5jCTIwMDQtMDEtMjEgMTk6MzM6
NTAuMDAwMDAwMDAwICswMDAwDQorKysgbGludXgtMi40LjI1LXByZTYvbW0v
cGFnZV9hbGxvYy5jCTIwMDQtMDEtMjEgMTg6NTc6MTMuMDAwMDAwMDAwICsw
MDAwDQpAQCAtNTM0LDIzICs1MzQsNiBAQCB1bnNpZ25lZCBpbnQgbnJfZnJl
ZV9oaWdocGFnZXMgKHZvaWQpDQogDQogCXJldHVybiBwYWdlczsNCiB9DQot
DQotdW5zaWduZWQgaW50IGZyZWVhYmxlX2xvd21lbSh2b2lkKQ0KLXsNCi0J
dW5zaWduZWQgaW50IHBhZ2VzID0gMDsNCi0JcGdfZGF0YV90ICpwZ2RhdDsN
Ci0NCi0JZm9yX2VhY2hfcGdkYXQocGdkYXQpIHsNCi0JCXBhZ2VzICs9IHBn
ZGF0LT5ub2RlX3pvbmVzW1pPTkVfRE1BXS5mcmVlX3BhZ2VzOw0KLQkJcGFn
ZXMgKz0gcGdkYXQtPm5vZGVfem9uZXNbWk9ORV9ETUFdLm5yX2FjdGl2ZV9w
YWdlczsNCi0JCXBhZ2VzICs9IHBnZGF0LT5ub2RlX3pvbmVzW1pPTkVfRE1B
XS5ucl9pbmFjdGl2ZV9wYWdlczsNCi0JCXBhZ2VzICs9IHBnZGF0LT5ub2Rl
X3pvbmVzW1pPTkVfTk9STUFMXS5mcmVlX3BhZ2VzOw0KLQkJcGFnZXMgKz0g
cGdkYXQtPm5vZGVfem9uZXNbWk9ORV9OT1JNQUxdLm5yX2FjdGl2ZV9wYWdl
czsNCi0JCXBhZ2VzICs9IHBnZGF0LT5ub2RlX3pvbmVzW1pPTkVfTk9STUFM
XS5ucl9pbmFjdGl2ZV9wYWdlczsNCi0JfQ0KLQ0KLQlyZXR1cm4gcGFnZXM7
DQotfQ0KICNlbmRpZg0KIA0KICNkZWZpbmUgSyh4KSAoKHgpIDw8IChQQUdF
X1NISUZULTEwKSkNCg==

--8323328-1625780315-1074715926=:5874--
