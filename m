Return-Path: <linux-kernel-owner+willy=40w.ods.org-S262107AbUK0Dw2@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S262107AbUK0Dw2 (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 26 Nov 2004 22:52:28 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262105AbUK0Dvg
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 26 Nov 2004 22:51:36 -0500
Received: from zeus.kernel.org ([204.152.189.113]:5572 "EHLO zeus.kernel.org")
	by vger.kernel.org with ESMTP id S262527AbUKZTdk (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 26 Nov 2004 14:33:40 -0500
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20041125210137.GD2849@parcelfarce.linux.theplanet.co.uk> 
References: <20041125210137.GD2849@parcelfarce.linux.theplanet.co.uk>  <19865.1101395592@redhat.com> <orvfbtzt7t.fsf@livre.redhat.lsd.ic.unicamp.br> 
To: Matthew Wilcox <matthew@wil.cx>
Cc: Alexandre Oliva <aoliva@redhat.com>, torvalds@osdl.org, hch@infradead.org,
       dwmw2@infradead.org, linux-kernel@vger.kernel.org,
       libc-alpha@sources.redhat.com
Subject: Re: [RFC] Splitting kernel headers and deprecating __KERNEL__ 
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Fri, 26 Nov 2004 11:58:27 +0000
Message-ID: <12983.1101470307@redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> I'm not particularly stuck on the <user/> namespace.  We could invent
> a better name.  How about <kern/> and <arch/> to replace <linux/>
> and <asm/>?  Obviously keeping linux/ and asm/ symlinks for backwards
> compatibility.

I'd rather not change linux and asm within the kernel itself. We'd have to
patch pretty much every file and move all the include files around. That's a
lot of patch.

How about calling the interface headers "kapi*/" instead of "user*/". In case
you haven't guessed, "kapi" would be short for "kernel-api".

Then we'd have in the kernel:

	NEW DIRECTORY		DIRECTORY SHADOWED
	=============		==================
	include/kapi/		include/linux/
	include/kapi-*/		include/asm-*/
	include/kapi-rxrpc/	include/rxrpc/
	include/kapi-net/	include/net/

And in userspace:

	SOURCE			INSTALLED AS
	======================	============
	include/kapi/		/usr/include/kapi/
	include/kapi-i386/	/usr/include/kapi-i386/
	include/kapi-generic/	/usr/include/kapi-generic/
				/usr/include/linux -> kapi
				/usr/include/asm -> kapi-i386
				/usr/include/asm-generic -> kapi-generic (?)

David
