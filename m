Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S290215AbSBFHgK>; Wed, 6 Feb 2002 02:36:10 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S290185AbSBFHf6>; Wed, 6 Feb 2002 02:35:58 -0500
Received: from dsl-213-023-043-188.arcor-ip.net ([213.23.43.188]:30888 "EHLO
	starship.berlin") by vger.kernel.org with ESMTP id <S290215AbSBFHfR>;
	Wed, 6 Feb 2002 02:35:17 -0500
Content-Type: text/plain; charset=US-ASCII
From: Daniel Phillips <phillips@bonn-fries.net>
To: Catalin Marinas <c_marinas@yahoo.com>,
        Roy Sigurd Karlsbakk <roy@karlsbakk.net>
Subject: Re: opening a bzImage?
Date: Wed, 6 Feb 2002 08:40:00 +0100
X-Mailer: KMail [version 1.3.2]
Cc: linux-kernel@vger.kernel.org
In-Reply-To: <Pine.LNX.4.44.0202051709310.25708-100000@stargate.simoco.com>
In-Reply-To: <Pine.LNX.4.44.0202051709310.25708-100000@stargate.simoco.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 7BIT
Message-Id: <E16YMgU-00022M-00@starship.berlin>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On February 5, 2002 06:22 pm, Catalin Marinas wrote:
> On Tue, 5 Feb 2002, Roy Sigurd Karlsbakk wrote:
> 
> > I have this bzImage file given to me from a company. They don't want to
> > give me the .config, but I need it, so I thought I'd try to
> >
> >  - open the bzImage to a vmlinux
> >  - list the .o's in the vmlinux
> >
> > Is this possible?
> 
> No. Even if you decompress the image you can't list the .o files. The
> decompressed image is not an archive (created with ar). It is a raw binary
> file generated by objcopy.
> 
> Anyway, if you still want to decompress it, the gzip'ed parts does not
> start from the beginning. In front of the kernel image might be a boot
> sector and some other code for decompressing it, video initialization etc.
> Look after the gzip signature (0x1F 0x8B I think) in your bzImage file.
> Cut the data before this and use "gzip -d" to decompress it.
> 
> > Btw.. Does GPL require them to give me the .config file?
> 
> IANAL but I don't think so, there is no code from it to compile and
> include in the kernel image. It just defines what the image contains.

IANAL either, but I don't think you're right.  Since somebody has distributed 
the bzImage to him, that somebody is obligated to provide him the source code 
- the full source code - if he requests it.  In my opinion, the .config has 
to be considered part of the source code since it's needed in order to 
compile the binary he received.  This issue needs to be clarified.

-- 
Daniel
