Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S132890AbRDPIvK>; Mon, 16 Apr 2001 04:51:10 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S132889AbRDPIvC>; Mon, 16 Apr 2001 04:51:02 -0400
Received: from 194.38.82.urbanet.ch ([194.38.82.193]:48655 "EHLO
	internet.dapsys.com") by vger.kernel.org with ESMTP
	id <S132886AbRDPIur> convert rfc822-to-8bit; Mon, 16 Apr 2001 04:50:47 -0400
From: Forum Linux <frmlnx@dapsys.com>
Date: Mon, 16 Apr 2001 08:47:30 GMT
Message-ID: <20010416.8473000@dap21.dapsys.ch>
Subject: VMWARE XF86 configuration
To: linux-x11@vger.kernel.org
CC: linux-kernel@vger.kernel.org
X-Mailer: Mozilla/3.0 (compatible; StarOffice/5.2;Linux)
X-Priority: 3 (Normal)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7BIT
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hello folks,

Trying to set up VMWare configuration on my system.

System Environment:
DELL Inspiron 8000 
Linux 2.2.16-22 Redhat 7.0
Display 1600x1200
VMWare 2.0.3-799

Problem: Unable to get VMWare running on my display

Description:
I configured VMWare according with my Samba configuration. 
My system eth0 is configured with IP 192.168.1.21 and the
VMWare internal configuration with IP 192.168.10.21

I retrieved from www.vmware.com the recommended vmware.o module
and wrote the required information of /etc/X11/XF86Config-4

This is my /etc/X11 directory:
X                 XF86Config.sv  gdm        rstart        xdm
XF86Config-4      Xmodmap        lbxproxy   sample.Xdefs  xinit
XF86Config-4.old  applnk         prefdm     system.mwmrc  xserver
XF86Config.old    fs             proxymngr  twm           xsm

This is my XF86Config-4 file contents:
# XFree86 4.0 configuration generated by Xconfigurator

Section "ServerLayout"
	Identifier "XFree86 Configured"
	Screen      0  "Screen0" 0 0
	Screen      1  "Screen1" 0 0
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

# By default, Red Hat Linux 6.0 and later use xfs

Section "Files"
	FontPath "unix/:7100"
EndSection

# This loads all the modules...

Section "Module"
	Load  "GLcore"
	Load  "dbe"
	Load  "dri"
	Load  "extmod"
	Load  "glx"
	Load  "pex5"
	Load  "record"
	Load  "xie"
	Load  "v4l"
EndSection

Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "keyboard"
	Option      "XkbLayout"	"fr_CH"
EndSection

Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option      "Device" "/dev/mouse"
	Option      "Protocol" "PS/2"
	Option      "Emulate3Buttons" "on"
	Option      "ZAxisMapping" "4 5"
EndSection

Section "Monitor"
	Identifier "Generic LCD Panel 1600x1200"
	VendorName "Unknown"
	ModelName  "Unknown"
	HorizSync 31.5-90
	VertRefresh 60 
EndSection

Section "Device"
	Identifier "ATI|Rage Mobility M4 AGP"
	Driver "r128"
	BoardName "Unknown"
EndSection

Section "Device"
	Identifier "VMware SVGA"
	Driver "vmware"
	BusID	"PCI:0:15:0"
EndSection

Section "Screen"
	Identifier "Screen0"
	Device "ATI|Rage Mobility M4 AGP"
	Monitor "Generic LCD Panel 1600x1200"
	DefaultDepth 24
	Subsection "Display"
		Depth 32
		Modes "1600x1200"
	EndSubSection
	Subsection "Display"
		Depth 24
		Modes "1600x1200"
	EndSubSection
	Subsection "extmod"
		Option "XFree86-DGA" "on"
	EndSubSection
EndSection

Section "Screen"
	Identifier "Screen1"
	Device "VMware SVGA"
	Monitor "Generic LCD Panel 1600x1200"
	DefaultDepth 24
	Subsection "Display"
		Depth 32
		Modes "1600x1200"
	EndSubSection
	Subsection "Display"
		Depth 24
		Modes "1600x1200"
	EndSubSection
EndSection

Section "DRI"
EndSection


This is my /var/log/XFree86.0.log:

(II) Loading /usr/X11R6/lib/modules/libramdac.a
(II) Module ramdac: vendor="The XFree86 Project"
	compiled for 4.0.1a, module version = 0.1.0
	ABI class: XFree86 Video Driver, version 0.2
(II) Loading sub module "xaa"
(II) LoadModule: "xaa"
(II) Loading /usr/X11R6/lib/modules/libxaa.a
(II) Module xaa: vendor="The XFree86 Project"
	compiled for 4.0.1a, module version = 1.0.0
	ABI class: XFree86 Video Driver, version 0.2
(II) UnloadModule: "vmware"
(II) Unloading /usr/X11R6/lib/modules/drivers/vmware_drv.o
(--) Depth 24 pixmap format is 32 bpp
(II) do I need RAC?  No, I don't.
(II) resource ranges after preInit:
	[0] 0	0xfcffc000 - 0xfcffffff (0x4000) MS[B]
	[1] 0	0xe8000000 - 0xebffffff (0x4000000) MS[B]
	[2] -1	0xffe00000 - 0xffffffff (0x200000) MX[B](B)
	[3] -1	0x00100000 - 0x3fffffff (0x3ff00000) MX[B]E(B)
	[4] -1	0x000f0000 - 0x000fffff (0x10000) MX[B]
	[5] -1	0x000c0000 - 0x000effff (0x30000) MX[B]
	[6] -1	0x00000000 - 0x0009ffff (0xa0000) MX[B]
	[7] -1	0xf8ff8000 - 0xf8ffbfff (0x4000) MX[B]E
	[8] -1	0xf8ffd800 - 0xf8ffdfff (0x800) MX[B]E
	[9] -1	0xf8ffe000 - 0xf8ffffff (0x2000) MX[B]E
	[10] -1	0xe4000000 - 0xe7ffffff (0x4000000) MX[B]E
	[11] -1	0xfcffc000 - 0xfcffffff (0x4000) MX[B](B)
	[12] -1	0xe8000000 - 0xebffffff (0x4000000) MX[B](B)
	[13] 0	0x000a0000 - 0x000affff (0x10000) MS[B]
	[14] 0	0x000b0000 - 0x000b7fff (0x8000) MS[B]
	[15] 0	0x000b8000 - 0x000bffff (0x8000) MS[B]
	[16] 0	0x0000cc00 - 0x0000ccff (0x100) IS[B]
	[17] -1	0x00000000 - 0x000001ff (0x200) IX[B]E
	[18] -1	0x0000ec00 - 0x0000ecff (0x100) IX[B]E
	[19] -1	0x0000dce0 - 0x0000dcff (0x20) IX[B]E
	[20] -1	0x0000bfa0 - 0x0000bfbf (0x20) IX[B]E
	[21] -1	0x0000cc00 - 0x0000ccff (0x100) IX[B](B)
	[22] 0	0x000003b0 - 0x000003bb (0xc) IS[B]
	[23] 0	0x000003c0 - 0x000003df (0x20) IS[B]
(==) r128(0): Write-combining range (0xe8000000,0x2000000)
(II) r128(0): Memory manager initialized to (0,0) (1600,5242)
(II) r128(0): Reserved area from (0,1200) to (1600,1202)
(II) r128(0): Largest offscreen area available: 1600 x 4040
(==) r128(0): Backing store disabled
(II) r128(0): Using XFree86 Acceleration Architecture (XAA)
	Screen to screen bit blits
	Solid filled rectangles
	8x8 mono pattern filled rectangles
	Indirect CPU to Screen color expansion
	Solid Lines
	Dashed Lines
	Offscreen Pixmaps
	Setting up tile and stipple cache:
		32 128x128 slots
		29 256x256 slots
		14 512x512 slots
(II) r128(0): Acceleration enabled
(II) r128(0): Using hardware cursor (scanline 4808)
(II) r128(0): Largest offscreen area available: 1600 x 4039
(II) r128(0): Direct rendering disabled
(II) Setting vga for screen 0.
(II) Initializing built-in extension MIT-SHM
(II) Initializing built-in extension XInputExtension
(II) Initializing built-in extension XTEST
(II) Initializing built-in extension XKEYBOARD
(II) Initializing built-in extension LBX
(II) Initializing built-in extension XC-APPGROUP
(II) Initializing built-in extension SECURITY
(II) Initializing built-in extension XINERAMA
(II) Initializing built-in extension XFree86-Bigfont
(**) Option "Protocol" "PS/2"
(**) Mouse0: Protocol: "PS/2"
(**) Option "CorePointer"
(**) Mouse0: Core Pointer
(**) Option "Device" "/dev/mouse"
(==) Mouse0: Buttons: 3
(**) Option "Emulate3Buttons" "on"
(**) Mouse0: Emulate3Buttons, Emulate3Timeout: 50
(**) Option "ZAxisMapping" "4 5"
(**) Mouse0: ZAxisMapping: buttons 4 and 5
(II) Keyboard "Keyboard0" handled by legacy driver
(II) XINPUT: Adding extended input device "Mouse0" (type: MOUSE)
SetKbdSettings - type: 0 rate: 30 delay: 500 snumlk: 0
SetKbdSettings - Succeeded
GetModeLine - scrn: 0 clock: 160000
GetModeLine - hdsp: 1600 hbeg: 1664 hend: 1688 httl: 2160
              vdsp: 1200 vbeg: 1200 vend: 1203 vttl: 1250 flags: 5



VMWare start-up messages:

1) You are running a "2.2.16-22" kernel which causes data CDROMs to 
appear as audio CDs under Windows9x guests and as unreadable under 
Windows NT/2000 guests. We recommend you upgrade your kernel to 2.2.17 or 
newer, or revert to 2.2.15 or older.

Fine.


2) My problem after VMWare does a test on my DISPLAY:
Your X server does not support XFree86 DGA accelerated graphics on your 
display hardware.  Full-screen SVGA mode will not have acceleration.

You may be able to download an updated XFree86 server at 
"http://www.vmware.com/xfree86".



Any idea about ?



