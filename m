Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S264977AbTFCMZM (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 3 Jun 2003 08:25:12 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S264980AbTFCMZM
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 3 Jun 2003 08:25:12 -0400
Received: from mailout04.sul.t-online.com ([194.25.134.18]:9143 "EHLO
	mailout04.sul.t-online.com") by vger.kernel.org with ESMTP
	id S264977AbTFCMZH (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Tue, 3 Jun 2003 08:25:07 -0400
Message-Id: <5.1.0.14.2.20030603143135.00ae9d40@pop.t-online.de>
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Tue, 03 Jun 2003 14:38:24 +0200
To: linux-kernel@vger.kernel.org
From: margitsw@t-online.de (Margit Schubert-While)
Subject: Linux 2.4.21rc6-ac2
Mime-Version: 1.0
Content-Type: multipart/mixed;
	boundary="=====================_25481139==_"
X-Seen: false
X-ID: XHkKAmZTQeefqvzJhdPbJwyg6qOxDxlzYoC6EzMD+ELLBDoDJ56eos@t-dialin.net
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

--=====================_25481139==_
Content-Type: text/plain; charset="us-ascii"; format=flowed

Alan, a few things that I think should be in (and for the next rc ?) -
1) Force inline for >= gcc 3.3
2) -march=  for pentium3/4
3) Radeon 9k support
4) Junk the chipset id'ing in agp_support.h
      (Not in DRI/DRM mainline and not in 2.5)
Margit
--=====================_25481139==_
Content-Type: application/octet-stream; name="patchrc6ac2"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="patchrc6ac2"

ZGlmZiAtTmF1ciBsaW51eC0yLjQuMjFyYzZhYzIvYXJjaC9pMzg2L01ha2VmaWxlIGxpbnV4LTIu
NC4yMXJjNmFjMm13MC9hcmNoL2kzODYvTWFrZWZpbGUKLS0tIGxpbnV4LTIuNC4yMXJjNmFjMi9h
cmNoL2kzODYvTWFrZWZpbGUJMjAwMy0wNi0wMyAxNDowMjo0Mi4wMDAwMDAwMDAgKzAyMDAKKysr
IGxpbnV4LTIuNC4yMXJjNmFjMm13MC9hcmNoL2kzODYvTWFrZWZpbGUJMjAwMy0wNi0wMyAxNDoy
NjoxNS4wMDAwMDAwMDAgKzAyMDAKQEAgLTI4LDYgKzI4LDkgQEAKICMgcHJldmVudCBnY2MgZnJv
bSBrZWVwaW5nIHRoZSBzdGFjayAxNiBieXRlIGFsaWduZWQKIENGTEFHUyArPSAkKGNhbGwgY2hl
Y2tfZ2NjLC1tcHJlZmVycmVkLXN0YWNrLWJvdW5kYXJ5PTIsKQogCisjIEZvcmNlIEdDQyAzIHRv
IGlubGluZQorQ0ZMQUdTICs9ICQoY2FsbCBjaGVja19nY2MsLWZpbmxpbmUtbGltaXQ9MjUwMCwp
CisKIGlmZGVmIENPTkZJR19NMzg2CiBDRkxBR1MgKz0gLW1hcmNoPWkzODYKIGVuZGlmCkBAIC01
MywxMSArNTYsMTEgQEAKIGVuZGlmCiAKIGlmZGVmIENPTkZJR19NUEVOVElVTUlJSQotQ0ZMQUdT
ICs9IC1tYXJjaD1pNjg2CitDRkxBR1MgKz0gJChjYWxsIGNoZWNrX2djYywtbWFyY2g9cGVudGl1
bTMsLW1hcmNoPWk2ODYpCiBlbmRpZgogCiBpZmRlZiBDT05GSUdfTVBFTlRJVU00Ci1DRkxBR1Mg
Kz0gLW1hcmNoPWk2ODYKK0NGTEFHUyArPSAkKGNhbGwgY2hlY2tfZ2NjLC1tYXJjaD1wZW50aXVt
NCwtbWFyY2g9aTY4NikKIGVuZGlmCiAKIGlmZGVmIENPTkZJR19NSzYKZGlmZiAtTmF1ciBsaW51
eC0yLjQuMjFyYzZhYzIvZHJpdmVycy9jaGFyL2RybS9kcm1fYWdwc3VwcG9ydC5oIGxpbnV4LTIu
NC4yMXJjNmFjMm13MC9kcml2ZXJzL2NoYXIvZHJtL2RybV9hZ3BzdXBwb3J0LmgKLS0tIGxpbnV4
LTIuNC4yMXJjNmFjMi9kcml2ZXJzL2NoYXIvZHJtL2RybV9hZ3BzdXBwb3J0LmgJMjAwMy0wNi0w
MyAxNDowMzoxMi4wMDAwMDAwMDAgKzAyMDAKKysrIGxpbnV4LTIuNC4yMXJjNmFjMm13MC9kcml2
ZXJzL2NoYXIvZHJtL2RybV9hZ3BzdXBwb3J0LmgJMjAwMy0wNi0wMyAxNDoxNDo0Ny4wMDAwMDAw
MDAgKzAyMDAKQEAgLTI1OSw2NyArMjU5LDEzIEBACiAJCQlyZXR1cm4gTlVMTDsKIAkJfQogCQlo
ZWFkLT5tZW1vcnkgPSBOVUxMOwotCQlzd2l0Y2ggKGhlYWQtPmFncF9pbmZvLmNoaXBzZXQpIHsK
LQkJY2FzZSBJTlRFTF9HRU5FUklDOgloZWFkLT5jaGlwc2V0ID0gIkludGVsIjsgICAgICAgICBi
cmVhazsKLQkJY2FzZSBJTlRFTF9MWDoJCWhlYWQtPmNoaXBzZXQgPSAiSW50ZWwgNDQwTFgiOyAg
IGJyZWFrOwotCQljYXNlIElOVEVMX0JYOgkJaGVhZC0+Y2hpcHNldCA9ICJJbnRlbCA0NDBCWCI7
ICAgYnJlYWs7Ci0JCWNhc2UgSU5URUxfR1g6CQloZWFkLT5jaGlwc2V0ID0gIkludGVsIDQ0MEdY
IjsgICBicmVhazsKLQkJY2FzZSBJTlRFTF9JODEwOgloZWFkLT5jaGlwc2V0ID0gIkludGVsIGk4
MTAiOyAgICBicmVhazsKLQkJY2FzZSBJTlRFTF9JODE1OgloZWFkLT5jaGlwc2V0ID0gIkludGVs
IGk4MTUiOwkgYnJlYWs7Ci0JIAljYXNlIElOVEVMX0k4MjA6CWhlYWQtPmNoaXBzZXQgPSAiSW50
ZWwgaTgyMCI7CSBicmVhazsKLQkJY2FzZSBJTlRFTF9JODQwOgloZWFkLT5jaGlwc2V0ID0gIklu
dGVsIGk4NDAiOyAgICBicmVhazsKLQkJY2FzZSBJTlRFTF9JODQ1OgloZWFkLT5jaGlwc2V0ID0g
IkludGVsIGk4NDUiOyAgICBicmVhazsKLQkJY2FzZSBJTlRFTF9JODUwOgloZWFkLT5jaGlwc2V0
ID0gIkludGVsIGk4NTAiOwkgYnJlYWs7Ci0KLQkJY2FzZSBWSUFfR0VORVJJQzoJaGVhZC0+Y2hp
cHNldCA9ICJWSUEiOyAgICAgICAgICAgYnJlYWs7Ci0JCWNhc2UgVklBX1ZQMzoJCWhlYWQtPmNo
aXBzZXQgPSAiVklBIFZQMyI7ICAgICAgIGJyZWFrOwotCQljYXNlIFZJQV9NVlAzOgkJaGVhZC0+
Y2hpcHNldCA9ICJWSUEgTVZQMyI7ICAgICAgYnJlYWs7Ci0JCWNhc2UgVklBX01WUDQ6CQloZWFk
LT5jaGlwc2V0ID0gIlZJQSBNVlA0IjsgICAgICBicmVhazsKLQkJY2FzZSBWSUFfQVBPTExPX0tY
MTMzOgloZWFkLT5jaGlwc2V0ID0gIlZJQSBBcG9sbG8gS1gxMzMiOwotCQkJYnJlYWs7Ci0JCWNh
c2UgVklBX0FQT0xMT19LVDEzMzoJaGVhZC0+Y2hpcHNldCA9ICJWSUEgQXBvbGxvIEtUMTMzIjsK
LQkJCWJyZWFrOwotCQljYXNlIFZJQV9BUE9MTE9fS00yNjY6CWhlYWQtPmNoaXBzZXQgPSAiVklB
IEFwb2xsbyBLTTI2NiAvIEtMMjY2IjsKLQkJCWJyZWFrOwotCQljYXNlIFZJQV9BUE9MTE9fS1Q0
MDA6ICBoZWFkLT5jaGlwc2V0ID0gIlZJQSBBcG9sbG8gS1Q0MDAiOwotCQkJYnJlYWs7Ci0JCWNh
c2UgVklBX0FQT0xMT19QUk86IAloZWFkLT5jaGlwc2V0ID0gIlZJQSBBcG9sbG8gUHJvIjsKLQkJ
CWJyZWFrOwotCi0JCWNhc2UgU0lTX0dFTkVSSUM6CWhlYWQtPmNoaXBzZXQgPSAiU2lTIjsgICAg
ICAgICAgIGJyZWFrOwotCQljYXNlIEFNRF9HRU5FUklDOgloZWFkLT5jaGlwc2V0ID0gIkFNRCI7
ICAgICAgICAgICBicmVhazsKLQkJY2FzZSBBTURfSVJPTkdBVEU6CWhlYWQtPmNoaXBzZXQgPSAi
QU1EIElyb25nYXRlIjsgIGJyZWFrOwotCQljYXNlIEFNRF84MTUxOgkJaGVhZC0+Y2hpcHNldCA9
ICJBTUQgODE1MSI7ICAgICAgYnJlYWs7Ci0JCWNhc2UgQUxJX0dFTkVSSUM6CWhlYWQtPmNoaXBz
ZXQgPSAiQUxpIjsgICAgICAgICAgIGJyZWFrOwotCQljYXNlIEFMSV9NMTU0MTogCWhlYWQtPmNo
aXBzZXQgPSAiQUxpIE0xNTQxIjsgICAgIGJyZWFrOwotCi0JCWNhc2UgQUxJX00xNjIxOiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2MjEiOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjMxOiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2MzEiOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjMyOiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2MzIiOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjQxOiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2NDEiOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjQ0OiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2NDQiOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjQ3OiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2NDciOwkgYnJlYWs7Ci0JCWNhc2UgQUxJX00xNjUxOiAJaGVh
ZC0+Y2hpcHNldCA9ICJBTGkgTTE2NTEiOwkgYnJlYWs7Ci0KLQkJY2FzZSBTVldSS1NfSEU6IAlo
ZWFkLT5jaGlwc2V0ID0gIlNlcnZlcndvcmtzIEhFIjsKLQkJCWJyZWFrOwotCQljYXNlIFNWV1JL
U19MRTogCWhlYWQtPmNoaXBzZXQgPSAiU2VydmVyd29ya3MgTEUiOwotCQkJYnJlYWs7Ci0JCWNh
c2UgU1ZXUktTX0dFTkVSSUM6IAloZWFkLT5jaGlwc2V0ID0gIlNlcnZlcndvcmtzIEdlbmVyaWMi
OwotCQkJYnJlYWs7Ci0KLQkJY2FzZSBIUF9aWDE6CQloZWFkLT5jaGlwc2V0ID0gIkhQIFpYMSI7
CSBicmVhazsKLQotCQlkZWZhdWx0OgkJaGVhZC0+Y2hpcHNldCA9ICJVbmtub3duIjsgICAgICAg
YnJlYWs7Ci0JCX0KIAogCQloZWFkLT5jYW50X3VzZV9hcGVydHVyZSA9IGhlYWQtPmFncF9pbmZv
LmNhbnRfdXNlX2FwZXJ0dXJlOwogCQloZWFkLT5wYWdlX21hc2sgPSBoZWFkLT5hZ3BfaW5mby5w
YWdlX21hc2s7CiAKLQkJRFJNX0lORk8oIkFHUCAlZC4lZCBvbiAlcyBAIDB4JTA4bHggJVp1TUJc
biIsCisJCURSTV9JTkZPKCJBR1AgJWQuJWQgQXBlcnR1cmUgQCAweCUwOGx4ICVadU1CXG4iLAog
CQkJIGhlYWQtPmFncF9pbmZvLnZlcnNpb24ubWFqb3IsCiAJCQkgaGVhZC0+YWdwX2luZm8udmVy
c2lvbi5taW5vciwKLQkJCSBoZWFkLT5jaGlwc2V0LAogCQkJIGhlYWQtPmFncF9pbmZvLmFwZXJf
YmFzZSwKIAkJCSBoZWFkLT5hZ3BfaW5mby5hcGVyX3NpemUpOwogCX0KZGlmZiAtTmF1ciBsaW51
eC0yLjQuMjFyYzZhYzIvZHJpdmVycy92aWRlby9yYWRlb24uaCBsaW51eC0yLjQuMjFyYzZhYzJt
dzAvZHJpdmVycy92aWRlby9yYWRlb24uaAotLS0gbGludXgtMi40LjIxcmM2YWMyL2RyaXZlcnMv
dmlkZW8vcmFkZW9uLmgJMjAwMi0xMS0yOSAwMDo1MzoxNS4wMDAwMDAwMDAgKzAxMDAKKysrIGxp
bnV4LTIuNC4yMXJjNmFjMm13MC9kcml2ZXJzL3ZpZGVvL3JhZGVvbi5oCTIwMDMtMDYtMDMgMTQ6
MTU6NDIuMDAwMDAwMDAwICswMjAwCkBAIC0xNSw2ICsxNSwxMCBAQAogI2RlZmluZSBQQ0lfREVW
SUNFX0lEX1JBREVPTl9QTQkJMHg0YzUyCiAjZGVmaW5lIFBDSV9ERVZJQ0VfSURfUkFERU9OX1FM
CQkweDUxNGMKICNkZWZpbmUgUENJX0RFVklDRV9JRF9SQURFT05fUVcJCTB4NTE1NworI2RlZmlu
ZSBQQ0lfREVWSUNFX0lEX1JBREVPTl9MRgkJMHg0YzY2CisjZGVmaW5lIFBDSV9ERVZJQ0VfSURf
UkFERU9OX0lGCQkweDQ5NjYKKyNkZWZpbmUgUENJX0RFVklDRV9JRF9SQURFT05fTkUJCTB4NGU0
NQorI2RlZmluZSBQQ0lfREVWSUNFX0lEX1JBREVPTl9RTQkJMHg1MTRkCiAKICNkZWZpbmUgUkFE
RU9OX1JFR1NJWkUJCQkweDQwMDAKIApkaWZmIC1OYXVyIGxpbnV4LTIuNC4yMXJjNmFjMi9kcml2
ZXJzL3ZpZGVvL3JhZGVvbmZiLmMgbGludXgtMi40LjIxcmM2YWMybXcwL2RyaXZlcnMvdmlkZW8v
cmFkZW9uZmIuYwotLS0gbGludXgtMi40LjIxcmM2YWMyL2RyaXZlcnMvdmlkZW8vcmFkZW9uZmIu
YwkyMDAzLTA2LTAzIDE0OjAyOjQ4LjAwMDAwMDAwMCArMDIwMAorKysgbGludXgtMi40LjIxcmM2
YWMybXcwL2RyaXZlcnMvdmlkZW8vcmFkZW9uZmIuYwkyMDAzLTA2LTAzIDE0OjE1OjQyLjAwMDAw
MDAwMCArMDIwMApAQCAtMTAxLDcgKzEwMSwxMSBAQAogCVJBREVPTl9MVywJLyogUmFkZW9uIE1v
YmlsaXR5IE03ICovCiAJUkFERU9OX0xZLAkvKiBSYWRlb24gTW9iaWxpdHkgTTYgKi8KIAlSQURF
T05fTFosCS8qIFJhZGVvbiBNb2JpbGl0eSBNNiAqLwotCVJBREVPTl9QTQkvKiBSYWRlb24gTW9i
aWxpdHkgUC9NICovCisJUkFERU9OX0xGLAkvKiBSYWRlb24gTW9iaWxpdHkgOTAwMCAqLworCVJB
REVPTl9QTSwgCS8qIFJhZGVvbiBNb2JpbGl0eSBQL00gKi8KKwlSQURFT05fSUYsCS8qIFJhZGVv
biA5MDAwICovCisJUkFERU9OX05FLAkvKiBSYWRlb24gOTUwMC85NzAwICAqLworCVJBREVPTl9R
TQkvKiBSYWRlb24gOTEwMCAqLwogfTsKIAogCkBAIC0xMjksNiArMTMzLDEwIEBACiAJeyBQQ0lf
VkVORE9SX0lEX0FUSSwgUENJX0RFVklDRV9JRF9SQURFT05fTFksIFBDSV9BTllfSUQsIFBDSV9B
TllfSUQsIDAsIDAsIFJBREVPTl9MWX0sCiAJeyBQQ0lfVkVORE9SX0lEX0FUSSwgUENJX0RFVklD
RV9JRF9SQURFT05fTFosIFBDSV9BTllfSUQsIFBDSV9BTllfSUQsIDAsIDAsIFJBREVPTl9MWn0s
CiAJeyBQQ0lfVkVORE9SX0lEX0FUSSwgUENJX0RFVklDRV9JRF9SQURFT05fUE0sIFBDSV9BTllf
SUQsIFBDSV9BTllfSUQsIDAsIDAsIFJBREVPTl9QTX0sCisJeyBQQ0lfVkVORE9SX0lEX0FUSSwg
UENJX0RFVklDRV9JRF9SQURFT05fSUYsIFBDSV9BTllfSUQsIFBDSV9BTllfSUQsIDAsIDAsIFJB
REVPTl9JRn0sCisJeyBQQ0lfVkVORE9SX0lEX0FUSSwgUENJX0RFVklDRV9JRF9SQURFT05fTEYs
IFBDSV9BTllfSUQsIFBDSV9BTllfSUQsIDAsIDAsIFJBREVPTl9MRn0sCisJeyBQQ0lfVkVORE9S
X0lEX0FUSSwgUENJX0RFVklDRV9JRF9SQURFT05fTkUsIFBDSV9BTllfSUQsIFBDSV9BTllfSUQs
IDAsIDAsIFJBREVPTl9ORX0sCisJeyBQQ0lfVkVORE9SX0lEX0FUSSwgUENJX0RFVklDRV9JRF9S
QURFT05fUU0sIFBDSV9BTllfSUQsIFBDSV9BTllfSUQsIDAsIDAsIFJBREVPTl9RTX0sCiAJeyAw
LCB9CiB9OwogTU9EVUxFX0RFVklDRV9UQUJMRShwY2ksIHJhZGVvbmZiX3BjaV90YWJsZSk7CkBA
IC04NTgsOSArODY2LDI2IEBACiAJCQlzdHJjcHkocmluZm8tPm5hbWUsICJSYWRlb24gTTYgTFog
Iik7CiAJCQlyaW5mby0+aGFzQ1JUQzIgPSAxOwogCQkJYnJlYWs7Ci0JICAgICAgICBjYXNlIFBD
SV9ERVZJQ0VfSURfUkFERU9OX1BNOgorCQljYXNlIFBDSV9ERVZJQ0VfSURfUkFERU9OX1BNOgog
CQkJc3RyY3B5KHJpbmZvLT5uYW1lLCAiUmFkZW9uIFAvTSAiKTsKIAkJCXJpbmZvLT5oYXNDUlRD
MiA9IDE7CisJCQlicmVhazsKKwkgICAgICAgIGNhc2UgUENJX0RFVklDRV9JRF9SQURFT05fSUY6
CisJCQlzdHJjcHkocmluZm8tPm5hbWUsICJSYWRlb24gOTAwMCAiKTsKKwkJCXJpbmZvLT5oYXND
UlRDMiA9IDE7CisJCQlicmVhazsKKwkgICAgICAgIGNhc2UgUENJX0RFVklDRV9JRF9SQURFT05f
TEY6CisJCQlzdHJjcHkocmluZm8tPm5hbWUsICJSYWRlb24gTTkwMDAgIik7CisJCQlyaW5mby0+
aGFzQ1JUQzIgPSAxOworCQkJYnJlYWs7CisJICAgICAgICBjYXNlIFBDSV9ERVZJQ0VfSURfUkFE
RU9OX05FOgorCQkJc3RyY3B5KHJpbmZvLT5uYW1lLCAiUmFkZW9uIDk3MDAgIik7CisJCQlyaW5m
by0+aGFzQ1JUQzIgPSAxOworCQkJYnJlYWs7CisJICAgICAgICBjYXNlIFBDSV9ERVZJQ0VfSURf
UkFERU9OX1FNOgorCQkJc3RyY3B5KHJpbmZvLT5uYW1lLCAiUmFkZW9uIDkxMDAgIik7CisJCQly
aW5mby0+aGFzQ1JUQzIgPSAxOworCQkJYnJlYWs7CiAJCWRlZmF1bHQ6CiAJCQlyZXR1cm4gLUVO
T0RFVjsKIAl9CkBAIC05MzgsNiArOTYzLDcgQEAKIAkJY2FzZSBQQ0lfREVWSUNFX0lEX1JBREVP
Tl9MWToKIAkJY2FzZSBQQ0lfREVWSUNFX0lEX1JBREVPTl9MWjoKIAkJY2FzZSBQQ0lfREVWSUNF
X0lEX1JBREVPTl9QTToKKwkJY2FzZSBQQ0lfREVWSUNFX0lEX1JBREVPTl9MRjoKIAkJCXJpbmZv
LT5kdmlEaXNwX3R5cGUgPSBNVF9MQ0Q7CiAJCQlicmVhazsKIAkJZGVmYXVsdDoKQEAgLTI4Nzks
NiArMjkwNSw3IEBACiAJCQljYXNlIFBDSV9ERVZJQ0VfSURfUkFERU9OX0xZOgogCQkJY2FzZSBQ
Q0lfREVWSUNFX0lEX1JBREVPTl9MWjoKIAkJCWNhc2UgUENJX0RFVklDRV9JRF9SQURFT05fUE06
CisJCQljYXNlIFBDSV9ERVZJQ0VfSURfUkFERU9OX0xGOgogCQkJCWJyZWFrOwogCQkJZGVmYXVs
dDoKIAkJCQlyZXR1cm4gUEJPT0tfU0xFRVBfUkVGVVNFOwo=
--=====================_25481139==_--

