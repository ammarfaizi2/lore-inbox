Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261618AbTILAwB (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 11 Sep 2003 20:52:01 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261627AbTILAwB
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 11 Sep 2003 20:52:01 -0400
Received: from GOL139579-1.gw.connect.com.au ([203.63.118.157]:51939 "EHLO
	goldweb.com.au") by vger.kernel.org with ESMTP id S261618AbTILAvz
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 11 Sep 2003 20:51:55 -0400
Message-ID: <1063327887.3f61188f9947e@dubai.stillhq.com>
Date: Fri, 12 Sep 2003 10:51:27 +1000
From: Michael Still <mikal@stillhq.com>
To: torvalds@osdl.org
Cc: linux-kernel@vger.kernel.org
Subject: [2.6 PATCH] Squelch make mandocs warnings
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="-MOQ1063327886d95e40b1c04418a9f1c7102f5ce72c97"
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 203.17.68.210
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

This message is in MIME format.

---MOQ1063327886d95e40b1c04418a9f1c7102f5ce72c97
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit


Hello.

This patch removes the case sensitivity from a bunch of the regular expressions
used to handle docbook tags within the mandocs scripts. It also tweaks the
scripts to use the value of the $TMPDIR environment variable for the location of
temporary files (if set). The default is to still use /tmp.

The patch results in significantly fewer warnings being generated by a "make
mandocs". It's part of an ongoing warning squelching effort.

The patch can also be downloaded from
http://www.stillhq.com/linux/patches/2.6.0-test4-bk5/mandocs_ignorecase, sample
output at http://www.stillhq.com/linux/mandocs/2.6.0-test4-bk5/ although there
should be no visible changes...

Please apply.

Thanks,
Mikal

PS: Oh, and Gordon says hello.

-- 

Michael Still (mikal@stillhq.com) | "All my life I've had one dream,
http://www.stillhq.com            |  to achieve my many goals"
UTC + 10                          |    -- Homer Simpson


-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---MOQ1063327886d95e40b1c04418a9f1c7102f5ce72c97
Content-Type: application/octet-stream; name="mandocs_ignorecase"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="mandocs_ignorecase"

ZGlmZiAtTnVyIGxpbnV4LTIuNi4wLXRlc3Q0LWJrNS9zY3JpcHRzL21ha2VtYW4gbGludXgtMi42
LjAtdGVzdDQtYms1LW1hbmRvY3Mvc2NyaXB0cy9tYWtlbWFuCi0tLSBsaW51eC0yLjYuMC10ZXN0
NC1iazUvc2NyaXB0cy9tYWtlbWFuCTIwMDMtMDktMDQgMTA6NDM6MTUuMDAwMDAwMDAwICsxMDAw
CisrKyBsaW51eC0yLjYuMC10ZXN0NC1iazUtbWFuZG9jcy9zY3JpcHRzL21ha2VtYW4JMjAwMy0w
OS0wNSAxMDowNzoxNC4wMDAwMDAwMDAgKzEwMDAKQEAgLTEyLDcgKzEyLDcgQEAKICMjICAgICAg
ICAgICAgICQzIC0tIHRoZSBmaWxlbmFtZSB3aGljaCBjb250YWluZWQgdGhlIHNnbWxkb2Mgb3V0
cHV0CiAjIyAgICAgICAgICAgICAgICAgICAgIChJIG5lZWQgdGhpcyBzbyBJIGtub3cgd2hpY2gg
bWFucGFnZXMgdG8gY29udmVydCkKIAotbXkoJExJU1RJTkcsICRHRU5FUkFURUQsICRJTlBVVCwg
JE9VVFBVVCwgJGZyb250LCAkbW9kZSwgJGZpbGVuYW1lKTsKK215KCRMSVNUSU5HLCAkR0VORVJB
VEVELCAkSU5QVVQsICRPVVRQVVQsICRmcm9udCwgJG1vZGUsICRmaWxlbmFtZSwgJHRtcGRpcik7
CiAKIGlmKCRBUkdWWzBdIGVxICIiKXsKICAgZGllICJVc2FnZTogbWFrZW1hbiBbY29udmVydCB8
IGluc3RhbGxdIDxkaXI+IDxmaWxlPlxuIjsKQEAgLTIyLDYgKzIyLDEzIEBACiAgIGRpZSAiT3V0
cHV0IGRpcmVjdG9yeSBcIiRBUkdWWzFdXCIgZG9lcyBub3QgZXhpc3RcbiI7CiB9CiAKK2lmKCRF
TlZ7IlRNUERJUiJ9IG5lICIiKXsKKyAgJHRtcGRpciA9ICRFTlZ7IlRNUERJUiJ9OworfQorZWxz
ZXsKKyAgJHRtcGRpciA9ICIvdG1wIjsKK30KKwogaWYoJEFSR1ZbMF0gZXEgImNvbnZlcnQiKXsK
ICAgb3BlbiBMSVNUSU5HLCAiZ3JlcCBcIjxyZWZlbnRyeXRpdGxlPlwiICRBUkdWWzJdIHwiOwog
ICB3aGlsZSg8TElTVElORz4pewpAQCAtNDAsMjkgKzQ3LDM4IEBACiAgICAgb3BlbiBJTlBVVCwg
IjwgJEFSR1ZbMV0vJGZpbGVuYW1lLnNnbWwiOwogICAgICRmcm9udCA9ICIiOwogICAgICRtb2Rl
ID0gMDsKLSAgICB3aGlsZSg8SU5QVVQ+KXsKLSAgICAgIGlmKC8uKkVOREZST05UVEFHLiovKXsK
LQkkbW9kZSA9IDA7Ci0gICAgICB9CiAKKyAgICAjIFRoZSBtb2RlcyB1c2VkIGhlcmUgYXJlOgor
ICAgICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBtb2RlID0gMAorICAgICMgPCEtLSBCRUdJTkZST05UVEFHIC0tPgorICAgICMgPCEtLSA8
Ym9va2luZm8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlID0g
MQorICAgICMgPCEtLSAgIDxsZWdhbG5vdGljZT4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBtb2RlID0gMgorICAgICMgPCEtLSAgICAgLi4uR1BMIG9yIHdoYXRldmVyLi4uCisg
ICAgIyA8IS0tICAgPC9sZWdhbG5vdGljZT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIG1vZGUgPSA0CisgICAgIyA8IS0tIDwvYm9va2luZm8+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG1vZGUgPSAzCisgICAgIyA8IS0tIEVOREZST05UVEFHIC0tPgor
ICAgICMKKyAgICAjIC4uLmRvY28uLi4KKworICAgICMgSSBrbm93IHRoYXQgc29tZSBvZiB0aGUg
aWYgc3RhdGVtZW50cyBpbiB0aGlzIHdoaWxlIGxvb3AgYXJlIGluIGEgZnVubnkKKyAgICAjIG9y
ZGVyLCBidXQgdGhhdCBpcyBkZWxpYmVyYXRlLi4uCisgICAgd2hpbGUoPElOUFVUPil7CiAgICAg
ICBpZigkbW9kZSA+IDApewogCXMvPCEtLSAvLzsKIAlzLyAtLT4vLzsKLQlzLzxib29raW5mbz4v
LzsKLQlzLzxcL2Jvb2tpbmZvPi8vOwotCXMvPGRvY2luZm8+Ly87Ci0JczxcL2RvY2luZm8+Ly87
Ci0Jcy9eWyBcdF0qLy87CisJcy88ZG9jaW5mbz4vL2k7CisJczxcL2RvY2luZm8+Ly9pOworCXMv
XlsgXHRdKi8vaTsKICAgICAgIH0KIAogICAgICAgaWYoJG1vZGUgPT0gMil7Ci0JaWYoLzxwYXJh
Pi8peworCWlmKC88cGFyYT4vaSl7CiAJfQotCWVsc2lmKC88XC9wYXJhPi8peworCWVsc2lmKC88
XC9wYXJhPi9pKXsKIAkgICRmcm9udCA9ICIkZnJvbnQuXFxcIiBcbiI7CiAJfQotCWVsc2lmKC88
XC9sZWdhbG5vdGljZT4vKXsKLQkgICRtb2RlID0gMTsKKwllbHNpZigvPFwvbGVnYWxub3RpY2U+
L2kpeworCSAgJG1vZGUgPSA0OwogCX0KIAllbHNpZigvXlsgXHRdKiQvKXsKIAl9CkBAIC03Miw2
OSArODgsNzkgQEAKICAgICAgIH0KIAogICAgICAgaWYoJG1vZGUgPT0gMSl7Ci0JaWYoLzx0aXRs
ZT4oLiopPFwvdGl0bGU+Lyl7CisJaWYoLzx0aXRsZT4oLiopPFwvdGl0bGU+L2kpewogCSAgJGZy
b250ID0gIiRmcm9udC5cXFwiIFRoaXMgZG9jdW1lbnRhdGlvbiB3YXMgZ2VuZXJhdGVkIGZyb20g
dGhlIGJvb2sgdGl0bGVkIFwiJDFcIiwgd2hpY2ggaXMgcGFydCBvZiB0aGUgTGludXgga2VybmVs
IHNvdXJjZS5cbi5cXFwiIFxuIjsKIAl9Ci0JZWxzaWYoLzxsZWdhbG5vdGljZT4vKXsKKwllbHNp
ZigvPGxlZ2Fsbm90aWNlPi9pKXsKIAkgICRmcm9udCA9ICIkZnJvbnQuXFxcIiBUaGlzIGRvY3Vt
ZW50YXRpb24gY29tZXMgd2l0aCB0aGUgZm9sbG93aW5nIGxlZ2FsIG5vdGljZTpcbi5cXFwiIFxu
IjsKIAkgICRtb2RlID0gMjsKIAl9CiAKLQllbHNpZigvPGF1dGhvcj4vKXsKKwllbHNpZigvPGF1
dGhvcj4vaSl7CiAJICAkZnJvbnQgPSAiJGZyb250LlxcXCIgRG9jdW1lbnRhdGlvbiBieTogIjsK
IAl9Ci0JZWxzaWYoLzxmaXJzdG5hbWU+KC4qKTxcL2ZpcnN0bmFtZT4vKXsKKwllbHNpZigvPGZp
cnN0bmFtZT4oLiopPFwvZmlyc3RuYW1lPi9pKXsKIAkgICRmcm9udCA9ICIkZnJvbnQkMSAiOwog
CX0KLQllbHNpZigvPHN1cm5hbWU+KC4qKTxcL3N1cm5hbWU+Lyl7CisJZWxzaWYoLzxzdXJuYW1l
PiguKik8XC9zdXJuYW1lPi9pKXsKIAkgICRmcm9udCA9ICIkZnJvbnQkMSAiOwogCX0KLQllbHNp
ZigvPGVtYWlsPiguKik8XC9lbWFpbD4vKXsKKwllbHNpZigvPGVtYWlsPiguKik8XC9lbWFpbD4v
aSl7CiAJICAkZnJvbnQgPSAiJGZyb250KCQxKSI7CiAJfQotCWVsc2lmKC9cL2F1dGhvcj4vKXsK
KwllbHNpZigvXC9hdXRob3I+L2kpewogCSAgJGZyb250ID0gIiRmcm9udFxuIjsKIAl9CiAKLQll
bHNpZigvPGNvcHlyaWdodD4vKXsKKwllbHNpZigvPGNvcHlyaWdodD4vaSl7CiAJICAkZnJvbnQg
PSAiJGZyb250LlxcXCIgRG9jdW1lbnRhdGlvbiBjb3B5cmlnaHQ6ICI7CiAJfQotCWVsc2lmKC88
aG9sZGVyPiguKik8XC9ob2xkZXI+Lyl7CisJZWxzaWYoLzxob2xkZXI+KC4qKTxcL2hvbGRlcj4v
aSl7CiAJICAkZnJvbnQgPSAiJGZyb250JDEgIjsKIAl9Ci0JZWxzaWYoLzx5ZWFyPiguKik8XC95
ZWFyPi8peworCWVsc2lmKC88eWVhcj4oLiopPFwveWVhcj4vaSl7CiAJICAkZnJvbnQgPSAiJGZy
b250JDEgIjsKIAl9Ci0JZWxzaWYoL1wvY29weXJpZ2h0Pi8peworCWVsc2lmKC9cL2NvcHlyaWdo
dD4vaSl7CiAJICAkZnJvbnQgPSAiJGZyb250XG4iOwogCX0KIAogCWVsc2lmKC9eWyBcdF0qJC8K
LQkgICAgICB8fCAvPGFmZmlsaWF0aW9uPi8KLQkgICAgICB8fCAvPFwvYWZmaWxpYXRpb24+Lwot
CSAgICAgIHx8IC88YWRkcmVzcz4vCi0JICAgICAgfHwgLzxcL2FkZHJlc3M+LwotCSAgICAgIHx8
IC88YXV0aG9yZ3JvdXA+LwotCSAgICAgIHx8IC88XC9hdXRob3Jncm91cD4vCi0JICAgICAgfHwg
LzxcL2xlZ2Fsbm90aWNlPi8KLSAgICAgICAgICAgICAgfHwgLzxkYXRlPi8KLSAgICAgICAgICAg
ICAgfHwgLzxcL2RhdGU+LwotICAgICAgICAgICAgICB8fCAvPGVkaXRpb24+LwotICAgICAgICAg
ICAgICB8fCAvPFwvZWRpdGlvbj4vKXsKKwkgICAgICB8fCAvPGFmZmlsaWF0aW9uPi9pCisJICAg
ICAgfHwgLzxcL2FmZmlsaWF0aW9uPi9pCisJICAgICAgfHwgLzxhZGRyZXNzPi9pCisJICAgICAg
fHwgLzxcL2FkZHJlc3M+L2kKKwkgICAgICB8fCAvPGF1dGhvcmdyb3VwPi9pCisJICAgICAgfHwg
LzxcL2F1dGhvcmdyb3VwPi9pCisJICAgICAgfHwgLzxcL2xlZ2Fsbm90aWNlPi9pCisgICAgICAg
ICAgICAgIHx8IC88ZGF0ZT4vaQorICAgICAgICAgICAgICB8fCAvPFwvZGF0ZT4vaQorICAgICAg
ICAgICAgICB8fCAvPGVkaXRpb24+L2kKKyAgICAgICAgICAgICAgfHwgLzxcL2VkaXRpb24+L2kK
KwkgICAgICB8fCAvPHB1YmRhdGU+L2kKKwkgICAgICB8fCAvPFwvcHViZGF0ZT4vaSl7CiAJfQog
CWVsc2V7CiAJICBwcmludCAiVW5rbm93biB0YWcgaW4gbWFucGFnZSBjb252ZXJzaW9uOiAkXyI7
CiAJICB9CiAgICAgICB9CiAKLSAgICAgIGlmKC8uKkJFR0lORlJPTlRUQUcuKi8pewotCSRtb2Rl
ID0gMTsKKyAgICAgIGlmKCRtb2RlID09IDApeworCWlmKC88Ym9va2luZm8+L2kpeworCSAgJG1v
ZGUgPSAxOworCX0KKyAgICAgIH0KKworICAgICAgaWYoJG1vZGUgPT0gNCl7CisJaWYoLzxcL2Jv
b2tpbmZvPi9pKXsKKwkgICRtb2RlID0gMzsKKwl9CiAgICAgICB9CiAgICAgfQogICAgIGNsb3Nl
IElOUFVUOwogCi0gICAgc3lzdGVtKCJjZCAkQVJHVlsxXTsgZG9jYm9vazJtYW4gJGZpbGVuYW1l
LnNnbWw7IG12ICRmaWxlbmFtZS45IC90bXAvJCQuOVxuIik7Ci0gICAgb3BlbiBHRU5FUkFURUQs
ICI8IC90bXAvJCQuOSI7CisgICAgc3lzdGVtKCJjZCAkQVJHVlsxXTsgZG9jYm9vazJtYW4gJGZp
bGVuYW1lLnNnbWw7IG12ICRmaWxlbmFtZS45ICR0bXBkaXIvJCQuOVxuIik7CisgICAgb3BlbiBH
RU5FUkFURUQsICI8ICR0bXBkaXIvJCQuOSI7CiAgICAgb3BlbiBPVVRQVVQsICI+ICRBUkdWWzFd
LyRmaWxlbmFtZS45IjsKIAogICAgIHByaW50IE9VVFBVVCAiJGZyb250IjsKQEAgLTE0Niw3ICsx
NzIsNyBAQAogICAgIGNsb3NlIEdFTkVSQVRFRDsKIAogICAgIHN5c3RlbSgiZ3ppcCAtZiAkQVJH
VlsxXS8kZmlsZW5hbWUuOVxuIik7Ci0gICAgdW5saW5rKCIvdG1wLyRmaWxlbmFtZS45Iik7Cisg
ICAgdW5saW5rKCIkdG1wZGlyLyQkLjkiKTsKICAgfQogfQogZWxzaWYoJEFSR1ZbMF0gZXEgImlu
c3RhbGwiKXsKZGlmZiAtTnVyIGxpbnV4LTIuNi4wLXRlc3Q0LWJrNS9zY3JpcHRzL3NwbGl0LW1h
biBsaW51eC0yLjYuMC10ZXN0NC1iazUtbWFuZG9jcy9zY3JpcHRzL3NwbGl0LW1hbgotLS0gbGlu
dXgtMi42LjAtdGVzdDQtYms1L3NjcmlwdHMvc3BsaXQtbWFuCTIwMDMtMDktMDQgMTA6NDM6MTUu
MDAwMDAwMDAwICsxMDAwCisrKyBsaW51eC0yLjYuMC10ZXN0NC1iazUtbWFuZG9jcy9zY3JpcHRz
L3NwbGl0LW1hbgkyMDAzLTA5LTA1IDE1OjE4OjEzLjAwMDAwMDAwMCArMTAwMApAQCAtNTIsNyAr
NTIsNyBAQAogICAgIG9wZW4gUkVGLCAiPiAkQVJHVlsxXS8kZmlsZW5hbWUuc2dtbCIgb3IKICAg
ICAgIGRpZSAiQ291bGRuJ3Qgb3BlbiBvdXRwdXQgZmlsZSBcIiRBUkdWWzFdLyRmaWxlbmFtZS5z
Z21sXCI6ICQhXG4iOwogICAgIHByaW50IFJFRiA8PEVPRjsKLTwhRE9DVFlQRSByZWZlbnRyeSBQ
VUJMSUMgIi0vL0RhdmVucG9ydC8vRFREIERvY0Jvb2sgVjMuMC8vRU4iPgorPCFET0NUWVBFIHJl
ZmVudHJ5IFBVQkxJQyAiLS8vT0FTSVMvL0RURCBEb2NCb29rIFY0LjEvL0VOIj4KIAogPCEtLSBC
RUdJTkZST05UVEFHOiBUaGUgZm9sbG93aW5nIGlzIGZyb250IG1hdHRlciBmb3IgdGhlIHBhcmVu
dCBib29rIC0tPgogJGZyb250Cg==

---MOQ1063327886d95e40b1c04418a9f1c7102f5ce72c97--
