Return-Path: <linux-kernel-owner+willy=40w.ods.org-S1751269AbWDUHne@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1751269AbWDUHne (ORCPT <rfc822;willy@w.ods.org>);
	Fri, 21 Apr 2006 03:43:34 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S1751298AbWDUHne
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Fri, 21 Apr 2006 03:43:34 -0400
Received: from pasmtp.tele.dk ([193.162.159.95]:60681 "EHLO pasmtp.tele.dk")
	by vger.kernel.org with ESMTP id S1751269AbWDUHnd (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Fri, 21 Apr 2006 03:43:33 -0400
Date: Fri, 21 Apr 2006 09:43:17 +0200
From: Sam Ravnborg <sam@ravnborg.org>
To: Ram Pai <linuxram@us.ibm.com>
Cc: linux-kernel@vger.kernel.org, akpm@osdl.org, arjan@infradead.org,
       bunk@stusta.de, greg@kroah.com, hch@infradead.org, mathur@us.ibm.com
Subject: Re: [RFC PATCH 1/3] export symbol report: overview
Message-ID: <20060421074317.GB17492@mars.ravnborg.org>
References: <20060420223653.EF73E470030@localhost>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20060420223653.EF73E470030@localhost>
User-Agent: Mutt/1.5.11
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

On Thu, Apr 20, 2006 at 03:36:53PM -0700, Ram Pai wrote:
> This patch series enables on-demand report generation of export symbol usage by
> inkernel modules. The report is available at
> 
> A report generated by executing 
>  	make allmodconfig
>  	make export_report
> is available at http://www.sudhaa.com/~ram/misc/export_report.txt
> 
> This report lists:
> 1. the usage count of all exported symbols by in-kernel modules.
> 2. For each in-kernel module lists
> 	a) the in-kernel modules it depend on.
> 	b) list of exported symbols from that in-kernel modules it depend on.
> 
> Highlights: 
> 	On x86 architecture
>  	(1) 880 exported symbols not used by any in-kernel modules.
>         (2) 1792 exported symbols used only once.
> 
> This patch series has comments by Adrian Bunk incorporated.

Hi Ram Pai.

In principle what your patch does is a simple port-processign of
Module.symvers.
Insead of introducing another step in the buildprocess then for this
functionality we should just call your script direct.
This is not something the average users will do often, so having to
type:
./scripts/export-report.pl

And then let the perl script pick up default values for where to find
*.mod.c files and Module.symvers.

Thoughts?

	Sam
