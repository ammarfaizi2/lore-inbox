Return-Path: <linux-kernel-owner+willy=40w.ods.org-S266663AbUJTQ3X@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S266663AbUJTQ3X (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 20 Oct 2004 12:29:23 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S268486AbUJTQ2J
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 20 Oct 2004 12:28:09 -0400
Received: from mx1.redhat.com ([66.187.233.31]:13954 "EHLO mx1.redhat.com")
	by vger.kernel.org with ESMTP id S266663AbUJTQRB (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Wed, 20 Oct 2004 12:17:01 -0400
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20041020154922.GV16153@parcelfarce.linux.theplanet.co.uk> 
References: <20041020154922.GV16153@parcelfarce.linux.theplanet.co.uk>  <3506.1098283455@redhat.com> 
To: Matthew Wilcox <matthew@wil.cx>
Cc: torvalds@osdl.org, akpm@osdl.org, discuss@x86-64.org,
       linux-m68k@vger.kernel.org, linux-ia64@vger.kernel.org,
       linux-mips@linux-mips.org, linux-kernel@vger.kernel.org,
       linux-sh@m17n.org, linux-390@vm.marist.edu, sparclinux@vger.kernel.org,
       linuxppc64-dev@ozlabs.org, linux-arm-kernel@lists.arm.linux.org.uk,
       parisc-linux@parisc-linux.org
Subject: Re: [parisc-linux] [PATCH] Add key management syscalls to non-i386 archs 
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 20 Oct 2004 17:16:17 +0100
Message-ID: <7779.1098288977@redhat.com>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org


> Um, no.  Should be ENTRY_COMP() if there's compat syscalls.

Not all archs (of which PA-Risc is an example) seem to require the same fixups
on the same syscalls. In some instances, the upper half of the register is
implicitly zero on 32-bit syscall entry to a 64-bit kernel. In such cases,
none of my syscalls require fixing up, assuming the pointers are automatically
correct.

> And those particular syscall numbers have already been assigned (blame Linus
> for dropping the PA-RISC patch on the floor instead of including it in
> 2.6.9).

There's not a lot I can do about that, except wave a patch under Linus's nose
and see who complains. Can you allocate three syscall numbers for me for
parisc?

David
