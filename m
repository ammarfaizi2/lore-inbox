Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261457AbVFHBTF@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261457AbVFHBTF (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 7 Jun 2005 21:19:05 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S262060AbVFHBTF
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 7 Jun 2005 21:19:05 -0400
Received: from pacific.moreton.com.au ([203.143.235.130]:48137 "EHLO
	bne.snapgear.com") by vger.kernel.org with ESMTP id S261457AbVFHBS7
	(ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Tue, 7 Jun 2005 21:18:59 -0400
Message-ID: <42A64761.6030004@snapgear.com>
Date: Wed, 08 Jun 2005 11:18:25 +1000
From: Greg Ungerer <gerg@snapgear.com>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Adrian Bunk <bunk@stusta.de>
Cc: gerg@uclinux.org, davidm@snapgear.com, jeff@uclinux.org,
       uclinux-dev@uclinux.org, linux-kernel@vger.kernel.org
Subject: Re: [2.6 patch] there is no CONFIG_4KSTACKS option on m68knommu
References: <20050607213046.GC7962@stusta.de>
In-Reply-To: <20050607213046.GC7962@stusta.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

Hi Adrian,

Adrian Bunk wrote:
> There is no CONFIG_4KSTACKS option on m68knommu.
> 
> Let's remove this dead code.

I have a patch to allow configuring this. Linus hasn't merged it
yet. I wasn't going to push it again until  after 2.6.12.

Regards
Greg




> Signed-off-by: Adrian Bunk <bunk@stusta.de>
> 
> --- linux-2.6.12-rc6-mm1-full/include/asm-m68knommu/thread_info.h.old	2005-06-07 23:27:33.000000000 +0200
> +++ linux-2.6.12-rc6-mm1-full/include/asm-m68knommu/thread_info.h	2005-06-07 23:27:51.000000000 +0200
> @@ -17,11 +17,7 @@
>  /*
>   * Size of kernel stack for each process. This must be a power of 2...
>   */
> -#ifdef CONFIG_4KSTACKS
> -#define THREAD_SIZE_ORDER (0)
> -#else
>  #define THREAD_SIZE_ORDER (1)
> -#endif
>                                                                                  
>  /*
>   * for asm files, THREAD_SIZE is now generated by asm-offsets.c
> 
> 

-- 
------------------------------------------------------------------------
Greg Ungerer  --  Chief Software Dude       EMAIL:     gerg@snapgear.com
SnapGear -- a CyberGuard Company            PHONE:       +61 7 3435 2888
825 Stanley St,                             FAX:         +61 7 3891 3630
Woolloongabba, QLD, 4102, Australia         WEB: http://www.SnapGear.com
