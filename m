Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S291545AbSBXWNB>; Sun, 24 Feb 2002 17:13:01 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S291531AbSBXWMq>; Sun, 24 Feb 2002 17:12:46 -0500
Received: from mtao3.east.cox.net ([68.1.17.242]:41952 "EHLO
	lakemtao03.cox.net") by vger.kernel.org with ESMTP
	id <S291545AbSBXWMe>; Sun, 24 Feb 2002 17:12:34 -0500
Message-Id: <200202242212.g1OMCQZ10840@ip68-4-73-243.oc.oc.cox.net>
To: linux-kernel@vger.kernel.org
Reply-to: mmayer@uci.edu
Subject: Problem compiling (linking) linux-2.4.18-rc4
Name: Meinhard E. Mayer, Research Professor 
Organization: Department of Physics, U C. Irvine. Ph. (949) 824-5543
X-Mailer: Gnu/Linux-RH 7.2 kernel 2.4.18-rc3; xemacs-21.4.6, nmh-1.0.4
Mime-Version: 1.0 (generated by tm-edit 1.8)
Content-Type: text/plain; charset=US-ASCII
Date: Sun, 24 Feb 2002 14:12:25 -0800
From: "Meinhard E. Mayer" <hardy@weyl.ps.uci.edu>
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

I got the following link error message when compiling linux-2.4.18-rc4 :


ld -m elf_i386 -T /src/linux/arch/i386/vmlinux.lds -e stext
arch/i386/kernel/head.o arch/i386/kernel/init_task.o init/main.o
init/version.o \
	       --start-group \
	       		     arch/i386/kernel/kernel.o
arch/i386/mm/mm.o kernel/kernel.o mm/mm.o fs/fs.o ipc/ipc.o \
		   drivers/parport/driver.o drivers/char/char.o
drivers/block/block.o drivers/misc/misc.o drivers/net/net.o
drivers/media/media.o drivers/char/agp/agp.o drivers/char/drm/drm.o
drivers/ide/idedriver.o drivers/scsi/scsidrv.o drivers/cdrom/driver.o
drivers/sound/sounddrivers.o drivers/pci/driver.o drivers/pnp/pnp.o
drivers/video/video.o drivers/usb/usbdrv.o \
		      net/network.o \
		      		    /src/linux/arch/i386/lib/lib.a
/src/linux/lib/lib.a /src/linux/arch/i386/lib/lib.a \
		     --end-group \
		     		 -o vmlinux
				 fs/fs.o: In function dput':
				 fs/fs.o(.text+0x11918): undefined
reference to atomic_dec_and_lock'
make: *** [vmlinux] Error 1

Apparently the latest patch (rc3->rc4) messed something up in fs.
atomic_dec_and_loc occurs in 4 source files there.  

-- 
Hardy
(Meinhard E. Mayer)
Professor Emeritus of Physics and Mathematics
Tel: (949) 759-3378 Fax: (734) 448-5140
URL: http://mitpress2.mit.edu/sicm/
