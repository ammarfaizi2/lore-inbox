Return-Path: <linux-kernel-owner+willy=40w.ods.org@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S271068AbTGPLcf (ORCPT <rfc822;willy@w.ods.org>);
	Wed, 16 Jul 2003 07:32:35 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S271073AbTGPLce
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Wed, 16 Jul 2003 07:32:34 -0400
Received: from ns.suse.de ([213.95.15.193]:63506 "EHLO Cantor.suse.de")
	by vger.kernel.org with ESMTP id S271068AbTGPLcJ (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Wed, 16 Jul 2003 07:32:09 -0400
Date: Wed, 16 Jul 2003 13:47:01 +0200
Message-ID: <s5h7k6i1yoa.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: "P. Christeas" <p_christ@hol.gr>
Cc: lkml <linux-kernel@vger.kernel.org>, alsa-devel@lists.sourceforge.net
Subject: Re: [Alsa-devel] Reproducible deadlock w. alsa/maestro3 when sleeping (ACPI,) 2.6.0-test1
In-Reply-To: <200307141917.22813.p_christ@hol.gr>
References: <200307141917.22813.p_christ@hol.gr>
User-Agent: Wanderlust/2.6.1 (Upside Down) SEMI/1.14.4 (Hosorogi)
 FLIM/1.14.4 (=?ISO-8859-4?Q?Kashiharajing=FE-mae?=) APEL/10.2 MULE
 XEmacs/21.4 (patch 12) (Portable Code) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.4 - "Hosorogi")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Mon, 14 Jul 2003 19:17:22 +0300,
P. Christeas <p_christ@hol.gr> wrote:
> 
> I have been experiencing some fully reproducible deadlock when waking from 
> sleep, using artsd over ALSA.
> The scenario is:
> I use ALSA, with the maestro3 device and everything else compiled as modules.
> From userspace, I launch artsd, which uses its native ALSA support to connect 
> to /dev/pcmXXXXX .
> I only have a custom script, which sleeps the machine by a 'echo 1> 
> /proc/acpi/sleep' . It does NOT stop alsa .

could you check whether m3_suspend() and m3_resume() in
sound/pci/maestro3.c are really called?


Takashi
