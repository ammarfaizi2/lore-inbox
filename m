Return-Path: <linux-kernel-owner@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S135870AbRDYPCs>; Wed, 25 Apr 2001 11:02:48 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S135871AbRDYPCi>; Wed, 25 Apr 2001 11:02:38 -0400
Received: from snark.tuxedo.org ([207.106.50.26]:63236 "EHLO snark.thyrsus.com")
	by vger.kernel.org with ESMTP id <S135870AbRDYPCV>;
	Wed, 25 Apr 2001 11:02:21 -0400
Date: Wed, 25 Apr 2001 11:04:02 -0400
From: "Eric S. Raymond" <esr@thyrsus.com>
To: jeff millar <jeff@wa1hco.mv.com>
Cc: CML2 <linux-kernel@vger.kernel.org>
Subject: Re: CML2 Transition experiences
Message-ID: <20010425110402.B9892@thyrsus.com>
Reply-To: esr@thyrsus.com
Mail-Followup-To: "Eric S. Raymond" <esr@thyrsus.com>,
	jeff millar <jeff@wa1hco.mv.com>,
	CML2 <linux-kernel@vger.kernel.org>
In-Reply-To: <esr@thyrsus.com> <200104220228.f3M2St1s023522@sleipnir.valparaiso.cl> <20010422001209.G15644@thyrsus.com> <000c01c0cd25$9ec0e6a0$0201a8c0@home>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <000c01c0cd25$9ec0e6a0$0201a8c0@home>; from jeff@wa1hco.mv.com on Tue, Apr 24, 2001 at 09:18:14PM -0400
Organization: Eric Conspiracy Secret Labs
X-Eric-Conspiracy: There is no conspiracy
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

jeff millar <jeff@wa1hco.mv.com>:
> 1. If I install CML2 and go directly to "make xconfig", it deduces it needs
> to set top level options because some of the low level options are set.  For
> example SCSI enabled because some SCSI device is set or hot plug because
> PCMCIA is set...because some PCMCIA device is set.  The _problem_ is...none
> of these options were set in the CML1 generated .config file... and it
> _extremely_ tedious to use xconfig to clear out all the cruft.
> 
> A much better (but not yet right) way is to use "make ttyconfig" to quickly
> generate config.out from .config  relatively fewer errors and ability to say
> no at a top level and cause all the lower level stuff to go away.  make
> ttyconfig seems to parse the .config file in a different (and better) order.

I'm finding this report very puzzling.  Both front ends parse the
.config in exactly the same order.  In fact, it's done by the same
code.
 
> Suggestion:  On the first pass of CML2 processing through .config, before
> first config.out created, trust the top level setting and ignore lower level
> settings if top setting off.

Because of the order tree traversal is done, I think ttyconfig should give
you the effect you want.
 
> 2. So after some playing around, I want to go back to CML1.  But the .config
> generated by CML2 is not compatible.  I don't know if it's supposed to be
> but there's lots of problems.

The config.out isn't exactly compatible; it has explicit CONFIG_FOO=n settings
in it.  The .config file generated from that by configtrans should be, however;
if it's not that's a bug.  Can you send me your "incompatible" .config so 
I can see the problems?
-- 
		<a href="http://www.tuxedo.org/~esr/">Eric S. Raymond</a>

Never trust a man who praises compassion while pointing a gun at you.
