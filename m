Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261699AbVEaKhq@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261699AbVEaKhq (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 31 May 2005 06:37:46 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261758AbVEaKhq
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 31 May 2005 06:37:46 -0400
Received: from zproxy.gmail.com ([64.233.162.196]:40269 "EHLO zproxy.gmail.com")
	by vger.kernel.org with ESMTP id S261699AbVEaKhB (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 31 May 2005 06:37:01 -0400
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=ndJE8HJgNJdAkHH9wNKY6+Pw0ll9odweVDOLnNA0CGcAXidi06RsnPl+qVhD5bCn85/xY//3fY+lOFaefDrVefgIJ+xTPpdqnWTwq8VhNobZajm+/NBHUfEWZVyvS723wzm6h30rB6wdeczgBC0yX8WpVYF3ePU++tHgZ7Sd21A=
Message-ID: <81083a450505310337131c3e31@mail.gmail.com>
Date: Tue, 31 May 2005 16:07:00 +0530
From: Ashutosh Naik <ashutosh.naik@gmail.com>
Reply-To: Ashutosh Naik <ashutosh.naik@gmail.com>
To: linux-kernel@vger.kernel.org
Subject: [PATCH] fixes the warnings obtained with arm-elf-gcc 3.4
Mime-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_19346_22853078.1117535820767"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

------=_Part_19346_22853078.1117535820767
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This patch fixes the warnings obtained with arm-elf-gcc 3.4.

Files Affected -

-fs/jffs2/read.c
-fs/jffs2/nodemgmt.c
-fs/jffs2/readinode.c
-fs/jffs2/write.c
-fs/jffs2/gc.c
-fs/jffs2/erase.c
-fs/nfs/nfs2xdr.c
-fs/nfs/nfs3xdr.c
-drivers/base/dmapool.c
-drivers/char/random.c
-drivers/serial/8250_early.c
-net/core/dev.c
-net/sunrpc/xprt.c
-net/sunrpc/svc.c
-net/sunrpv/svcsock.c

Signed-off-by: Ashutosh Naik <ashutosh.naik@gmail.com>

------=_Part_19346_22853078.1117535820767
Content-Type: application/octet-stream; name="patch-lkml"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="patch-lkml"

ZGlmZiAtLXVuaWZpZWQgLXJOIGxpbnV4LTIuNi4xMS1wYXRjaC9kcml2ZXJzL2Jhc2UvZG1hcG9v
bC5jIGxpbnV4LTIuNi4xMS9kcml2ZXJzL2Jhc2UvZG1hcG9vbC5jCi0tLSBsaW51eC0yLjYuMTEt
cGF0Y2gvZHJpdmVycy9iYXNlL2RtYXBvb2wuYwkyMDA1LTA1LTMxIDE1OjMyOjU1LjA5ODkzMjIw
MCArMDUzMAorKysgbGludXgtMi42LjExL2RyaXZlcnMvYmFzZS9kbWFwb29sLmMJMjAwNS0wMy0w
MiAxMzowODoyNi4wMDAwMDAwMDAgKzA1MzAKQEAgLTY3LDcgKzY3LDcgQEAKIAkJfQogCiAJCS8q
IHBlci1wb29sIGluZm8sIG5vIHJlYWwgc3RhdGlzdGljcyB5ZXQgKi8KLQkJdGVtcCA9IHNjbnBy
aW50ZihuZXh0LCBzaXplLCAiJS0xNnMgJTR1ICU0dSAlNHUgJTJ1XG4iLAorCQl0ZW1wID0gc2Nu
cHJpbnRmKG5leHQsIHNpemUsICIlLTE2cyAlNHUgJTRadSAlNFp1ICUydVxuIiwKIAkJCQlwb29s
LT5uYW1lLAogCQkJCWJsb2NrcywgcGFnZXMgKiBwb29sLT5ibG9ja3NfcGVyX3BhZ2UsCiAJCQkJ
cG9vbC0+c2l6ZSwgcGFnZXMpOwpkaWZmIC0tdW5pZmllZCAtck4gbGludXgtMi42LjExLXBhdGNo
L2RyaXZlcnMvY2hhci9yYW5kb20uYyBsaW51eC0yLjYuMTEvZHJpdmVycy9jaGFyL3JhbmRvbS5j
Ci0tLSBsaW51eC0yLjYuMTEtcGF0Y2gvZHJpdmVycy9jaGFyL3JhbmRvbS5jCTIwMDUtMDUtMzEg
MTU6MzQ6MjcuNzM3ODQ4OTQ0ICswNTMwCisrKyBsaW51eC0yLjYuMTEvZHJpdmVycy9jaGFyL3Jh
bmRvbS5jCTIwMDUtMDMtMDIgMTM6MDc6NDguMDAwMDAwMDAwICswNTMwCkBAIC0xNDM1LDcgKzE0
MzUsNyBAQAogI2VuZGlmCiAKIAkJLyogQ29weSBkYXRhIHRvIGRlc3RpbmF0aW9uIGJ1ZmZlciAq
LwotCQlpID0gbWluKG5ieXRlcywgKHNpemVfdClIQVNIX0JVRkZFUl9TSVpFKnNpemVvZihfX3Uz
MikvMik7CisJCWkgPSBtaW4obmJ5dGVzLCBIQVNIX0JVRkZFUl9TSVpFKnNpemVvZihfX3UzMikv
Mik7CiAJCWlmIChmbGFncyAmIEVYVFJBQ1RfRU5UUk9QWV9VU0VSKSB7CiAJCQlpIC09IGNvcHlf
dG9fdXNlcihidWYsIChfX3U4IGNvbnN0ICopdG1wLCBpKTsKIAkJCWlmICghaSkgewpAQCAtMTY5
MSw3ICsxNjkxLDcgQEAKIAlzaXplX3QgYyA9IGNvdW50OwogCiAJd2hpbGUgKGMgPiAwKSB7Ci0J
CWJ5dGVzID0gbWluKGMsIChzaXplX3Qpc2l6ZW9mKGJ1ZikpOworCQlieXRlcyA9IG1pbihjLCBz
aXplb2YoYnVmKSk7CiAKIAkJYnl0ZXMgLT0gY29weV9mcm9tX3VzZXIoJmJ1ZiwgcCwgYnl0ZXMp
OwogCQlpZiAoIWJ5dGVzKSB7CmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0yLjYuMTEtcGF0Y2gv
ZHJpdmVycy9zZXJpYWwvODI1MF9lYXJseS5jIGxpbnV4LTIuNi4xMS9kcml2ZXJzL3NlcmlhbC84
MjUwX2Vhcmx5LmMKLS0tIGxpbnV4LTIuNi4xMS1wYXRjaC9kcml2ZXJzL3NlcmlhbC84MjUwX2Vh
cmx5LmMJMjAwNS0wNS0zMSAxNTozNTo0Ni4wMDAwMDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4x
MS9kcml2ZXJzL3NlcmlhbC84MjUwX2Vhcmx5LmMJMjAwNS0wMy0wMiAxMzowODowOC4wMDAwMDAw
MDAgKzA1MzAKQEAgLTE2NSw3ICsxNjUsNyBAQAogCWlmICgob3B0aW9ucyA9IHN0cmNocihvcHRp
b25zLCAnLCcpKSkgewogCQlvcHRpb25zKys7CiAJCWRldmljZS0+YmF1ZCA9IHNpbXBsZV9zdHJ0
b3VsKG9wdGlvbnMsIDAsIDApOwotCQlsZW5ndGggPSBtaW4oc3RyY3NwbihvcHRpb25zLCAiICIp
LCAoc2l6ZV90KXNpemVvZihkZXZpY2UtPm9wdGlvbnMpKTsKKwkJbGVuZ3RoID0gbWluKHN0cmNz
cG4ob3B0aW9ucywgIiAiKSwgc2l6ZW9mKGRldmljZS0+b3B0aW9ucykpOwogCQlzdHJuY3B5KGRl
dmljZS0+b3B0aW9ucywgb3B0aW9ucywgbGVuZ3RoKTsKIAl9IGVsc2UgewogCQlkZXZpY2UtPmJh
dWQgPSBwcm9iZV9iYXVkKHBvcnQpOwpkaWZmIC0tdW5pZmllZCAtck4gbGludXgtMi42LjExLXBh
dGNoL2ZzL2pmZnMyL2djLmMgbGludXgtMi42LjExL2ZzL2pmZnMyL2djLmMKLS0tIGxpbnV4LTIu
Ni4xMS1wYXRjaC9mcy9qZmZzMi9nYy5jCTIwMDUtMDUtMzEgMTU6Mjk6NDIuMDAwMDAwMDAwICsw
NTMwCisrKyBsaW51eC0yLjYuMTEvZnMvamZmczIvZ2MuYwkyMDA1LTAzLTAyIDEzOjA3OjUxLjAw
MDAwMDAwMCArMDUzMApAQCAtNTg5LDcgKzU4OSw3IEBACiAJcmV0ID0gamZmczJfZmxhc2hfd3Jp
dGUoYywgcGh5c19vZnMsIHJhd2xlbiwgJnJldGxlbiwgKGNoYXIgKilub2RlKTsKIAogCWlmIChy
ZXQgfHwgKHJldGxlbiAhPSByYXdsZW4pKSB7Ci0JCXByaW50ayhLRVJOX05PVElDRSAiV3JpdGUg
b2YgJWQgYnl0ZXMgYXQgMHglMDh4IGZhaWxlZC4gcmV0dXJuZWQgJWQsIHJldGxlbiAlZFxuIiwK
KwkJcHJpbnRrKEtFUk5fTk9USUNFICJXcml0ZSBvZiAlZCBieXRlcyBhdCAweCUwOHggZmFpbGVk
LiByZXR1cm5lZCAlZCwgcmV0bGVuICV6ZFxuIiwKICAgICAgICAgICAgICAgICAgICAgICAgcmF3
bGVuLCBwaHlzX29mcywgcmV0LCByZXRsZW4pOwogCQlpZiAocmV0bGVuKSB7CiAgICAgICAgICAg
ICAgICAgICAgICAgICAvKiBEb2Vzbid0IGJlbG9uZyB0byBhbnkgaW5vZGUgKi8KQEAgLTgzMSw3
ICs4MzEsNyBAQAogCQkJCWNvbnRpbnVlOwogCQkJfQogCQkJaWYgKHJldGxlbiAhPSByYXdsZW4p
IHsKLQkJCQlwcmludGsoS0VSTl9XQVJOSU5HICJqZmZzMl9nX2NfZGVsZXRpb25fZGlyZW50KCk6
IFNob3J0IHJlYWQgKCVkIG5vdCAldSkgcmVhZGluZyBoZWFkZXIgZnJvbSBvYnNvbGV0ZSBub2Rl
IGF0ICUwOHhcbiIsCisJCQkJcHJpbnRrKEtFUk5fV0FSTklORyAiamZmczJfZ19jX2RlbGV0aW9u
X2RpcmVudCgpOiBTaG9ydCByZWFkICglemQgbm90ICV1KSByZWFkaW5nIGhlYWRlciBmcm9tIG9i
c29sZXRlIG5vZGUgYXQgJTA4eFxuIiwKIAkJCQkgICAgICAgcmV0bGVuLCByYXdsZW4sIHJlZl9v
ZmZzZXQocmF3KSk7CiAJCQkJY29udGludWU7CiAJCQl9CkBAIC05MDYsNyArOTA2LDcgQEAKIAkJ
ICAgd3JpdGUgaXQgb3V0IGFnYWluIHdpdGggdGhlIF9zYW1lXyB2ZXJzaW9uIGFzIGJlZm9yZSAq
LwogCQlyZXQgPSBqZmZzMl9mbGFzaF9yZWFkKGMsIHJlZl9vZmZzZXQoZm4tPnJhdyksIHNpemVv
ZihyaSksICZyZWFkbGVuLCAoY2hhciAqKSZyaSk7CiAJCWlmIChyZWFkbGVuICE9IHNpemVvZihy
aSkgfHwgcmV0KSB7Ci0JCQlwcmludGsoS0VSTl9XQVJOSU5HICJOb2RlIHJlYWQgZmFpbGVkIGlu
IGpmZnMyX2dhcmJhZ2VfY29sbGVjdF9ob2xlLiBSZXQgJWQsIHJldGxlbiAlZC4gRGF0YSB3aWxs
IGJlIGxvc3QgYnkgd3JpdGluZyBuZXcgaG9sZSBub2RlXG4iLCByZXQsIHJlYWRsZW4pOworCQkJ
cHJpbnRrKEtFUk5fV0FSTklORyAiTm9kZSByZWFkIGZhaWxlZCBpbiBqZmZzMl9nYXJiYWdlX2Nv
bGxlY3RfaG9sZS4gUmV0ICVkLCByZXRsZW4gJXpkLiBEYXRhIHdpbGwgYmUgbG9zdCBieSB3cml0
aW5nIG5ldyBob2xlIG5vZGVcbiIsIHJldCwgcmVhZGxlbik7CiAJCQlnb3RvIGZpbGw7CiAJCX0K
IAkJaWYgKGplMTZfdG9fY3B1KHJpLm5vZGV0eXBlKSAhPSBKRkZTMl9OT0RFVFlQRV9JTk9ERSkg
ewpkaWZmIC0tdW5pZmllZCAtck4gbGludXgtMi42LjExLXBhdGNoL2ZzL2pmZnMyL25vZGVtZ210
LmMgbGludXgtMi42LjExL2ZzL2pmZnMyL25vZGVtZ210LmMKLS0tIGxpbnV4LTIuNi4xMS1wYXRj
aC9mcy9qZmZzMi9ub2RlbWdtdC5jCTIwMDUtMDUtMzEgMTU6MjU6NTkuMDAwMDAwMDAwICswNTMw
CisrKyBsaW51eC0yLjYuMTEvZnMvamZmczIvbm9kZW1nbXQuYwkyMDA1LTAzLTAyIDEzOjA3OjQ5
LjAwMDAwMDAwMCArMDUzMApAQCAtNTQ0LDcgKzU0NCw3IEBACiAJCWdvdG8gb3V0X2VyYXNlX3Nl
bTsKIAl9CiAJaWYgKHJldGxlbiAhPSBzaXplb2YobikpIHsKLQkJcHJpbnRrKEtFUk5fV0FSTklO
RyAiU2hvcnQgcmVhZCBmcm9tIG9ic29sZXRlZCBub2RlIGF0IDB4JTA4eDogJWRcbiIsIHJlZl9v
ZmZzZXQocmVmKSwgcmV0bGVuKTsKKwkJcHJpbnRrKEtFUk5fV0FSTklORyAiU2hvcnQgcmVhZCBm
cm9tIG9ic29sZXRlZCBub2RlIGF0IDB4JTA4eDogJXpkXG4iLCByZWZfb2Zmc2V0KHJlZiksIHJl
dGxlbik7CiAJCWdvdG8gb3V0X2VyYXNlX3NlbTsKIAl9CiAJaWYgKFBBRChqZTMyX3RvX2NwdShu
LnRvdGxlbikpICE9IFBBRChyZWZfdG90bGVuKGMsIGplYiwgcmVmKSkpIHsKQEAgLTU2Myw3ICs1
NjMsNyBAQAogCQlnb3RvIG91dF9lcmFzZV9zZW07CiAJfQogCWlmIChyZXRsZW4gIT0gc2l6ZW9m
KG4pKSB7Ci0JCXByaW50ayhLRVJOX1dBUk5JTkcgIlNob3J0IHdyaXRlIGluIG9ibGl0ZXJhdGlu
ZyBvYnNvbGV0ZWQgbm9kZSBhdCAweCUwOHg6ICVkXG4iLCByZWZfb2Zmc2V0KHJlZiksIHJldGxl
bik7CisJCXByaW50ayhLRVJOX1dBUk5JTkcgIlNob3J0IHdyaXRlIGluIG9ibGl0ZXJhdGluZyBv
YnNvbGV0ZWQgbm9kZSBhdCAweCUwOHg6ICV6ZFxuIiwgcmVmX29mZnNldChyZWYpLCByZXRsZW4p
OwogCQlnb3RvIG91dF9lcmFzZV9zZW07CiAJfQogCmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0y
LjYuMTEtcGF0Y2gvZnMvamZmczIvcmVhZC5jIGxpbnV4LTIuNi4xMS9mcy9qZmZzMi9yZWFkLmMK
LS0tIGxpbnV4LTIuNi4xMS1wYXRjaC9mcy9qZmZzMi9yZWFkLmMJMjAwNS0wNS0zMSAxNToyNDox
OC4wMDAwMDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4xMS9mcy9qZmZzMi9yZWFkLmMJMjAwNS0w
My0wMiAxMzowNzo1My4wMDAwMDAwMDAgKzA1MzAKQEAgLTQzLDcgKzQzLDcgQEAKIAl9CiAJaWYg
KHJlYWRsZW4gIT0gc2l6ZW9mKCpyaSkpIHsKIAkJamZmczJfZnJlZV9yYXdfaW5vZGUocmkpOwot
CQlwcmludGsoS0VSTl9XQVJOSU5HICJTaG9ydCByZWFkIGZyb20gMHglMDh4OiB3YW50ZWQgMHgl
enggYnl0ZXMsIGdvdCAweCV4XG4iLCAKKwkJcHJpbnRrKEtFUk5fV0FSTklORyAiU2hvcnQgcmVh
ZCBmcm9tIDB4JTA4eDogd2FudGVkIDB4JXp4IGJ5dGVzLCBnb3QgMHglenhcbiIsIAogCQkgICAg
ICAgcmVmX29mZnNldChmZC0+cmF3KSwgc2l6ZW9mKCpyaSksIHJlYWRsZW4pOwogCQlyZXR1cm4g
LUVJTzsKIAl9CmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0yLjYuMTEtcGF0Y2gvZnMvamZmczIv
cmVhZGlub2RlLmMgbGludXgtMi42LjExL2ZzL2pmZnMyL3JlYWRpbm9kZS5jCi0tLSBsaW51eC0y
LjYuMTEtcGF0Y2gvZnMvamZmczIvcmVhZGlub2RlLmMJMjAwNS0wNS0zMSAxNToyNzowMS4wMDAw
MDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4xMS9mcy9qZmZzMi9yZWFkaW5vZGUuYwkyMDA1LTAz
LTAyIDEzOjA3OjQ2LjAwMDAwMDAwMCArMDUzMApAQCAtNTg1LDcgKzU4NSw3IEBACiAKIAlyZXQg
PSBqZmZzMl9mbGFzaF9yZWFkKGMsIHJlZl9vZmZzZXQoZm4tPnJhdyksIHNpemVvZigqbGF0ZXN0
X25vZGUpLCAmcmV0bGVuLCAodm9pZCAqKWxhdGVzdF9ub2RlKTsKIAlpZiAocmV0IHx8IHJldGxl
biAhPSBzaXplb2YoKmxhdGVzdF9ub2RlKSkgewotCQlwcmludGsoS0VSTl9OT1RJQ0UgIk1URCBy
ZWFkIGluIGpmZnMyX2RvX3JlYWRfaW5vZGUoKSBmYWlsZWQ6IFJldHVybmVkICVkLCAlZCBvZiAl
emQgYnl0ZXMgcmVhZFxuIiwKKwkJcHJpbnRrKEtFUk5fTk9USUNFICJNVEQgcmVhZCBpbiBqZmZz
Ml9kb19yZWFkX2lub2RlKCkgZmFpbGVkOiBSZXR1cm5lZCAlZCwgJXpkIG9mICV6ZCBieXRlcyBy
ZWFkXG4iLAogCQkgICAgICAgcmV0LCByZXRsZW4sIHNpemVvZigqbGF0ZXN0X25vZGUpKTsKIAkJ
LyogRklYTUU6IElmIHRoaXMgZmFpbHMsIHRoZXJlIHNlZW1zIHRvIGJlIGEgbWVtb3J5IGxlYWsu
IEZpbmQgaXQuICovCiAJCXVwKCZmLT5zZW0pOwpkaWZmIC0tdW5pZmllZCAtck4gbGludXgtMi42
LjExLXBhdGNoL2ZzL2pmZnMyL3dyaXRlLmMgbGludXgtMi42LjExL2ZzL2pmZnMyL3dyaXRlLmMK
LS0tIGxpbnV4LTIuNi4xMS1wYXRjaC9mcy9qZmZzMi93cml0ZS5jCTIwMDUtMDUtMzEgMTU6Mjc6
NTQuMDAwMDAwMDAwICswNTMwCisrKyBsaW51eC0yLjYuMTEvZnMvamZmczIvd3JpdGUuYwkyMDA1
LTAzLTAyIDEzOjA4OjA4LjAwMDAwMDAwMCArMDUzMApAQCAtMTQwLDcgKzE0MCw3IEBACiAJCQkJ
IChhbGxvY19tb2RlPT1BTExPQ19HQyk/MDpmLT5pbm9jYWNoZS0+aW5vKTsKIAogCWlmIChyZXQg
fHwgKHJldGxlbiAhPSBzaXplb2YoKnJpKSArIGRhdGFsZW4pKSB7Ci0JCXByaW50ayhLRVJOX05P
VElDRSAiV3JpdGUgb2YgJXpkIGJ5dGVzIGF0IDB4JTA4eCBmYWlsZWQuIHJldHVybmVkICVkLCBy
ZXRsZW4gJWRcbiIsIAorCQlwcmludGsoS0VSTl9OT1RJQ0UgIldyaXRlIG9mICV6ZCBieXRlcyBh
dCAweCUwOHggZmFpbGVkLiByZXR1cm5lZCAlZCwgcmV0bGVuICV6ZFxuIiwgCiAJCSAgICAgICBz
aXplb2YoKnJpKStkYXRhbGVuLCBmbGFzaF9vZnMsIHJldCwgcmV0bGVuKTsKIAogCQkvKiBNYXJr
IHRoZSBzcGFjZSBhcyBkaXJ0aWVkICovCmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0yLjYuMTEt
cGF0Y2gvZnMvbmZzL25mczJ4ZHIuYyBsaW51eC0yLjYuMTEvZnMvbmZzL25mczJ4ZHIuYwotLS0g
bGludXgtMi42LjExLXBhdGNoL2ZzL25mcy9uZnMyeGRyLmMJMjAwNS0wNS0zMSAxNTozMDo1Ny4w
MDAwMDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4xMS9mcy9uZnMvbmZzMnhkci5jCTIwMDUtMDMt
MDIgMTM6MDg6MDQuMDAwMDAwMDAwICswNTMwCkBAIC0yNjIsNyArMjYyLDcgQEAKIAloZHJsZW4g
PSAodTggKikgcCAtICh1OCAqKSBpb3YtPmlvdl9iYXNlOwogCWlmIChpb3YtPmlvdl9sZW4gPCBo
ZHJsZW4pIHsKIAkJcHJpbnRrKEtFUk5fV0FSTklORyAiTkZTOiBSRUFEIHJlcGx5IGhlYWRlciBv
dmVyZmxvd2VkOiIKLQkJCQkibGVuZ3RoICVkID4gJXVcbiIsIGhkcmxlbiwgaW92LT5pb3ZfbGVu
KTsKKwkJCQkibGVuZ3RoICVkID4gJVp1XG4iLCBoZHJsZW4sIGlvdi0+aW92X2xlbik7CiAJCXJl
dHVybiAtZXJybm9fTkZTRVJSX0lPOwogCX0gZWxzZSBpZiAoaW92LT5pb3ZfbGVuICE9IGhkcmxl
bikgewogCQlkcHJpbnRrKCJORlM6IFJFQUQgaGVhZGVyIGlzIHNob3J0LiBpb3ZlYyB3aWxsIGJl
IHNoaWZ0ZWQuXG4iKTsKQEAgLTQwNyw3ICs0MDcsNyBAQAogCWhkcmxlbiA9ICh1OCAqKSBwIC0g
KHU4ICopIGlvdi0+aW92X2Jhc2U7CiAJaWYgKGlvdi0+aW92X2xlbiA8IGhkcmxlbikgewogCQlw
cmludGsoS0VSTl9XQVJOSU5HICJORlM6IFJFQURESVIgcmVwbHkgaGVhZGVyIG92ZXJmbG93ZWQ6
IgotCQkJCSJsZW5ndGggJWQgPiAldVxuIiwgaGRybGVuLCBpb3YtPmlvdl9sZW4pOworCQkJCSJs
ZW5ndGggJWQgPiAlWnVcbiIsIGhkcmxlbiwgaW92LT5pb3ZfbGVuKTsKIAkJcmV0dXJuIC1lcnJu
b19ORlNFUlJfSU87CiAJfSBlbHNlIGlmIChpb3YtPmlvdl9sZW4gIT0gaGRybGVuKSB7CiAJCWRw
cmludGsoIk5GUzogUkVBRERJUiBoZWFkZXIgaXMgc2hvcnQuIGlvdmVjIHdpbGwgYmUgc2hpZnRl
ZC5cbiIpOwpkaWZmIC0tdW5pZmllZCAtck4gbGludXgtMi42LjExLXBhdGNoL2ZzL25mcy9uZnMz
eGRyLmMgbGludXgtMi42LjExL2ZzL25mcy9uZnMzeGRyLmMKLS0tIGxpbnV4LTIuNi4xMS1wYXRj
aC9mcy9uZnMvbmZzM3hkci5jCTIwMDUtMDUtMzEgMTU6MzE6NTguMDAwMDAwMDAwICswNTMwCisr
KyBsaW51eC0yLjYuMTEvZnMvbmZzL25mczN4ZHIuYwkyMDA1LTAzLTAyIDEzOjA4OjMzLjAwMDAw
MDAwMCArMDUzMApAQCAtNTAzLDcgKzUwMyw3IEBACiAJaGRybGVuID0gKHU4ICopIHAgLSAodTgg
KikgaW92LT5pb3ZfYmFzZTsKIAlpZiAoaW92LT5pb3ZfbGVuIDwgaGRybGVuKSB7CiAJCXByaW50
ayhLRVJOX1dBUk5JTkcgIk5GUzogUkVBRERJUiByZXBseSBoZWFkZXIgb3ZlcmZsb3dlZDoiCi0J
CQkJImxlbmd0aCAlZCA+ICV1XG4iLCBoZHJsZW4sIGlvdi0+aW92X2xlbik7CisJCQkJImxlbmd0
aCAlZCA+ICVadVxuIiwgaGRybGVuLCBpb3YtPmlvdl9sZW4pOwogCQlyZXR1cm4gLWVycm5vX05G
U0VSUl9JTzsKIAl9IGVsc2UgaWYgKGlvdi0+aW92X2xlbiAhPSBoZHJsZW4pIHsKIAkJZHByaW50
aygiTkZTOiBSRUFERElSIGhlYWRlciBpcyBzaG9ydC4gaW92ZWMgd2lsbCBiZSBzaGlmdGVkLlxu
Iik7CkBAIC03MzcsNyArNzM3LDcgQEAKIAloZHJsZW4gPSAodTggKikgcCAtICh1OCAqKSBpb3Yt
Pmlvdl9iYXNlOwogCWlmIChpb3YtPmlvdl9sZW4gPCBoZHJsZW4pIHsKIAkJcHJpbnRrKEtFUk5f
V0FSTklORyAiTkZTOiBSRUFETElOSyByZXBseSBoZWFkZXIgb3ZlcmZsb3dlZDoiCi0JCQkJImxl
bmd0aCAlZCA+ICV1XG4iLCBoZHJsZW4sIGlvdi0+aW92X2xlbik7CisJCQkJImxlbmd0aCAlZCA+
ICVadVxuIiwgaGRybGVuLCBpb3YtPmlvdl9sZW4pOwogCQlyZXR1cm4gLWVycm5vX05GU0VSUl9J
TzsKIAl9IGVsc2UgaWYgKGlvdi0+aW92X2xlbiAhPSBoZHJsZW4pIHsKIAkJZHByaW50aygiTkZT
OiBSRUFETElOSyBoZWFkZXIgaXMgc2hvcnQuIGlvdmVjIHdpbGwgYmUgc2hpZnRlZC5cbiIpOwpA
QCAtNzg3LDcgKzc4Nyw3IEBACiAJaGRybGVuID0gKHU4ICopIHAgLSAodTggKikgaW92LT5pb3Zf
YmFzZTsKIAlpZiAoaW92LT5pb3ZfbGVuIDwgaGRybGVuKSB7CiAJCXByaW50ayhLRVJOX1dBUk5J
TkcgIk5GUzogUkVBRCByZXBseSBoZWFkZXIgb3ZlcmZsb3dlZDoiCi0JCQkJImxlbmd0aCAlZCA+
ICV1XG4iLCBoZHJsZW4sIGlvdi0+aW92X2xlbik7CisJCQkJImxlbmd0aCAlZCA+ICVadVxuIiwg
aGRybGVuLCBpb3YtPmlvdl9sZW4pOwogICAgICAgIAkJcmV0dXJuIC1lcnJub19ORlNFUlJfSU87
CiAJfSBlbHNlIGlmIChpb3YtPmlvdl9sZW4gIT0gaGRybGVuKSB7CiAJCWRwcmludGsoIk5GUzog
UkVBRCBoZWFkZXIgaXMgc2hvcnQuIGlvdmVjIHdpbGwgYmUgc2hpZnRlZC5cbiIpOwpkaWZmIC0t
dW5pZmllZCAtck4gbGludXgtMi42LjExLXBhdGNoL25ldC9jb3JlL2Rldi5jIGxpbnV4LTIuNi4x
MS9uZXQvY29yZS9kZXYuYwotLS0gbGludXgtMi42LjExLXBhdGNoL25ldC9jb3JlL2Rldi5jCTIw
MDUtMDUtMzEgMTA6MzI6MDAuMDAwMDAwMDAwICswNTMwCisrKyBsaW51eC0yLjYuMTEvbmV0L2Nv
cmUvZGV2LmMJMjAwNS0wMy0wMiAxMzowODowOS4wMDAwMDAwMDAgKzA1MzAKQEAgLTIzNDEsNyAr
MjM0MSw3IEBACiAJCQkJbWVtc2V0KGlmci0+aWZyX2h3YWRkci5zYV9kYXRhLCAwLCBzaXplb2Yg
aWZyLT5pZnJfaHdhZGRyLnNhX2RhdGEpOwogCQkJZWxzZQogCQkJCW1lbWNweShpZnItPmlmcl9o
d2FkZHIuc2FfZGF0YSwgZGV2LT5kZXZfYWRkciwKLQkJCQkgICAgICAgbWluKChzaXplX3Qpc2l6
ZW9mIGlmci0+aWZyX2h3YWRkci5zYV9kYXRhLCAoc2l6ZV90KSBkZXYtPmFkZHJfbGVuKSk7CisJ
CQkJICAgICAgIG1pbihzaXplb2YgaWZyLT5pZnJfaHdhZGRyLnNhX2RhdGEsIChzaXplX3QpIGRl
di0+YWRkcl9sZW4pKTsKIAkJCWlmci0+aWZyX2h3YWRkci5zYV9mYW1pbHkgPSBkZXYtPnR5cGU7
CiAJCQlyZXR1cm4gMDsKIApAQCAtMjM2Miw3ICsyMzYyLDcgQEAKIAkJCWlmIChpZnItPmlmcl9o
d2FkZHIuc2FfZmFtaWx5ICE9IGRldi0+dHlwZSkKIAkJCQlyZXR1cm4gLUVJTlZBTDsKIAkJCW1l
bWNweShkZXYtPmJyb2FkY2FzdCwgaWZyLT5pZnJfaHdhZGRyLnNhX2RhdGEsCi0JCQkgICAgICAg
bWluKChzaXplX3Qpc2l6ZW9mIGlmci0+aWZyX2h3YWRkci5zYV9kYXRhLCAoc2l6ZV90KSBkZXYt
PmFkZHJfbGVuKSk7CisJCQkgICAgICAgbWluKHNpemVvZiBpZnItPmlmcl9od2FkZHIuc2FfZGF0
YSwgKHNpemVfdCkgZGV2LT5hZGRyX2xlbikpOwogCQkJbm90aWZpZXJfY2FsbF9jaGFpbigmbmV0
ZGV2X2NoYWluLAogCQkJCQkgICAgTkVUREVWX0NIQU5HRUFERFIsIGRldik7CiAJCQlyZXR1cm4g
MDsKZGlmZiAtLXVuaWZpZWQgLXJOIGxpbnV4LTIuNi4xMS1wYXRjaC9uZXQvc3VucnBjL3N2Yy5j
IGxpbnV4LTIuNi4xMS9uZXQvc3VucnBjL3N2Yy5jCi0tLSBsaW51eC0yLjYuMTEtcGF0Y2gvbmV0
L3N1bnJwYy9zdmMuYwkyMDA1LTA1LTMxIDE1OjM4OjExLjAwMDAwMDAwMCArMDUzMAorKysgbGlu
dXgtMi42LjExL25ldC9zdW5ycGMvc3ZjLmMJMjAwNS0wMy0wMiAxMzowODozOC4wMDAwMDAwMDAg
KzA1MzAKQEAgLTQxNSw3ICs0MTUsNyBAQAogCiBlcnJfc2hvcnRfbGVuOgogI2lmZGVmIFJQQ19Q
QVJBTk9JQQotCXByaW50aygic3ZjOiBzaG9ydCBsZW4gJWQsIGRyb3BwaW5nIHJlcXVlc3RcbiIs
IGFyZ3YtPmlvdl9sZW4pOworCXByaW50aygic3ZjOiBzaG9ydCBsZW4gJVpkLCBkcm9wcGluZyBy
ZXF1ZXN0XG4iLCBhcmd2LT5pb3ZfbGVuKTsKICNlbmRpZgogCWdvdG8gZHJvcGl0OwkJCS8qIGRy
b3AgcmVxdWVzdCAqLwogCmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0yLjYuMTEtcGF0Y2gvbmV0
L3N1bnJwYy9zdmNzb2NrLmMgbGludXgtMi42LjExL25ldC9zdW5ycGMvc3Zjc29jay5jCi0tLSBs
aW51eC0yLjYuMTEtcGF0Y2gvbmV0L3N1bnJwYy9zdmNzb2NrLmMJMjAwNS0wNS0zMSAxNTo0MDo0
Mi4wMDAwMDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4xMS9uZXQvc3VucnBjL3N2Y3NvY2suYwky
MDA1LTAzLTAyIDEzOjA3OjQ4LjAwMDAwMDAwMCArMDUzMApAQCAtNDIxLDcgKzQyMSw3IEBACiAJ
CQlsZW4gKz0gcmVzdWx0OwogCX0KIG91dDoKLQlkcHJpbnRrKCJzdmM6IHNvY2tldCAlcCBzZW5k
dG8oWyVwICV1Li4uIF0sICVkKSA9ICVkIChhZGRyICV4KVxuIiwKKwlkcHJpbnRrKCJzdmM6IHNv
Y2tldCAlcCBzZW5kdG8oWyVwICVadS4uLiBdLCAlZCkgPSAlZCAoYWRkciAleClcbiIsCiAJCQly
cXN0cC0+cnFfc29jaywgeGRyLT5oZWFkWzBdLmlvdl9iYXNlLCB4ZHItPmhlYWRbMF0uaW92X2xl
biwgeGRyLT5sZW4sIGxlbiwKIAkJcnFzdHAtPnJxX2FkZHIuc2luX2FkZHIuc19hZGRyKTsKIApA
QCAtNDc0LDcgKzQ3NCw3IEBACiAJYWxlbiA9IHNpemVvZihycXN0cC0+cnFfYWRkcik7CiAJc29j
ay0+b3BzLT5nZXRuYW1lKHNvY2ssIChzdHJ1Y3Qgc29ja2FkZHIgKikmcnFzdHAtPnJxX2FkZHIs
ICZhbGVuLCAxKTsKIAotCWRwcmludGsoInN2Yzogc29ja2V0ICVwIHJlY3Zmcm9tKCVwLCAldSkg
PSAlZFxuIiwKKwlkcHJpbnRrKCJzdmM6IHNvY2tldCAlcCByZWN2ZnJvbSglcCwgJVp1KSA9ICVk
XG4iLAogCQlycXN0cC0+cnFfc29jaywgaW92WzBdLmlvdl9iYXNlLCBpb3ZbMF0uaW92X2xlbiwg
bGVuKTsKIAogCXJldHVybiBsZW47CmRpZmYgLS11bmlmaWVkIC1yTiBsaW51eC0yLjYuMTEtcGF0
Y2gvbmV0L3N1bnJwYy94cHJ0LmMgbGludXgtMi42LjExL25ldC9zdW5ycGMveHBydC5jCi0tLSBs
aW51eC0yLjYuMTEtcGF0Y2gvbmV0L3N1bnJwYy94cHJ0LmMJMjAwNS0wNS0zMSAxNTozNzo0My4w
MDAwMDAwMDAgKzA1MzAKKysrIGxpbnV4LTIuNi4xMS9uZXQvc3VucnBjL3hwcnQuYwkyMDA1LTAz
LTAyIDEzOjA4OjEzLjAwMDAwMDAwMCArMDUzMApAQCAtODg0LDcgKzg4NCw3IEBACiAJY2hhciAq
cDsKIAogCWxlbiA9IHNpemVvZih4cHJ0LT50Y3BfeGlkKSAtIHhwcnQtPnRjcF9vZmZzZXQ7Ci0J
ZHByaW50aygiUlBDOiAgICAgIHJlYWRpbmcgWElEICgldSBieXRlcylcbiIsIGxlbik7CisJZHBy
aW50aygiUlBDOiAgICAgIHJlYWRpbmcgWElEICglWnUgYnl0ZXMpXG4iLCBsZW4pOwogCXAgPSAo
KGNoYXIgKikgJnhwcnQtPnRjcF94aWQpICsgeHBydC0+dGNwX29mZnNldDsKIAl1c2VkID0gdGNw
X2NvcHlfZGF0YShkZXNjLCBwLCBsZW4pOwogCXhwcnQtPnRjcF9vZmZzZXQgKz0gdXNlZDsK
------=_Part_19346_22853078.1117535820767--
