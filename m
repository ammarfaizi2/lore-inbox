Return-Path: <linux-kernel-owner+willy=40w.ods.org-S261536AbVBADgz@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S261536AbVBADgz (ORCPT <rfc822;willy@w.ods.org>);
	Mon, 31 Jan 2005 22:36:55 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S261520AbVBADfh
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Mon, 31 Jan 2005 22:35:37 -0500
Received: from [195.23.16.24] ([195.23.16.24]:31883 "EHLO
	bipbip.comserver-pie.com") by vger.kernel.org with ESMTP
	id S261529AbVBADak (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Mon, 31 Jan 2005 22:30:40 -0500
Message-ID: <1107228526.41fef76e4c9be@webmail.grupopie.com>
Date: Tue,  1 Feb 2005 03:28:46 +0000
From: "" <pmarques@grupopie.com>
To: Andrew Morton <akpm@osdl.org>
Cc: "" <linux-kernel@vger.kernel.org>, "" <alsa-devel@alsa-project.org>
Subject: [PATCH 2.6] 7/7 replace snd_kmalloc_strdup by kstrdup
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="-MOQ110722852658663f2529928dccc175303418dc259b"
User-Agent: Internet Messaging Program (IMP) 3.2.2
X-Originating-IP: 82.154.143.60
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

This message is in MIME format.

---MOQ110722852658663f2529928dccc175303418dc259b
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable


This patch removes the strdup implementation from the sound core
(snd_kmalloc_strdup), and updates it to use the kstrdup library function.

Signed-off-by: Paulo Marques <pmarques@grupopie.com>

--
Paulo Marques - www.grupopie.com
=20
All that is necessary for the triumph of evil is that good men do nothing=
.
Edmund Burke (1729 - 1797)

---MOQ110722852658663f2529928dccc175303418dc259b
Content-Type: text/x-diff; name="patch7"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="patch7"

ZGlmZiAtdXByTiAtWCBkb250ZGlmZiB2YW5pbGxhLTIuNi4xMS1yYzItYms5L2luY2x1ZGUvc291
bmQvY29yZS5oIGxpbnV4LTIuNi4xMS1yYzItYms5L2luY2x1ZGUvc291bmQvY29yZS5oCi0tLSB2
YW5pbGxhLTIuNi4xMS1yYzItYms5L2luY2x1ZGUvc291bmQvY29yZS5oCTIwMDUtMDEtMzEgMjA6
MDU6MzMuMDAwMDAwMDAwICswMDAwCisrKyBsaW51eC0yLjYuMTEtcmMyLWJrOS9pbmNsdWRlL3Nv
dW5kL2NvcmUuaAkyMDA1LTAxLTMxIDIxOjMxOjU0LjAwMDAwMDAwMCArMDAwMApAQCAtMzEwLDcg
KzMxMCw2IEBAIHZvaWQgc25kX2hpZGRlbl92ZnJlZSh2b2lkICpvYmopOwogI2RlZmluZSBrZnJl
ZV9ub2NoZWNrKG9iaikga2ZyZWUob2JqKQogI2RlZmluZSB2ZnJlZV9ub2NoZWNrKG9iaikgdmZy
ZWUob2JqKQogI2VuZGlmCi1jaGFyICpzbmRfa21hbGxvY19zdHJkdXAoY29uc3QgY2hhciAqc3Ry
aW5nLCBpbnQgZmxhZ3MpOwogaW50IGNvcHlfdG9fdXNlcl9mcm9taW8odm9pZCBfX3VzZXIgKmRz
dCwgY29uc3Qgdm9sYXRpbGUgdm9pZCBfX2lvbWVtICpzcmMsIHNpemVfdCBjb3VudCk7CiBpbnQg
Y29weV9mcm9tX3VzZXJfdG9pbyh2b2xhdGlsZSB2b2lkIF9faW9tZW0gKmRzdCwgY29uc3Qgdm9p
ZCBfX3VzZXIgKnNyYywgc2l6ZV90IGNvdW50KTsKIApkaWZmIC11cHJOIC1YIGRvbnRkaWZmIHZh
bmlsbGEtMi42LjExLXJjMi1iazkvc291bmQvY29yZS9pbmZvLmMgbGludXgtMi42LjExLXJjMi1i
azkvc291bmQvY29yZS9pbmZvLmMKLS0tIHZhbmlsbGEtMi42LjExLXJjMi1iazkvc291bmQvY29y
ZS9pbmZvLmMJMjAwNS0wMS0zMSAyMDowNTozNC4wMDAwMDAwMDAgKzAwMDAKKysrIGxpbnV4LTIu
Ni4xMS1yYzItYms5L3NvdW5kL2NvcmUvaW5mby5jCTIwMDUtMDEtMzEgMjE6MzE6MDIuMDAwMDAw
MDAwICswMDAwCkBAIC0yNCw2ICsyNCw3IEBACiAjaW5jbHVkZSA8bGludXgvdm1hbGxvYy5oPgog
I2luY2x1ZGUgPGxpbnV4L3RpbWUuaD4KICNpbmNsdWRlIDxsaW51eC9zbXBfbG9jay5oPgorI2lu
Y2x1ZGUgPGxpbnV4L3N0cmluZy5oPgogI2luY2x1ZGUgPHNvdW5kL2NvcmUuaD4KICNpbmNsdWRl
IDxzb3VuZC9taW5vcnMuaD4KICNpbmNsdWRlIDxzb3VuZC9pbmZvLmg+CkBAIC03NTUsNyArNzU2
LDcgQEAgc3RhdGljIHNuZF9pbmZvX2VudHJ5X3QgKnNuZF9pbmZvX2NyZWF0ZQogCWVudHJ5ID0g
a2NhbGxvYygxLCBzaXplb2YoKmVudHJ5KSwgR0ZQX0tFUk5FTCk7CiAJaWYgKGVudHJ5ID09IE5V
TEwpCiAJCXJldHVybiBOVUxMOwotCWVudHJ5LT5uYW1lID0gc25kX2ttYWxsb2Nfc3RyZHVwKG5h
bWUsIEdGUF9LRVJORUwpOworCWVudHJ5LT5uYW1lID0ga3N0cmR1cChuYW1lLCBHRlBfS0VSTkVM
KTsKIAlpZiAoZW50cnktPm5hbWUgPT0gTlVMTCkgewogCQlrZnJlZShlbnRyeSk7CiAJCXJldHVy
biBOVUxMOwpkaWZmIC11cHJOIC1YIGRvbnRkaWZmIHZhbmlsbGEtMi42LjExLXJjMi1iazkvc291
bmQvY29yZS9pbmZvX29zcy5jIGxpbnV4LTIuNi4xMS1yYzItYms5L3NvdW5kL2NvcmUvaW5mb19v
c3MuYwotLS0gdmFuaWxsYS0yLjYuMTEtcmMyLWJrOS9zb3VuZC9jb3JlL2luZm9fb3NzLmMJMjAw
NC0xMi0yNCAyMTozNDowMS4wMDAwMDAwMDAgKzAwMDAKKysrIGxpbnV4LTIuNi4xMS1yYzItYms5
L3NvdW5kL2NvcmUvaW5mb19vc3MuYwkyMDA1LTAxLTMxIDIxOjMwOjM1LjAwMDAwMDAwMCArMDAw
MApAQCAtMjcsNiArMjcsNyBAQAogI2luY2x1ZGUgPHNvdW5kL2luZm8uaD4KICNpbmNsdWRlIDxz
b3VuZC92ZXJzaW9uLmg+CiAjaW5jbHVkZSA8bGludXgvdXRzbmFtZS5oPgorI2luY2x1ZGUgPGxp
bnV4L3N0cmluZy5oPgogCiAjaWYgZGVmaW5lZChDT05GSUdfU05EX09TU0VNVUwpICYmIGRlZmlu
ZWQoQ09ORklHX1BST0NfRlMpCiAKQEAgLTUxLDcgKzUyLDcgQEAgaW50IHNuZF9vc3NfaW5mb19y
ZWdpc3RlcihpbnQgZGV2LCBpbnQgbgogCQkJeCA9IE5VTEw7CiAJCX0KIAl9IGVsc2UgewotCQl4
ID0gc25kX2ttYWxsb2Nfc3RyZHVwKHN0cmluZywgR0ZQX0tFUk5FTCk7CisJCXggPSBrc3RyZHVw
KHN0cmluZywgR0ZQX0tFUk5FTCk7CiAJCWlmICh4ID09IE5VTEwpIHsKIAkJCXVwKCZzdHJpbmdz
KTsKIAkJCXJldHVybiAtRU5PTUVNOwpkaWZmIC11cHJOIC1YIGRvbnRkaWZmIHZhbmlsbGEtMi42
LjExLXJjMi1iazkvc291bmQvY29yZS9tZW1vcnkuYyBsaW51eC0yLjYuMTEtcmMyLWJrOS9zb3Vu
ZC9jb3JlL21lbW9yeS5jCi0tLSB2YW5pbGxhLTIuNi4xMS1yYzItYms5L3NvdW5kL2NvcmUvbWVt
b3J5LmMJMjAwNS0wMS0zMSAyMDowNTozNC4wMDAwMDAwMDAgKzAwMDAKKysrIGxpbnV4LTIuNi4x
MS1yYzItYms5L3NvdW5kL2NvcmUvbWVtb3J5LmMJMjAwNS0wMS0zMSAyMTozMDowNy4wMDAwMDAw
MDAgKzAwMDAKQEAgLTIyMSwyOSArMjIxLDYgQEAgaW50IF9fZXhpdCBzbmRfbWVtb3J5X2luZm9f
ZG9uZSh2b2lkKQogI2VuZGlmIC8qIENPTkZJR19TTkRfREVCVUdfTUVNT1JZICovCiAKIC8qKgot
ICogc25kX2ttYWxsb2Nfc3RyZHVwIC0gY29weSB0aGUgc3RyaW5nCi0gKiBAc3RyaW5nOiB0aGUg
b3JpZ2luYWwgc3RyaW5nCi0gKiBAZmxhZ3M6IGFsbG9jYXRpb24gY29uZGl0aW9ucywgR0ZQX1hY
WAotICoKLSAqIEFsbG9jYXRlcyBhIG1lbW9yeSBjaHVuayB2aWEga21hbGxvYygpIGFuZCBjb3Bp
ZXMgdGhlIHN0cmluZyB0byBpdC4KLSAqCi0gKiBSZXR1cm5zIHRoZSBwb2ludGVyLCBvciBOVUxM
IGlmIG5vIGVub2d1aCBtZW1vcnkuCi0gKi8KLWNoYXIgKnNuZF9rbWFsbG9jX3N0cmR1cChjb25z
dCBjaGFyICpzdHJpbmcsIGludCBmbGFncykKLXsKLQlzaXplX3QgbGVuOwotCWNoYXIgKnB0cjsK
LQotCWlmICghc3RyaW5nKQotCQlyZXR1cm4gTlVMTDsKLQlsZW4gPSBzdHJsZW4oc3RyaW5nKSAr
IDE7Ci0JcHRyID0gX3NuZF9rbWFsbG9jKGxlbiwgZmxhZ3MpOwotCWlmIChwdHIpCi0JCW1lbWNw
eShwdHIsIHN0cmluZywgbGVuKTsKLQlyZXR1cm4gcHRyOwotfQotCi0vKioKICAqIGNvcHlfdG9f
dXNlcl9mcm9taW8gLSBjb3B5IGRhdGEgZnJvbSBtbWlvLXNwYWNlIHRvIHVzZXItc3BhY2UKICAq
IEBkc3Q6IHRoZSBkZXN0aW5hdGlvbiBwb2ludGVyIG9uIHVzZXItc3BhY2UKICAqIEBzcmM6IHRo
ZSBzb3VyY2UgcG9pbnRlciBvbiBtbWlvCmRpZmYgLXVwck4gLVggZG9udGRpZmYgdmFuaWxsYS0y
LjYuMTEtcmMyLWJrOS9zb3VuZC9jb3JlL29zcy9taXhlcl9vc3MuYyBsaW51eC0yLjYuMTEtcmMy
LWJrOS9zb3VuZC9jb3JlL29zcy9taXhlcl9vc3MuYwotLS0gdmFuaWxsYS0yLjYuMTEtcmMyLWJr
OS9zb3VuZC9jb3JlL29zcy9taXhlcl9vc3MuYwkyMDA1LTAxLTMxIDIwOjA1OjM0LjAwMDAwMDAw
MCArMDAwMAorKysgbGludXgtMi42LjExLXJjMi1iazkvc291bmQvY29yZS9vc3MvbWl4ZXJfb3Nz
LmMJMjAwNS0wMS0zMSAyMTozMDoxOS4wMDAwMDAwMDAgKzAwMDAKQEAgLTI0LDYgKzI0LDcgQEAK
ICNpbmNsdWRlIDxsaW51eC9zbXBfbG9jay5oPgogI2luY2x1ZGUgPGxpbnV4L3NsYWIuaD4KICNp
bmNsdWRlIDxsaW51eC90aW1lLmg+CisjaW5jbHVkZSA8bGludXgvc3RyaW5nLmg+CiAjaW5jbHVk
ZSA8c291bmQvY29yZS5oPgogI2luY2x1ZGUgPHNvdW5kL21pbm9ycy5oPgogI2luY2x1ZGUgPHNv
dW5kL2NvbnRyb2wuaD4KQEAgLTExMjIsNyArMTEyMyw3IEBAIHN0YXRpYyB2b2lkIHNuZF9taXhl
cl9vc3NfcHJvY193cml0ZShzbmQKIAkJCWdvdG8gX191bmxvY2s7CiAJCX0KIAkJdGJsLT5vc3Nf
aWQgPSBjaDsKLQkJdGJsLT5uYW1lID0gc25kX2ttYWxsb2Nfc3RyZHVwKHN0ciwgR0ZQX0tFUk5F
TCk7CisJCXRibC0+bmFtZSA9IGtzdHJkdXAoc3RyLCBHRlBfS0VSTkVMKTsKIAkJaWYgKCEgdGJs
LT5uYW1lKSB7CiAJCQlrZnJlZSh0YmwpOwogCQkJZ290byBfX3VubG9jazsKZGlmZiAtdXByTiAt
WCBkb250ZGlmZiB2YW5pbGxhLTIuNi4xMS1yYzItYms5L3NvdW5kL2NvcmUvb3NzL3BjbV9vc3Mu
YyBsaW51eC0yLjYuMTEtcmMyLWJrOS9zb3VuZC9jb3JlL29zcy9wY21fb3NzLmMKLS0tIHZhbmls
bGEtMi42LjExLXJjMi1iazkvc291bmQvY29yZS9vc3MvcGNtX29zcy5jCTIwMDUtMDEtMzEgMjA6
MDU6MzQuMDAwMDAwMDAwICswMDAwCisrKyBsaW51eC0yLjYuMTEtcmMyLWJrOS9zb3VuZC9jb3Jl
L29zcy9wY21fb3NzLmMJMjAwNS0wMS0zMSAyMTozMDoyNC4wMDAwMDAwMDAgKzAwMDAKQEAgLTMz
LDYgKzMzLDcgQEAKICNpbmNsdWRlIDxsaW51eC90aW1lLmg+CiAjaW5jbHVkZSA8bGludXgvdm1h
bGxvYy5oPgogI2luY2x1ZGUgPGxpbnV4L21vZHVsZXBhcmFtLmg+CisjaW5jbHVkZSA8bGludXgv
c3RyaW5nLmg+CiAjaW5jbHVkZSA8c291bmQvY29yZS5oPgogI2luY2x1ZGUgPHNvdW5kL21pbm9y
cy5oPgogI2luY2x1ZGUgPHNvdW5kL3BjbS5oPgpAQCAtMjM0OSw3ICsyMzUwLDcgQEAgc3RhdGlj
IHZvaWQgc25kX3BjbV9vc3NfcHJvY193cml0ZShzbmRfaQogCQkJCQlmb3IgKHNldHVwMSA9IHBz
dHItPm9zcy5zZXR1cF9saXN0OyBzZXR1cDEtPm5leHQ7IHNldHVwMSA9IHNldHVwMS0+bmV4dCk7
CiAJCQkJCXNldHVwMS0+bmV4dCA9IHNldHVwOwogCQkJCX0KLQkJCQl0ZW1wbGF0ZS50YXNrX25h
bWUgPSBzbmRfa21hbGxvY19zdHJkdXAodGFza19uYW1lLCBHRlBfS0VSTkVMKTsKKwkJCQl0ZW1w
bGF0ZS50YXNrX25hbWUgPSBrc3RyZHVwKHRhc2tfbmFtZSwgR0ZQX0tFUk5FTCk7CiAJCQl9IGVs
c2UgewogCQkJCWJ1ZmZlci0+ZXJyb3IgPSAtRU5PTUVNOwogCQkJfQpkaWZmIC11cHJOIC1YIGRv
bnRkaWZmIHZhbmlsbGEtMi42LjExLXJjMi1iazkvc291bmQvY29yZS9zb3VuZC5jIGxpbnV4LTIu
Ni4xMS1yYzItYms5L3NvdW5kL2NvcmUvc291bmQuYwotLS0gdmFuaWxsYS0yLjYuMTEtcmMyLWJr
OS9zb3VuZC9jb3JlL3NvdW5kLmMJMjAwNS0wMS0zMSAyMDowNTozNC4wMDAwMDAwMDAgKzAwMDAK
KysrIGxpbnV4LTIuNi4xMS1yYzItYms5L3NvdW5kL2NvcmUvc291bmQuYwkyMDA1LTAxLTMxIDIx
OjMwOjQ3LjAwMDAwMDAwMCArMDAwMApAQCAtNDAxLDcgKzQwMSw2IEBAIEVYUE9SVF9TWU1CT0wo
c25kX2hpZGRlbl9rZnJlZSk7CiBFWFBPUlRfU1lNQk9MKHNuZF9oaWRkZW5fdm1hbGxvYyk7CiBF
WFBPUlRfU1lNQk9MKHNuZF9oaWRkZW5fdmZyZWUpOwogI2VuZGlmCi1FWFBPUlRfU1lNQk9MKHNu
ZF9rbWFsbG9jX3N0cmR1cCk7CiBFWFBPUlRfU1lNQk9MKGNvcHlfdG9fdXNlcl9mcm9taW8pOwog
RVhQT1JUX1NZTUJPTChjb3B5X2Zyb21fdXNlcl90b2lvKTsKICAgLyogaW5pdC5jICovCmRpZmYg
LXVwck4gLVggZG9udGRpZmYgdmFuaWxsYS0yLjYuMTEtcmMyLWJrOS9zb3VuZC9jb3JlL3RpbWVy
LmMgbGludXgtMi42LjExLXJjMi1iazkvc291bmQvY29yZS90aW1lci5jCi0tLSB2YW5pbGxhLTIu
Ni4xMS1yYzItYms5L3NvdW5kL2NvcmUvdGltZXIuYwkyMDA1LTAxLTMxIDIwOjA1OjM0LjAwMDAw
MDAwMCArMDAwMAorKysgbGludXgtMi42LjExLXJjMi1iazkvc291bmQvY29yZS90aW1lci5jCTIw
MDUtMDEtMzEgMjE6MzA6NDAuMDAwMDAwMDAwICswMDAwCkBAIC0yNiw2ICsyNiw3IEBACiAjaW5j
bHVkZSA8bGludXgvc2xhYi5oPgogI2luY2x1ZGUgPGxpbnV4L3RpbWUuaD4KICNpbmNsdWRlIDxs
aW51eC9tb2R1bGVwYXJhbS5oPgorI2luY2x1ZGUgPGxpbnV4L3N0cmluZy5oPgogI2luY2x1ZGUg
PHNvdW5kL2NvcmUuaD4KICNpbmNsdWRlIDxzb3VuZC90aW1lci5oPgogI2luY2x1ZGUgPHNvdW5k
L2NvbnRyb2wuaD4KQEAgLTk3LDcgKzk4LDcgQEAgc3RhdGljIHNuZF90aW1lcl9pbnN0YW5jZV90
ICpzbmRfdGltZXJfaQogCXRpbWVyaSA9IGtjYWxsb2MoMSwgc2l6ZW9mKCp0aW1lcmkpLCBHRlBf
S0VSTkVMKTsKIAlpZiAodGltZXJpID09IE5VTEwpCiAJCXJldHVybiBOVUxMOwotCXRpbWVyaS0+
b3duZXIgPSBzbmRfa21hbGxvY19zdHJkdXAob3duZXIsIEdGUF9LRVJORUwpOworCXRpbWVyaS0+
b3duZXIgPSBrc3RyZHVwKG93bmVyLCBHRlBfS0VSTkVMKTsKIAlpZiAoISB0aW1lcmktPm93bmVy
KSB7CiAJCWtmcmVlKHRpbWVyaSk7CiAJCXJldHVybiBOVUxMOwpkaWZmIC11cHJOIC1YIGRvbnRk
aWZmIHZhbmlsbGEtMi42LjExLXJjMi1iazkvc291bmQvaXNhL2d1cy9ndXNfbWVtLmMgbGludXgt
Mi42LjExLXJjMi1iazkvc291bmQvaXNhL2d1cy9ndXNfbWVtLmMKLS0tIHZhbmlsbGEtMi42LjEx
LXJjMi1iazkvc291bmQvaXNhL2d1cy9ndXNfbWVtLmMJMjAwNS0wMS0zMSAyMDowNTozNC4wMDAw
MDAwMDAgKzAwMDAKKysrIGxpbnV4LTIuNi4xMS1yYzItYms5L3NvdW5kL2lzYS9ndXMvZ3VzX21l
bS5jCTIwMDUtMDEtMzEgMjE6MzE6MTYuMDAwMDAwMDAwICswMDAwCkBAIC0yMSw2ICsyMSw3IEBA
CiAKICNpbmNsdWRlIDxzb3VuZC9kcml2ZXIuaD4KICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cisj
aW5jbHVkZSA8bGludXgvc3RyaW5nLmg+CiAjaW5jbHVkZSA8c291bmQvY29yZS5oPgogI2luY2x1
ZGUgPHNvdW5kL2d1cy5oPgogI2luY2x1ZGUgPHNvdW5kL2luZm8uaD4KQEAgLTIxMyw3ICsyMTQs
NyBAQCBzbmRfZ2YxX21lbV9ibG9ja190ICpzbmRfZ2YxX21lbV9hbGxvYyhzCiAJaWYgKHNoYXJl
X2lkICE9IE5VTEwpCiAJCW1lbWNweSgmYmxvY2suc2hhcmVfaWQsIHNoYXJlX2lkLCBzaXplb2Yo
YmxvY2suc2hhcmVfaWQpKTsKIAlibG9jay5vd25lciA9IG93bmVyOwotCWJsb2NrLm5hbWUgPSBz
bmRfa21hbGxvY19zdHJkdXAobmFtZSwgR0ZQX0tFUk5FTCk7CisJYmxvY2submFtZSA9IGtzdHJk
dXAobmFtZSwgR0ZQX0tFUk5FTCk7CiAJbmJsb2NrID0gc25kX2dmMV9tZW1feGFsbG9jKGFsbG9j
LCAmYmxvY2spOwogCXNuZF9nZjFfbWVtX2xvY2soYWxsb2MsIDEpOwogCXJldHVybiBuYmxvY2s7
CkBAIC0yNTMsMTMgKzI1NCwxMyBAQCBpbnQgc25kX2dmMV9tZW1faW5pdChzbmRfZ3VzX2NhcmRf
dCAqIGd1CiAJaWYgKGd1cy0+Z2YxLmVuaF9tb2RlKSB7CiAJCWJsb2NrLnB0ciA9IDA7CiAJCWJs
b2NrLnNpemUgPSAxMDI0OwotCQlibG9jay5uYW1lID0gc25kX2ttYWxsb2Nfc3RyZHVwKCJJbnRl
cldhdmUgTEZPcyIsIEdGUF9LRVJORUwpOworCQlibG9jay5uYW1lID0ga3N0cmR1cCgiSW50ZXJX
YXZlIExGT3MiLCBHRlBfS0VSTkVMKTsKIAkJaWYgKHNuZF9nZjFfbWVtX3hhbGxvYyhhbGxvYywg
JmJsb2NrKSA9PSBOVUxMKQogCQkJcmV0dXJuIC1FTk9NRU07CiAJfQogCWJsb2NrLnB0ciA9IGd1
cy0+Z2YxLmRlZmF1bHRfdm9pY2VfYWRkcmVzczsKIAlibG9jay5zaXplID0gNDsKLQlibG9jay5u
YW1lID0gc25kX2ttYWxsb2Nfc3RyZHVwKCJWb2ljZSBkZWZhdWx0IChOVUxMJ3MpIiwgR0ZQX0tF
Uk5FTCk7CisJYmxvY2submFtZSA9IGtzdHJkdXAoIlZvaWNlIGRlZmF1bHQgKE5VTEwncykiLCBH
RlBfS0VSTkVMKTsKIAlpZiAoc25kX2dmMV9tZW1feGFsbG9jKGFsbG9jLCAmYmxvY2spID09IE5V
TEwpCiAJCXJldHVybiAtRU5PTUVNOwogI2lmZGVmIENPTkZJR19TTkRfREVCVUcKZGlmZiAtdXBy
TiAtWCBkb250ZGlmZiB2YW5pbGxhLTIuNi4xMS1yYzItYms5L3NvdW5kL3N5bnRoL2VtdXgvZW11
eC5jIGxpbnV4LTIuNi4xMS1yYzItYms5L3NvdW5kL3N5bnRoL2VtdXgvZW11eC5jCi0tLSB2YW5p
bGxhLTIuNi4xMS1yYzItYms5L3NvdW5kL3N5bnRoL2VtdXgvZW11eC5jCTIwMDUtMDEtMzEgMjA6
MDU6MzUuMDAwMDAwMDAwICswMDAwCisrKyBsaW51eC0yLjYuMTEtcmMyLWJrOS9zb3VuZC9zeW50
aC9lbXV4L2VtdXguYwkyMDA1LTAxLTMxIDIxOjMxOjMzLjAwMDAwMDAwMCArMDAwMApAQCAtMjUs
NiArMjUsNyBAQAogI2luY2x1ZGUgPHNvdW5kL2NvcmUuaD4KICNpbmNsdWRlIDxzb3VuZC9lbXV4
X3N5bnRoLmg+CiAjaW5jbHVkZSA8bGludXgvaW5pdC5oPgorI2luY2x1ZGUgPGxpbnV4L3N0cmlu
Zy5oPgogI2luY2x1ZGUgImVtdXhfdm9pY2UuaCIKIAogTU9EVUxFX0FVVEhPUigiVGFrYXNoaSBJ
d2FpIik7CkBAIC03Niw3ICs3Nyw3IEBAIGludCBzbmRfZW11eF9yZWdpc3RlcihzbmRfZW11eF90
ICplbXUsIHMKIAlzbmRfYXNzZXJ0KG5hbWUgIT0gTlVMTCwgcmV0dXJuIC1FSU5WQUwpOwogCiAJ
ZW11LT5jYXJkID0gY2FyZDsKLQllbXUtPm5hbWUgPSBzbmRfa21hbGxvY19zdHJkdXAobmFtZSwg
R0ZQX0tFUk5FTCk7CisJZW11LT5uYW1lID0ga3N0cmR1cChuYW1lLCBHRlBfS0VSTkVMKTsKIAll
bXUtPnZvaWNlcyA9IGtjYWxsb2MoZW11LT5tYXhfdm9pY2VzLCBzaXplb2Yoc25kX2VtdXhfdm9p
Y2VfdCksIEdGUF9LRVJORUwpOwogCWlmIChlbXUtPnZvaWNlcyA9PSBOVUxMKQogCQlyZXR1cm4g
LUVOT01FTTsK

---MOQ110722852658663f2529928dccc175303418dc259b--
