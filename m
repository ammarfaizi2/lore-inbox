Return-Path: <linux-kernel-owner+akpm=40zip.com.au@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S314584AbSEUNrr>; Tue, 21 May 2002 09:47:47 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S314600AbSEUNrq>; Tue, 21 May 2002 09:47:46 -0400
Received: from ns.suse.de ([213.95.15.193]:9480 "HELO Cantor.suse.de")
	by vger.kernel.org with SMTP id <S314584AbSEUNrp>;
	Tue, 21 May 2002 09:47:45 -0400
Date: Tue, 21 May 2002 15:47:45 +0200
Message-ID: <s5h661hhata.wl@alsa2.suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Melchior FRANZ <a8603365@unet.univie.ac.at>
Cc: linux-kernel@vger.kernel.org
Subject: Re: Linux 2.5.17: compile error: sound/driver/opl3/opl3_oss.c 
In-Reply-To: <200205211205.09824@pflug3.gphy.univie.ac.at>
User-Agent: Wanderlust/2.6.1 (Upside Down) SEMI/1.14.3 (Ushinoya)
 FLIM/1.14.3 (=?ISO-8859-4?Q?Unebigory=F2mae?=) APEL/10.2 MULE XEmacs/21.4
 (patch 4) (Artificial Intelligence) (i386-suse-linux)
MIME-Version: 1.0 (generated by SEMI 1.14.3 - "Ushinoya")
Content-Type: multipart/mixed;
 boundary="Multipart_Tue_May_21_15:47:45_2002-1"
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

--Multipart_Tue_May_21_15:47:45_2002-1
Content-Type: text/plain; charset=US-ASCII

At Tue, 21 May 2002 12:05:08 +0200,
Melchior FRANZ wrote:
> 
> This is now the third or fourth kernel in a row that exhibits the same
> compile error. The configuration is as follows:

this was fixed on alsa cvs.
please try the attached patch (applied under $KENREL/sound).


Takashi

--Multipart_Tue_May_21_15:47:45_2002-1
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="opl3-makefile.dif"
Content-Transfer-Encoding: 7bit

Index: drivers/opl3/Makefile
===================================================================
RCS file: /suse/tiwai/cvs/alsa/alsa-kernel/drivers/opl3/Makefile,v
retrieving revision 1.6
retrieving revision 1.7
diff -u -r1.6 -r1.7
--- drivers/opl3/Makefile	26 Apr 2002 14:04:39 -0000	1.6
+++ drivers/opl3/Makefile	21 May 2002 13:22:10 -0000	1.7
@@ -8,9 +8,11 @@
 export-objs  := opl3_lib.o
 
 snd-opl3-lib-objs := opl3_lib.o opl3_synth.o
-snd-opl3-synth-objs := opl3_seq.o opl3_midi.o opl3_drums.o
 ifeq ($(subst m,y,$(CONFIG_SND_SEQUENCER)),y)
+snd-opl3-synth-objs := opl3_seq.o opl3_midi.o opl3_drums.o
+ifeq ($(CONFIG_SND_OSSEMUL),y)
 snd-opl3-synth-objs += opl3_oss.o
+endif
 endif
 
 # Toplevel Module Dependency

--Multipart_Tue_May_21_15:47:45_2002-1--
