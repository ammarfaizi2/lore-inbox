Return-Path: <linux-kernel-owner+akpm=40zip.com.au@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id <S314082AbSEFJfy>; Mon, 6 May 2002 05:35:54 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org
	id <S314292AbSEFJfx>; Mon, 6 May 2002 05:35:53 -0400
Received: from front1.mail.megapathdsl.net ([66.80.60.31]:8978 "EHLO
	front1.mail.megapathdsl.net") by vger.kernel.org with ESMTP
	id <S314082AbSEFJfw>; Mon, 6 May 2002 05:35:52 -0400
Message-ID: <3CD64DD1.2030009@megapathdsl.net>
Date: Mon, 06 May 2002 02:33:05 -0700
From: Miles Lane <miles@megapathdsl.net>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0rc2) Gecko/20020504
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: LKML <linux-kernel@vger.kernel.org>
Subject: 2.5.14 -- dmesg corruption -- Error seeking in /dev/kmem, Symbol
 #floppy, value d990e000, Error adding kernel module table entry
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

I have reported this at least twice before.  At least one
other person has reported reproducing this problem.
Would someone please care enough to help me track this
down?

All the kernel messages seem to get emitted to the
VT/debug serial port during the boot process, but
the ouput to /var/log/kernel is currupted.

May  6 01:21:19 turbulence syslogd 1.4.1: restart.
May  6 01:21:20 turbulence syslog: syslogd startup succeeded
May  6 01:21:20 turbulence kernel: klogd 1.4.1, log source = /proc/kmsg 
started.
May  6 01:21:20 turbulence kernel: Inspecting /boot/System.map-2.5.14
May  6 01:21:20 turbulence syslog: klogd startup succeeded
May  6 01:21:20 turbulence kernel: Loaded 20642 symbols from 
/boot/System.map-2.5.14.
May  6 01:21:20 turbulence kernel: Symbols match kernel version 2.5.14.
May  6 01:21:20 turbulence kernel: Error seeking in /dev/kmem
May  6 01:21:20 turbulence kernel: Symbol #floppy, value d990e000
May  6 01:21:20 turbulence kernel: Error adding kernel module table entry.

Here's the high-level options from .config
(I have seen this problem with many, many 2.5.x
kernels with varying options selected):

#
# Automatically generated by make menuconfig: don't edit
#
CONFIG_X86=y
CONFIG_ISA=y
CONFIG_UID16=y

#
# Code maturity level options
#
CONFIG_EXPERIMENTAL=y

#
# General setup
#
CONFIG_NET=y
CONFIG_SYSVIPC=y
CONFIG_BSD_PROCESS_ACCT=y
CONFIG_SYSCTL=y

#
# Loadable module support
#
CONFIG_MODULES=y
CONFIG_KMOD=y

#
# Processor type and features
#
CONFIG_MK7=y
CONFIG_X86_WP_WORKS_OK=y
CONFIG_X86_INVLPG=y
CONFIG_X86_CMPXCHG=y
CONFIG_X86_XADD=y
CONFIG_X86_BSWAP=y
CONFIG_X86_POPAD_OK=y
CONFIG_RWSEM_XCHGADD_ALGORITHM=y
CONFIG_X86_L1_CACHE_SHIFT=6
CONFIG_X86_TSC=y
CONFIG_X86_GOOD_APIC=y
CONFIG_X86_USE_3DNOW=y
CONFIG_X86_USE_PPRO_CHECKSUM=y
CONFIG_X86_MCE=y
CONFIG_X86_MCE_NONFATAL=y
CONFIG_X86_MCE_P4THERMAL=y
CONFIG_NOHIGHMEM=y
CONFIG_MTRR=y
CONFIG_PREEMPT=y
CONFIG_X86_UP_APIC=y
CONFIG_X86_LOCAL_APIC=y
CONFIG_HAVE_DEC_LOCK=y

#
# ACPI Support
#
CONFIG_ACPI=y
CONFIG_ACPI_BOOT=y
CONFIG_ACPI_BUS=y
CONFIG_ACPI_EC=y
CONFIG_ACPI_INTERPRETER=y
CONFIG_ACPI_PCI=y
CONFIG_ACPI_POWER=y
CONFIG_ACPI_SLEEP=y
CONFIG_ACPI_SYSTEM=y
CONFIG_ACPI_AC=m
CONFIG_ACPI_BATTERY=m
CONFIG_ACPI_BUTTON=m
CONFIG_ACPI_FAN=m
CONFIG_ACPI_PROCESSOR=m
CONFIG_ACPI_THERMAL=m
CONFIG_ACPI_DEBUG=y
CONFIG_PCI=y
CONFIG_PCI_GOANY=y
CONFIG_PCI_BIOS=y
CONFIG_PCI_DIRECT=y
CONFIG_PCI_NAMES=y
CONFIG_HOTPLUG=y

#
# PCMCIA/CardBus support
#
# CONFIG_PCMCIA is not set

#
# PCI Hotplug Support
#
CONFIG_KCORE_ELF=y
CONFIG_BINFMT_AOUT=y
CONFIG_BINFMT_ELF=y
CONFIG_BINFMT_MISC=y
CONFIG_PM=y

