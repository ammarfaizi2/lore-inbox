Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932442AbWCBLuz@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932442AbWCBLuz (ORCPT <rfc822;willy@w.ods.org>);
	Thu, 2 Mar 2006 06:50:55 -0500
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932437AbWCBLuz
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Thu, 2 Mar 2006 06:50:55 -0500
Received: from fgwmail7.fujitsu.co.jp ([192.51.44.37]:17354 "EHLO
	fgwmail7.fujitsu.co.jp") by vger.kernel.org with ESMTP
	id S932412AbWCBLuy (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
	Thu, 2 Mar 2006 06:50:54 -0500
Date: Thu, 02 Mar 2006 20:50:49 +0900
Message-ID: <874q2h9iau.wl%muneda.takahiro@jp.fujitsu.com>
From: MUNEDA Takahiro <muneda.takahiro@jp.fujitsu.com>
To: Kristen Accardi <kristen.c.accardi@intel.com>
Cc: MUNEDA Takahiro <muneda.takahiro@jp.fujitsu.com>,
       linux-kernel@vger.kernel.org, linux-acpi@vger.kernel.org,
       pcihpd-discuss@lists.sourceforge.net, greg@kroah.com,
       len.brown@intel.com, pavel@ucw.cz
Subject: Re: [Pcihpd-discuss] Re: [patch 2/3] acpiphp: add dock event handling
In-Reply-To: <1140802177.2085.4.camel@whizzy>
References: <20060223195022.747891000@intel.com>
	<1140724577.11750.17.camel@whizzy>
	<87acchz3n6.wl%muneda.takahiro@jp.fujitsu.com>
	<1140802177.2085.4.camel@whizzy>
User-Agent: Wanderlust/2.14.1 (Bad Medicine-pre) SEMI/1.14.6 (Maruoka) LIMIT/1.14.9 (Domyoji) APEL/10.6 Emacs/22.0.50 (i686-pc-linux-gnu) MULE/5.0 (SAKAKI)
X-Pollen: =?ISO-2022-JP?B?My8zGyRCJE5ARTIsOClFbEl0JE4/eTJWSjQkT0I/JCQbKEI=?=
 =?ISO-2022-JP?B?GyRCJEckORsoQg==?=
X-Weather: =?ISO-2022-JP?B?GyRCTEBGfCROQEUyLDgpJE8xKyRHJDkbKEI=?=
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

At Fri, 24 Feb 2006 09:29:37 -0800,
Kristen Accardi <kristen.c.accardi@intel.com> wrote:
> 
> I added this because I found that in some laptops the dsdt reported a
> bus present that wasn't actually, so the bus would be added at boot
> time, but the PRT not read if the laptop was booted undocked.  Initially
> I tried to get a handle to the existing bus, and then if the bus already
> was added, just call acpi_bus_start() - but this did not cause the PRT
> to be read in this case - the only thing that worked for me was to
> remove the bus and readd it.  If there's a better way to handle this,
> I'd appreciate the suggestion.  

Hi Kristen,

I'm sorry for my late reply.
I understood the issue which you are encountered. When the
_STA is not defined, acpi assumes that the device is always
there. But actually, the device is not connected. So, when
the device is added, acpi_device structure has already exist.
Is my understanding right?

I've tried to solve this issue. But I could not find better
solution, unfortunately. So I think your idea is good now,

Thanks,
MUNE
