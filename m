Return-Path: <linux-kernel-owner+willy=40w.ods.org-S932091AbWGKTHV@vger.kernel.org>
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S932091AbWGKTHV (ORCPT <rfc822;willy@w.ods.org>);
	Tue, 11 Jul 2006 15:07:21 -0400
Received: (majordomo@vger.kernel.org) by vger.kernel.org id S932092AbWGKTHU
	(ORCPT <rfc822;linux-kernel-outgoing>);
	Tue, 11 Jul 2006 15:07:20 -0400
Received: from deeprooted.net ([216.254.16.51]:34991 "EHLO paris.internal.net")
	by vger.kernel.org with ESMTP id S932091AbWGKTHS (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Tue, 11 Jul 2006 15:07:18 -0400
Subject: kbuild, kconfig: forcing values from existing .config
From: Kevin Hilman <khilman@deeprooted.net>
To: Roman Zippel <zippel@linux-m68k.org>
Cc: linux-kernel@vger.kernel.org
Content-Type: text/plain
Organization: Deep Root Systems
Date: Tue, 11 Jul 2006 14:07:17 -0500
Message-Id: <1152644837.12527.42.camel@vence.internal.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
Sender: linux-kernel-owner@vger.kernel.org
X-Mailing-List: linux-kernel@vger.kernel.org

I'm looking for the right way to override the settings of an existing
default .config.  Starting from an existing .config (e.g. generated by a
'make defconfig')  I need an automated way of changing specific config
values in order to build a handful of variants based on the same
original .config.

On earlier kernels, I used to just append to the .config, and run 'make
oldconfig' and the appended values would override the existing ones.
This no longer works as 'make oldconfig' now ignores duplicate values.

The allyesconfig/allmodconfig/allnoconfig/randconfig targets allow you
to specify a file containing forced values, but this starts from a clean
slate.  I need this same ability to force specific values, but to use an
existing .config as the starting point instead.

Is there currently a way to do this?  If so, I can't seem to figure out
how.

Kevin



